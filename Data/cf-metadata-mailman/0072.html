<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF convention for vector quantities from Bert Jagers on 2006-03-20 (cf-metadata-mailman)</title>
<meta name="Author" content="Bert Jagers (Bert.Jagers)" />
<meta name="Subject" content="[CF-metadata] CF convention for vector quantities" />
<meta name="Date" content="2006-03-20" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./0071.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0073.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF convention for vector quantities</h1>
<!-- received="Mon Mar 20 01:24:44 2006" -->
<!-- isoreceived="20060320012444" -->
<!-- sent="Mon, 20 Mar 2006 09:24:44 +0100" -->
<!-- isosent="20060320082444" -->
<!-- name="Bert Jagers" -->
<!-- email="Bert.Jagers" -->
<!-- subject="[CF-metadata] CF convention for vector quantities" -->
<!-- id="003101c64bf7$becc4060$ebe20991_at_wl06377" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20060319194014.GA393_at_met.reading.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start72" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./0073.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] change_in&quot;">Next message</a> ]
[ <a href="./0071.html" title="Bryan Lawrence: &quot;[CF-metadata] change_in&quot;">Previous message</a> ]
[ <a href="./0067.html" title="Jonathan Gregory: &quot;[CF-metadata] CF convention for vector quantities&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg72" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg72" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg72" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg72" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Bert Jagers &lt;<a href="mailto:Bert.Jagers?Subject=Re%3A%20%5BCF-metadata%5D%20CF%20convention%20for%20vector%20quantities">Bert.Jagers</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 20 Mar 2006 09:24:44 +0100</span><br />
</address>
<br />
Dear Jonathan,
<br />
<br />Thank you for your reply.
<br />
<br /><em class="quotelev2">&gt; &gt; &quot;eastward_sea_water_velocity&quot; and &quot;northward_sea_water_velocity&quot;
</em><br />
<em class="quotelev1">&gt; etc.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Unlike you, I think the association between pairs of quantities like this
</em><br />
is
<br />
<em class="quotelev1">&gt; something which should reside in your application that processes the data,
</em><br />
and
<br />
<em class="quotelev1">&gt; not in the data itself. This is for various reasons including
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; (1) The components are generally regarded as different variables in models
</em><br />
and
<br />
<em class="quotelev1">&gt; observational datasets. They are not always present in the same file. We
</em><br />
can't
<br />
<em class="quotelev1">&gt; therefore introduce a general sea_water_velocity with the components as a
</em><br />
<em class="quotelev1">&gt; dimension. This might sometimes work, but much data already exists which
</em><br />
is not
<br />
<em class="quotelev1">&gt; written in this way, and data would continue to be written with components
</em><br />
<em class="quotelev1">&gt; separated anyway. Hence your software could not depend on the association
</em><br />
being
<br />
<em class="quotelev1">&gt; done for you in the file. You'd always need the ability to make the
</em><br />
<em class="quotelev1">&gt; association yourself. If you have that ability, you can always use it.
</em><br />
<br />I agree that there will be a large base of legacy files without the
<br />
attributes to indicate that component together form a vector quantity.
<br />
However, that does not mean that we shouldn't introduce some preferred
<br />
approach. Of course, always combining components together manually is an
<br />
option, but not user friendly if you need to draw vector plots on a regular
<br />
basis. I don't want to be asked everytime what components I want to combine
<br />
into a vector plot. So, you'll probably say: use a scripting or programming
<br />
language to do the standardised plotting. That is definitely an option
<br />
during the development phase of software, or for automatic reporting on the
<br />
results of operational models. However, for interactive inspection of data
<br />
from different sources that is a less favourable approach. In such cases,
<br />
little more than the automatic recognition of the quantities could be
<br />
programmed. And that is just what I want to do. You could say: use
<br />
conventions of your own. I don't like that, because then I would still be
<br />
faced with all kinds of application specific conventions if the program is
<br />
to be used for similar yet different simulation software that all advertise
<br />
as writing out netCDF files according to CF conventions.
<br />
<br /><em class="quotelev1">&gt; (2) The variables are systematically named already. You can derive an
</em><br />
northward
<br />
<em class="quotelev1">&gt; from a eastward name easily, for instance, with s/eastward/northward/. One
</em><br />
<em class="quotelev1">&gt; solution might be for your program to expect the user to specify the
</em><br />
vector
<br />
<em class="quotelev1">&gt; quantity by the name of either of its components rather than generically.
</em><br />
<br />My program works the other way around. You select a quantity and then you
<br />
press plot, instead of saying I want to plot a vector and this is my first
<br />
component and optionally a second component. Of course the user is also able
<br />
to compose a vector quantity of any two arbitrary scalar quantities. I just
<br />
don't like to force the user into using the latter approach for all vector
<br />
quantities from netCDF files in general.
<br />
<br /><em class="quotelev1">&gt; (3) Although the association between horizontal components of vectors is a
</em><br />
<em class="quotelev1">&gt; common association that has to be made, it's by no means the only one, so
</em><br />
I'd
<br />
<em class="quotelev1">&gt; argue it's not appropriate to make it a special case. Why should we not
</em><br />
also
<br />
<em class="quotelev1">&gt; want to include the vertical component of a vector too?
</em><br />
<br />Yes, vertical component should also be possible, of course. However, the
<br />
vertical name is not a trivial permutation of the horizontal names as
<br />
indicated by:
<br />
<br />eastward_wind
<br />
northward_wind
<br />
upward_air_velocity
<br />
<br /><em class="quotelev1">&gt; Should we require stresses always to be supplied as 6- or 9-component
</em><br />
tensors?
<br />
<em class="quotelev1">&gt; Should we require that large_scale and convective precipitation be stored
</em><br />
together?
<br />
<br />Sorry, I don't think that I said anything about requiring files to define
<br />
vector quantities. Just thought that having some standardised way for
<br />
specifying that variables have a special relationship (in some sense similar
<br />
to the definition of vertical coordinate systems) would be useful. So, yes
<br />
that would also apply for tensors and maybe other quantities. However, it
<br />
should be optional, but in such a case relationships would not be
<br />
automatically be detected.
<br />
<br /><em class="quotelev2">&gt; &gt; two other issues are related to this question:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; A) Distinction between components in east and north direction and
</em><br />
components
<br />
<em class="quotelev2">&gt; &gt; in the two grid directions: in which direction are the two components
</em><br />
<em class="quotelev2">&gt; &gt; defined? It seems that &quot;sea_water_x_velocity&quot; and &quot;sea_water_y_velocity&quot;
</em><br />
are
<br />
<em class="quotelev2">&gt; &gt; used for components in the grid direction although in local coordinate
</em><br />
<em class="quotelev2">&gt; &gt; systems x and y are generally associated with the two main coordinate
</em><br />
<em class="quotelev2">&gt; &gt; directions whereas the grid may be curvilinear. Most likely
</em><br />
<em class="quotelev2">&gt; &gt; &quot;direction_of_sea_water_velocity&quot; and &quot;sea_water_speed&quot; should form
</em><br />
together
<br />
<em class="quotelev2">&gt; &gt; a vector quantity. Central question: which types of vector components
</em><br />
are
<br />
<em class="quotelev2">&gt; &gt; needed?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; You're right, a vector might be represented as (eastward,northward), (x,y)
</em><br />
or
<br />
<em class="quotelev1">&gt; (direction,speed). All of these are acceptable and might be in a file
</em><br />
together.
<br />
<em class="quotelev1">&gt; I don't think that presents a difficulty - do you?
</em><br />
<br />No, I don't have any problem with these definitions; they all have their
<br />
advantages. However, why is it
<br />
<br />eastward_sea_water_velocity
<br />
northward_sea_water_velocity
<br />
(component naming at the start of the names)
<br />
<br />sea_water_x_velocity
<br />
sea_water_y_velocity
<br />
(component naming at the end of the names)
<br />
<br />sea_water_speed
<br />
direction_of_sea_water_velocity
<br />
(component naming mixed at start and end of the names)
<br />
<br />They all combine with &quot;upward_sea_water_velocity&quot; as the vertical velocity
<br />
component. By the way, are these eularian or lagrangian velocities to be
<br />
precise? I.e. is the Stokes drift of waves included?
<br />
<br /><em class="quotelev2">&gt; &gt; B) Staggering of data. The ROMS and Delft3D applications that we are
</em><br />
looking
<br />
<em class="quotelev2">&gt; &gt; at work both with staggered numerical schemes. So, in fact the two
</em><br />
velocity
<br />
<em class="quotelev2">&gt; &gt; components are provided at two different location sets. Before we can
</em><br />
deal
<br />
<em class="quotelev2">&gt; &gt; with these vector quantities correctly we need some standardization on
</em><br />
<em class="quotelev2">&gt; &gt; staggered data. I know there have been some preliminary discussions on
</em><br />
this
<br />
<em class="quotelev2">&gt; &gt; matter in the context of CF2, but what is a realistic time schedule for
</em><br />
<em class="quotelev2">&gt; &gt; these discussions to continue and settle?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; There are two timescales: (1) a few months for deciding the future
</em><br />
governance
<br />
<em class="quotelev1">&gt; arrangements of CF. (2) finding time to do the thinking and make a
</em><br />
complete
<br />
<em class="quotelev1">&gt; proposal. That depends on people volunteering to do it.
</em><br />
<br />I am  very interested in these developments if they set new standards within
<br />
a reasonable period and the more so if they have a relation with the ESMF
<br />
framework concepts and the XMDF format of USACE that have set standards for
<br />
staggered and unstructured grids. ...
<br />
<br />Best regards,
<br />
<br />Bert
<br />
<span id="received"><dfn>Received on</dfn> Mon Mar 20 2006 - 01:24:44 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start72">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./0073.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] change_in"</a></li>
<li><dfn>Previous message</dfn>: <a href="./0071.html" title="Previous message in the list">Bryan Lawrence: "[CF-metadata] change_in"</a></li>
<li><dfn>In reply to</dfn>: <a href="./0067.html" title="Message to which this message replies">Jonathan Gregory: "[CF-metadata] CF convention for vector quantities"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg72" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg72" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg72" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg72" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:56:43 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./0071.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0073.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
