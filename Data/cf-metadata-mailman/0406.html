<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF and multi-forecast system ensemble data from Steve Hankin on 2006-11-10 (cf-metadata-mailman)</title>
<meta name="Author" content="Steve Hankin (Steven.C.Hankin)" />
<meta name="Subject" content="[CF-metadata] CF and multi-forecast system ensemble data" />
<meta name="Date" content="2006-11-10" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./0405.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0407.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF and multi-forecast system ensemble data</h1>
<!-- received="Thu Nov  9 21:33:37 2006" -->
<!-- isoreceived="20061109213337" -->
<!-- sent="Thu, 09 Nov 2006 20:33:37 -0800" -->
<!-- isosent="20061110043337" -->
<!-- name="Steve Hankin" -->
<!-- email="Steven.C.Hankin" -->
<!-- subject="[CF-metadata] CF and multi-forecast system ensemble data" -->
<!-- id="45540121.3090309_at_noaa.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="1162484397.16228.123.camel_at_eld408.desktop.frd.metoffice.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start406" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./0407.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] CF and multi-forecast system ensemble data&quot;">Next message</a> ]
[ <a href="./0405.html" title="Simon Wood: &quot;[CF-metadata] Is it possible to associate different attribute values with different array elements?&quot;">Previous message</a> ]
[ <a href="./0397.html" title="Kettleborough, Jamie: &quot;[CF-metadata] CF and multi-forecast system ensemble data&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./0391.html" accesskey="t" title="Jennifer M. Adams: &quot;[CF-metadata] CF and multi-forecast system ensemble data&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg406" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg406" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg406" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg406" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Steve Hankin &lt;<a href="mailto:Steven.C.Hankin?Subject=Re%3A%20%5BCF-metadata%5D%20CF%20and%20multi-forecast%20system%20ensemble%20data">Steven.C.Hankin</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 09 Nov 2006 20:33:37 -0800</span><br />
</address>
<br />
Hi Jamie et. al.,
<br />
<br />Continuing this long thread ...
<br />
(aside: This thread may be a good guinea pig to use as a first &quot;issue&quot; 
<br />
to track with the CF Trac system at PCMDI.). 
<br />
<br />Bryan Lawrence and I had a chance to talk this over at some length at a 
<br />
meeting earlier this week.  Below I'll use the term &quot;ensemble&quot; in the 
<br />
usual way and the term &quot;forecast collection&quot; to refer to the series of 
<br />
outputs generated as successive forecast model runs occur.  The high 
<br />
points of what Bryan and I agreed on were:
<br />
<br />&nbsp;&nbsp;&nbsp;1. Use a 5th dimension for the ensemble elements:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The benefits of using an extra netCDF dimension to capture the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;semantics of the &quot;ensemble&quot; were probably sufficient to justify
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the cost (to software developers and interoperability).  This
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argues for the use of a fifth dimension: (realization,z,y,x) as
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outlined in earlier emails.
<br />
&nbsp;&nbsp;&nbsp;2. Do not use an additional dimension for the forecast_run_date sequence
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The benefits of using an extra netCDF dimension to capture the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;semantics of the &quot;forecast collection&quot; do not seem to justify the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cost (to software developers and interoperability) and a good
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alternative is available.  This argues against the use of a sixth
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dimension (realization,model_run_time,forecasted_offset,z,y,x).
<br />
<br />Bryan's reasons for rejecting the use of an additional dimension to 
<br />
capture the forecast collection may differ from mine.  Here are three 
<br />
arguments I would give for rejecting it.  Individually any of them might 
<br />
or might not carry the day, but I think they make a compelling argument 
<br />
collectively :
<br />
<br />&nbsp;&nbsp;&nbsp;1. Forecast aggregations are not good candidates to put into a &quot;file&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The forecast collection has a slippery character that doesn't map
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onto the semantics of a netCDF dimension in the normal way.  The
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proposed 6th dimension is really a stream, rather than fixed
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;length arrays.  Each (say) 6 hours a new forecast model series is
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produced.  Typically a forecast collection that is served on-line
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is limited in duration by the amount of spinning disk storage; a
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixed number of forecasts are kept on line with new forecasts
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continually added and the oldest forecasts dropped.  All of this
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does not map well onto a &quot;file&quot; as a unit of storage.  The
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forecast collection is more naturally some form of multi-file
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggregation where external metadata are needed to glue it together.
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Another very significant benefit of using an aggregation technique
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is that files of other formats, say GRIB, may be similarly
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggregated and served through OPeNDAP (typically not fully
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transparent wrt netCDF CF files, but often good enough).
<br />
<br />&nbsp;&nbsp;&nbsp;2. There is no articulated requirement for a true two-dimensional
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;approach to the dual time axis -- model_run_time X
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forecasted_date.  Instead there are three known one-dimensional
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths of interest through this 2D space:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. time series of forecasted_dates at a fixed model_run_time
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. time series of model_run_time at a fixed offset on the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forecasted_dates axis
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3. time series of successively closer forecasts of a fixed time
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endpoint (the Z48,Z36,Z24,Z12,Z0 sequence of increasingly
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;realistic forecasted fields)
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Granted that there might be something interesting to be
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;learned by looking at a 2D contour plot of forecasted_offset
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vs model_run_date.  But is this a requirement that drives us?
<br />
<br />&nbsp;&nbsp;&nbsp;3. There is already (BETA) software that creates the three types of
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggregations described in number 2 just above from netCDF files
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and serves it through OPeNDAP.  Maybe through the Java netCDF API,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;too ... not sure. It should be tested and evaluated for the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completeness (or not) of the solution that it provides, before
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modifications to CF are considered.  I've attached John Caron's
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;announcement of this Sept. 6.  There's also a spec for the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forecast aggregation capabilities somewhere.  My link to this
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document is dead, but I imagine that John Caron has it somewhere.
<br />
<br />&nbsp;&nbsp;&nbsp;- Steve
<br />
<br />========================
<br />
<br />Kettleborough, Jamie wrote:
<br />
<em class="quotelev1">&gt; Hello Steve,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I appreciate your concerns on stability and the required complexity for
</em><br />
<em class="quotelev1">&gt; CF interpreting code - but I think there is a danger in this case that
</em><br />
<em class="quotelev1">&gt; if we don't accommodate ensembles in the right way then we are limiting
</em><br />
<em class="quotelev1">&gt; CF's applicability to forecasts (operational or climate).
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Yes I agree ensemble is not a coordinate in the same sense as time or
</em><br />
<em class="quotelev1">&gt; space - there is no obvious unique label or metric.  But I think it
</em><br />
<em class="quotelev1">&gt; makes a lot of sense to treat it as a coordinate/dimension - it
</em><br />
<em class="quotelev1">&gt; facilitates using the data to make probabilistic forecasts.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Could we live with the grouping approach - literally we could - but I
</em><br />
<em class="quotelev1">&gt; don't think its the best way forward.  I think if you simply want to
</em><br />
<em class="quotelev1">&gt; compare output from different models then the grouping approach is
</em><br />
<em class="quotelev1">&gt; probably OK, but I think we are moving beyond that kind of analysis (and
</em><br />
<em class="quotelev1">&gt; operational forecasting is probably ahead of climate from this point of
</em><br />
<em class="quotelev1">&gt; view) to an analysis where the _the ensemble is the forecast entity_,
</em><br />
<em class="quotelev1">&gt; not the individual model.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; So I think if you want your analysis tool to be useful in the
</em><br />
<em class="quotelev1">&gt; forecasting context then there is development effort needed here however
</em><br />
<em class="quotelev1">&gt; we represent ensembles on disk (and from what Jennifer has said this
</em><br />
<em class="quotelev1">&gt; work is already underway in GRADS).  (Of course there are many
</em><br />
<em class="quotelev1">&gt; applications where forecast isn't the be all and end all and you can say
</em><br />
<em class="quotelev1">&gt; your analysis tool is made for this set of applications, not
</em><br />
<em class="quotelev1">&gt; forecasting).  As Bryan pointed out CF is not intrinsically 4D - it is
</em><br />
<em class="quotelev1">&gt; just it currently makes the space and time dims special.  Shouldn't CF-
</em><br />
<em class="quotelev1">&gt; aware applications be able to deal with arbitrary dimensionality?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I also suspect for large ensembles (100+ members?) the grouping approach
</em><br />
<em class="quotelev1">&gt; could be inefficient I/O wise.  But I haven't had chance to play with
</em><br />
<em class="quotelev1">&gt; NetCDF4 yet so I could be wrong.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I think the current situation with this is
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 1) should we use grouping or dimensions for ensembles (I think dimension
</em><br />
<em class="quotelev1">&gt; is what we currently have)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 2) How do we label ensemble meta data?
</em><br />
<em class="quotelev1">&gt;   a) standard_names, or
</em><br />
<em class="quotelev1">&gt;   b) external_dictionary
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I think either could work - though external_dictionary seems to give
</em><br />
<em class="quotelev1">&gt; more scope for coping with different levels of meta data you might
</em><br />
<em class="quotelev1">&gt; choose to associate with ensembles.  And it preserves the general
</em><br />
<em class="quotelev1">&gt; applicability of the vague names like 'source' as global attributes etc.
</em><br />
<em class="quotelev1">&gt; (sorry this statement assumes context knowledge of the rest of this
</em><br />
<em class="quotelev1">&gt; thread).  (are there other implications of accepting
</em><br />
<em class="quotelev1">&gt; external_dictionary?)  Single model files would need to include the meta
</em><br />
<em class="quotelev1">&gt; data coordinates as singleton dimensions - but I think that is OK. I
</em><br />
<em class="quotelev1">&gt; _think_ this also makes aggregation along realization more like
</em><br />
<em class="quotelev1">&gt; aggregation along time or level. 
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 3) Is there any common ground for ensembles meta data (across
</em><br />
<em class="quotelev1">&gt; forecastetc. timescales) that we can standardise?  i.e. return to Paco's
</em><br />
<em class="quotelev1">&gt; list.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 4) Would CF act as the standard body for these - or should we be
</em><br />
<em class="quotelev1">&gt; lobbying for someone else to do it?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; (Have I missed anything in my eagerness to try and keep this thread
</em><br />
<em class="quotelev1">&gt; moving?)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jamie
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On Wed, 2006-11-01 at 09:26 -0800, Steve Hankin wrote:
</em><br />
<em class="quotelev1">&gt;   
</em><br />
<em class="quotelev2">&gt;&gt; Bryan Lawrence wrote: 
</em><br />
<em class="quotelev2">&gt;&gt;     
</em><br />
<em class="quotelev3">&gt;&gt;&gt; On Tue, 2006-10-31 at 09:32 -0800, Steve Hankin wrote:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Like others I've watched this email thread grow like Topsy, wondering
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; if I would find the time to read it ... But the discussion topic seems
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; big enough to warrant a fair amount of rough and tumble.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Absolutely. Bring it on :-) :-)
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; With regard to the stability of CF and long term evolution, that's
</em><br />
<em class="quotelev3">&gt;&gt;&gt; what's behind my wanting to separate maintaining descriptions of the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; quantities measured/predicted from the descriptions of how/why it was
</em><br />
<em class="quotelev3">&gt;&gt;&gt; done. It's also why I want just one way of doing it, not one that is
</em><br />
<em class="quotelev3">&gt;&gt;&gt; specially optimized for numerical models per se, and not of wider
</em><br />
<em class="quotelev3">&gt;&gt;&gt; applicability.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; OK.  Enuf preamble.  In a nutshell, the new proposed structures seem
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; to capture the semantics of the various collections of model outputs
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; -- ensembles and forecast collections -- through the addition of new
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; dimensions.  In the most extreme case this dimension list might become
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; (realization,forecast_reference_time,forecast_period,lev,lat,lon).
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; I'd pose two questions:
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;      1. Will this approach break existing CF applications?  If yes, is
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         that a red flag to consider other options?
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         
</em><br />
<em class="quotelev3">&gt;&gt;&gt; I don't believe there is any restriction on number of dimensions in CF,
</em><br />
<em class="quotelev3">&gt;&gt;&gt; so while it may not be pretty, it seems ok to me.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;      1. Is this the same approach that we would take if we already had
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         netCDF 4?  If no, is that a red flag that we should give more
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         thought to the long-term stability of the standard?
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Let's not think about netCDF4 immediately :-) One of the other things we
</em><br />
<em class="quotelev3">&gt;&gt;&gt; discussed was trying to divorce the content standard from the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; implementation standard ...
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev2">&gt;&gt; Bryan,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Let me start by saying with full sincerity that I am not arguing for
</em><br />
<em class="quotelev2">&gt;&gt; any particular conclusion.  I see major trade-offs to both options --
</em><br />
<em class="quotelev2">&gt;&gt; adding new dimensions and juggling external metadata.  But ...
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; With very little discussion (just above -- granting there are elements
</em><br />
<em class="quotelev2">&gt;&gt; added below) you have waved away the type of questions that I'd argue
</em><br />
<em class="quotelev2">&gt;&gt; we need to ask ourselves continuously.  Standards are always about
</em><br />
<em class="quotelev2">&gt;&gt; making compromises.  It is right to begin with the approach you are
</em><br />
<em class="quotelev2">&gt;&gt; insisting on -- divorce the abstract understanding of the problem from
</em><br />
<em class="quotelev2">&gt;&gt; the messy technology.  But the next step has to be to ask what the
</em><br />
<em class="quotelev2">&gt;&gt; undesirable impacts of your choices might be.  And then to make
</em><br />
<em class="quotelev2">&gt;&gt; changes to your thinking and accept compromises.  Without stability CF
</em><br />
<em class="quotelev2">&gt;&gt; is not a standard at all.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Regarding no. 1 -- the choice to utilize a 5 or 6 D encoding -- the
</em><br />
<em class="quotelev2">&gt;&gt; consequence will be the the great majority of existing applications
</em><br />
<em class="quotelev2">&gt;&gt; will be unable to read the new files at all without significant
</em><br />
<em class="quotelev2">&gt;&gt; modifications.  Inside of those new files will be 4D subsets that
</em><br />
<em class="quotelev2">&gt;&gt; represent the current &quot;CF nut&quot; -- objects that the applications can
</em><br />
<em class="quotelev2">&gt;&gt; currently read.  So we have a large net loss of interoperability until
</em><br />
<em class="quotelev2">&gt;&gt; additional investments are made in software across our community.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Regarding no. 2 -- the CF community is not more than 2 years from
</em><br />
<em class="quotelev2">&gt;&gt; where discussions of netCDF 4 will occupy a significant part of our
</em><br />
<em class="quotelev2">&gt;&gt; time and energy (off the cuff estimate).  So to propose concrete
</em><br />
<em class="quotelev2">&gt;&gt; changes today without fully considering how you would handle them in
</em><br />
<em class="quotelev2">&gt;&gt; netCDF 4, you are inviting two major sets of changes in as many years.
</em><br />
<em class="quotelev2">&gt;&gt; That's a very low standard of stability.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; So what are the compromises to be looked at?  How would your data
</em><br />
<em class="quotelev2">&gt;&gt; modeling of ensembles and forecasts look different if you think in
</em><br />
<em class="quotelev2">&gt;&gt; terms of dimensions (an array of identical objects) versus
</em><br />
<em class="quotelev2">&gt;&gt; &quot;groups&quot; (unordered lists which may have heterogeneous contents) ?
</em><br />
<em class="quotelev2">&gt;&gt; The former is a more perfect fit to the concepts -- the latter is a
</em><br />
<em class="quotelev2">&gt;&gt; more general structure that fully embraces the needed concepts.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; The question is how great are the negative impacts in stability and
</em><br />
<em class="quotelev2">&gt;&gt; interoperability that you are willing to accept in order to work with
</em><br />
<em class="quotelev2">&gt;&gt; the more perfect data model?   This is a balancing question where the
</em><br />
<em class="quotelev2">&gt;&gt; &quot;abstract data modeler&quot; view represents one of the polarized
</em><br />
<em class="quotelev2">&gt;&gt; positions.  The entire substance of your arguments so far seems to
</em><br />
<em class="quotelev2">&gt;&gt; come from this viewpoint.  We acknowledge that CF discussions have not
</em><br />
<em class="quotelev2">&gt;&gt; found a balance between provider and user viewpoints in the past.
</em><br />
<em class="quotelev2">&gt;&gt; How do we improve upon that?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     - Steve
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     
</em><br />
<em class="quotelev3">&gt;&gt;&gt; But your substantive point is fair enough, is there a cleaner way to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; think about this ...?
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Particularly from the point of view that a set of simulations comprising
</em><br />
<em class="quotelev3">&gt;&gt;&gt; a forecast IS THE forecast (singular), then I think at least
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (realization,t,z,y,x) is inescapable. I don't like the other example
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (realization,ref_time,period,z,y,x), but accept that it may well be
</em><br />
<em class="quotelev3">&gt;&gt;&gt; the natural output of a set of aggregations. Is it not what Thredds
</em><br />
<em class="quotelev3">&gt;&gt;&gt; would deliver anyway from an aggregation? Which brings me to my last
</em><br />
<em class="quotelev3">&gt;&gt;&gt; point:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; As far as Thredds as a stop-gap solution goes. I think we need to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; divorce how we interact with the data from how we manage it
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (particularly for posterity). There is no way that I'm going to rely on
</em><br />
<em class="quotelev3">&gt;&gt;&gt; ANY *interface* to preserve information content, so what you're really
</em><br />
<em class="quotelev3">&gt;&gt;&gt; saying is that you want to rely on metadata held externally from the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; files (whether Thredds or not). To some extent that's inescapable (which
</em><br />
<em class="quotelev3">&gt;&gt;&gt; was one of my points in an earlier email), but we want to stick to the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; requirement that CF can differentiate data (if not fully describe all
</em><br />
<em class="quotelev3">&gt;&gt;&gt; the ancillary information) ... and for forecast ensembles (and station
</em><br />
<em class="quotelev3">&gt;&gt;&gt; data) there is a need for some extra information over and above the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; index value in a &quot;special&quot; dimension. It's that information we need to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; get into the CF content standard.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Also, from an operational perspective, ok, so maybe I can use Thredds or
</em><br />
<em class="quotelev3">&gt;&gt;&gt; any interface to get some data, but then I've got it. What then? The
</em><br />
<em class="quotelev3">&gt;&gt;&gt; content standard has to tell me what's in it, so we're back to CF and
</em><br />
<em class="quotelev3">&gt;&gt;&gt; possibly pointers to external metadata.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (Wrt netcdf4: I see groups as being more useful for aggregating things
</em><br />
<em class="quotelev3">&gt;&gt;&gt; that don't share common dimensionality)
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Cheers
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Bryan
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev2">&gt;&gt; -- 
</em><br />
<em class="quotelev2">&gt;&gt; --
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Steve Hankin, NOAA/PMEL -- Steven.C.Hankin at noaa.gov
</em><br />
<em class="quotelev2">&gt;&gt; 7600 Sand Point Way NE, Seattle, WA 98115-0070
</em><br />
<em class="quotelev2">&gt;&gt; ph. (206) 526-6080, FAX (206) 526-6744
</em><br />
<em class="quotelev2">&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; <a href="http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt;&gt;     
</em><br />
<br /><br />Kettleborough, Jamie wrote:
<br />
<em class="quotelev1">&gt; Hello Steve,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I appreciate your concerns on stability and the required complexity for
</em><br />
<em class="quotelev1">&gt; CF interpreting code - but I think there is a danger in this case that
</em><br />
<em class="quotelev1">&gt; if we don't accommodate ensembles in the right way then we are limiting
</em><br />
<em class="quotelev1">&gt; CF's applicability to forecasts (operational or climate).
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Yes I agree ensemble is not a coordinate in the same sense as time or
</em><br />
<em class="quotelev1">&gt; space - there is no obvious unique label or metric.  But I think it
</em><br />
<em class="quotelev1">&gt; makes a lot of sense to treat it as a coordinate/dimension - it
</em><br />
<em class="quotelev1">&gt; facilitates using the data to make probabilistic forecasts.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Could we live with the grouping approach - literally we could - but I
</em><br />
<em class="quotelev1">&gt; don't think its the best way forward.  I think if you simply want to
</em><br />
<em class="quotelev1">&gt; compare output from different models then the grouping approach is
</em><br />
<em class="quotelev1">&gt; probably OK, but I think we are moving beyond that kind of analysis (and
</em><br />
<em class="quotelev1">&gt; operational forecasting is probably ahead of climate from this point of
</em><br />
<em class="quotelev1">&gt; view) to an analysis where the _the ensemble is the forecast entity_,
</em><br />
<em class="quotelev1">&gt; not the individual model.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; So I think if you want your analysis tool to be useful in the
</em><br />
<em class="quotelev1">&gt; forecasting context then there is development effort needed here however
</em><br />
<em class="quotelev1">&gt; we represent ensembles on disk (and from what Jennifer has said this
</em><br />
<em class="quotelev1">&gt; work is already underway in GRADS).  (Of course there are many
</em><br />
<em class="quotelev1">&gt; applications where forecast isn't the be all and end all and you can say
</em><br />
<em class="quotelev1">&gt; your analysis tool is made for this set of applications, not
</em><br />
<em class="quotelev1">&gt; forecasting).  As Bryan pointed out CF is not intrinsically 4D - it is
</em><br />
<em class="quotelev1">&gt; just it currently makes the space and time dims special.  Shouldn't CF-
</em><br />
<em class="quotelev1">&gt; aware applications be able to deal with arbitrary dimensionality?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I also suspect for large ensembles (100+ members?) the grouping approach
</em><br />
<em class="quotelev1">&gt; could be inefficient I/O wise.  But I haven't had chance to play with
</em><br />
<em class="quotelev1">&gt; NetCDF4 yet so I could be wrong.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I think the current situation with this is
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 1) should we use grouping or dimensions for ensembles (I think dimension
</em><br />
<em class="quotelev1">&gt; is what we currently have)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 2) How do we label ensemble meta data?
</em><br />
<em class="quotelev1">&gt;   a) standard_names, or
</em><br />
<em class="quotelev1">&gt;   b) external_dictionary
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I think either could work - though external_dictionary seems to give
</em><br />
<em class="quotelev1">&gt; more scope for coping with different levels of meta data you might
</em><br />
<em class="quotelev1">&gt; choose to associate with ensembles.  And it preserves the general
</em><br />
<em class="quotelev1">&gt; applicability of the vague names like 'source' as global attributes etc.
</em><br />
<em class="quotelev1">&gt; (sorry this statement assumes context knowledge of the rest of this
</em><br />
<em class="quotelev1">&gt; thread).  (are there other implications of accepting
</em><br />
<em class="quotelev1">&gt; external_dictionary?)  Single model files would need to include the meta
</em><br />
<em class="quotelev1">&gt; data coordinates as singleton dimensions - but I think that is OK. I
</em><br />
<em class="quotelev1">&gt; _think_ this also makes aggregation along realization more like
</em><br />
<em class="quotelev1">&gt; aggregation along time or level. 
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 3) Is there any common ground for ensembles meta data (across
</em><br />
<em class="quotelev1">&gt; forecastetc. timescales) that we can standardise?  i.e. return to Paco's
</em><br />
<em class="quotelev1">&gt; list.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 4) Would CF act as the standard body for these - or should we be
</em><br />
<em class="quotelev1">&gt; lobbying for someone else to do it?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; (Have I missed anything in my eagerness to try and keep this thread
</em><br />
<em class="quotelev1">&gt; moving?)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jamie
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On Wed, 2006-11-01 at 09:26 -0800, Steve Hankin wrote:
</em><br />
<em class="quotelev1">&gt;   
</em><br />
<em class="quotelev2">&gt;&gt; Bryan Lawrence wrote: 
</em><br />
<em class="quotelev2">&gt;&gt;     
</em><br />
<em class="quotelev3">&gt;&gt;&gt; On Tue, 2006-10-31 at 09:32 -0800, Steve Hankin wrote:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Like others I've watched this email thread grow like Topsy, wondering
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; if I would find the time to read it ... But the discussion topic seems
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; big enough to warrant a fair amount of rough and tumble.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Absolutely. Bring it on :-) :-)
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; With regard to the stability of CF and long term evolution, that's
</em><br />
<em class="quotelev3">&gt;&gt;&gt; what's behind my wanting to separate maintaining descriptions of the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; quantities measured/predicted from the descriptions of how/why it was
</em><br />
<em class="quotelev3">&gt;&gt;&gt; done. It's also why I want just one way of doing it, not one that is
</em><br />
<em class="quotelev3">&gt;&gt;&gt; specially optimized for numerical models per se, and not of wider
</em><br />
<em class="quotelev3">&gt;&gt;&gt; applicability.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; OK.  Enuf preamble.  In a nutshell, the new proposed structures seem
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; to capture the semantics of the various collections of model outputs
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; -- ensembles and forecast collections -- through the addition of new
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; dimensions.  In the most extreme case this dimension list might become
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; (realization,forecast_reference_time,forecast_period,lev,lat,lon).
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; I'd pose two questions:
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;      1. Will this approach break existing CF applications?  If yes, is
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         that a red flag to consider other options?
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         
</em><br />
<em class="quotelev3">&gt;&gt;&gt; I don't believe there is any restriction on number of dimensions in CF,
</em><br />
<em class="quotelev3">&gt;&gt;&gt; so while it may not be pretty, it seems ok to me.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;      1. Is this the same approach that we would take if we already had
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         netCDF 4?  If no, is that a red flag that we should give more
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         thought to the long-term stability of the standard?
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;         
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Let's not think about netCDF4 immediately :-) One of the other things we
</em><br />
<em class="quotelev3">&gt;&gt;&gt; discussed was trying to divorce the content standard from the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; implementation standard ...
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev2">&gt;&gt; Bryan,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Let me start by saying with full sincerity that I am not arguing for
</em><br />
<em class="quotelev2">&gt;&gt; any particular conclusion.  I see major trade-offs to both options --
</em><br />
<em class="quotelev2">&gt;&gt; adding new dimensions and juggling external metadata.  But ...
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; With very little discussion (just above -- granting there are elements
</em><br />
<em class="quotelev2">&gt;&gt; added below) you have waved away the type of questions that I'd argue
</em><br />
<em class="quotelev2">&gt;&gt; we need to ask ourselves continuously.  Standards are always about
</em><br />
<em class="quotelev2">&gt;&gt; making compromises.  It is right to begin with the approach you are
</em><br />
<em class="quotelev2">&gt;&gt; insisting on -- divorce the abstract understanding of the problem from
</em><br />
<em class="quotelev2">&gt;&gt; the messy technology.  But the next step has to be to ask what the
</em><br />
<em class="quotelev2">&gt;&gt; undesirable impacts of your choices might be.  And then to make
</em><br />
<em class="quotelev2">&gt;&gt; changes to your thinking and accept compromises.  Without stability CF
</em><br />
<em class="quotelev2">&gt;&gt; is not a standard at all.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Regarding no. 1 -- the choice to utilize a 5 or 6 D encoding -- the
</em><br />
<em class="quotelev2">&gt;&gt; consequence will be the the great majority of existing applications
</em><br />
<em class="quotelev2">&gt;&gt; will be unable to read the new files at all without significant
</em><br />
<em class="quotelev2">&gt;&gt; modifications.  Inside of those new files will be 4D subsets that
</em><br />
<em class="quotelev2">&gt;&gt; represent the current &quot;CF nut&quot; -- objects that the applications can
</em><br />
<em class="quotelev2">&gt;&gt; currently read.  So we have a large net loss of interoperability until
</em><br />
<em class="quotelev2">&gt;&gt; additional investments are made in software across our community.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Regarding no. 2 -- the CF community is not more than 2 years from
</em><br />
<em class="quotelev2">&gt;&gt; where discussions of netCDF 4 will occupy a significant part of our
</em><br />
<em class="quotelev2">&gt;&gt; time and energy (off the cuff estimate).  So to propose concrete
</em><br />
<em class="quotelev2">&gt;&gt; changes today without fully considering how you would handle them in
</em><br />
<em class="quotelev2">&gt;&gt; netCDF 4, you are inviting two major sets of changes in as many years.
</em><br />
<em class="quotelev2">&gt;&gt; That's a very low standard of stability.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; So what are the compromises to be looked at?  How would your data
</em><br />
<em class="quotelev2">&gt;&gt; modeling of ensembles and forecasts look different if you think in
</em><br />
<em class="quotelev2">&gt;&gt; terms of dimensions (an array of identical objects) versus
</em><br />
<em class="quotelev2">&gt;&gt; &quot;groups&quot; (unordered lists which may have heterogeneous contents) ?
</em><br />
<em class="quotelev2">&gt;&gt; The former is a more perfect fit to the concepts -- the latter is a
</em><br />
<em class="quotelev2">&gt;&gt; more general structure that fully embraces the needed concepts.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; The question is how great are the negative impacts in stability and
</em><br />
<em class="quotelev2">&gt;&gt; interoperability that you are willing to accept in order to work with
</em><br />
<em class="quotelev2">&gt;&gt; the more perfect data model?   This is a balancing question where the
</em><br />
<em class="quotelev2">&gt;&gt; &quot;abstract data modeler&quot; view represents one of the polarized
</em><br />
<em class="quotelev2">&gt;&gt; positions.  The entire substance of your arguments so far seems to
</em><br />
<em class="quotelev2">&gt;&gt; come from this viewpoint.  We acknowledge that CF discussions have not
</em><br />
<em class="quotelev2">&gt;&gt; found a balance between provider and user viewpoints in the past.
</em><br />
<em class="quotelev2">&gt;&gt; How do we improve upon that?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     - Steve
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     
</em><br />
<em class="quotelev3">&gt;&gt;&gt; But your substantive point is fair enough, is there a cleaner way to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; think about this ...?
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Particularly from the point of view that a set of simulations comprising
</em><br />
<em class="quotelev3">&gt;&gt;&gt; a forecast IS THE forecast (singular), then I think at least
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (realization,t,z,y,x) is inescapable. I don't like the other example
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (realization,ref_time,period,z,y,x), but accept that it may well be
</em><br />
<em class="quotelev3">&gt;&gt;&gt; the natural output of a set of aggregations. Is it not what Thredds
</em><br />
<em class="quotelev3">&gt;&gt;&gt; would deliver anyway from an aggregation? Which brings me to my last
</em><br />
<em class="quotelev3">&gt;&gt;&gt; point:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; As far as Thredds as a stop-gap solution goes. I think we need to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; divorce how we interact with the data from how we manage it
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (particularly for posterity). There is no way that I'm going to rely on
</em><br />
<em class="quotelev3">&gt;&gt;&gt; ANY *interface* to preserve information content, so what you're really
</em><br />
<em class="quotelev3">&gt;&gt;&gt; saying is that you want to rely on metadata held externally from the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; files (whether Thredds or not). To some extent that's inescapable (which
</em><br />
<em class="quotelev3">&gt;&gt;&gt; was one of my points in an earlier email), but we want to stick to the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; requirement that CF can differentiate data (if not fully describe all
</em><br />
<em class="quotelev3">&gt;&gt;&gt; the ancillary information) ... and for forecast ensembles (and station
</em><br />
<em class="quotelev3">&gt;&gt;&gt; data) there is a need for some extra information over and above the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; index value in a &quot;special&quot; dimension. It's that information we need to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; get into the CF content standard.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Also, from an operational perspective, ok, so maybe I can use Thredds or
</em><br />
<em class="quotelev3">&gt;&gt;&gt; any interface to get some data, but then I've got it. What then? The
</em><br />
<em class="quotelev3">&gt;&gt;&gt; content standard has to tell me what's in it, so we're back to CF and
</em><br />
<em class="quotelev3">&gt;&gt;&gt; possibly pointers to external metadata.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (Wrt netcdf4: I see groups as being more useful for aggregating things
</em><br />
<em class="quotelev3">&gt;&gt;&gt; that don't share common dimensionality)
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Cheers
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Bryan
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   
</em><br />
<em class="quotelev3">&gt;&gt;&gt;       
</em><br />
<em class="quotelev2">&gt;&gt; -- 
</em><br />
<em class="quotelev2">&gt;&gt; --
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Steve Hankin, NOAA/PMEL -- Steven.C.Hankin at noaa.gov
</em><br />
<em class="quotelev2">&gt;&gt; 7600 Sand Point Way NE, Seattle, WA 98115-0070
</em><br />
<em class="quotelev2">&gt;&gt; ph. (206) 526-6080, FAX (206) 526-6744
</em><br />
<em class="quotelev2">&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; <a href="http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt;&gt;     
</em><br />
<br /><pre>
-- 
--
Steve Hankin, NOAA/PMEL -- Steven.C.Hankin at noaa.gov
7600 Sand Point Way NE, Seattle, WA 98115-0070
ph. (206) 526-6080, FAX (206) 526-6744
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20061109/93a09c8d/attachment-0002.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20061109/93a09c8d/attachment-0002.html</a>&gt;
-------------- next part --------------
An embedded message was scrubbed...
From: John Caron &lt;caron at unidata.ucar.edu&gt;
Subject: announce experimental TDS feature: &quot;Forecast Model Run Collection&quot;
Date: Wed, 06 Sep 2006 17:25:50 -0600
Size: 3464
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20061109/93a09c8d/attachment.mht">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20061109/93a09c8d/attachment.mht</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Thu Nov 09 2006 - 21:33:37 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start406">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./0407.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] CF and multi-forecast system ensemble data"</a></li>
<li><dfn>Previous message</dfn>: <a href="./0405.html" title="Previous message in the list">Simon Wood: "[CF-metadata] Is it possible to associate different attribute values with different array elements?"</a></li>
<li><dfn>In reply to</dfn>: <a href="./0397.html" title="Message to which this message replies">Kettleborough, Jamie: "[CF-metadata] CF and multi-forecast system ensemble data"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./0391.html" title="Next message in this discussion thread">Jennifer M. Adams: "[CF-metadata] CF and multi-forecast system ensemble data"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg406" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg406" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg406" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg406" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:56:49 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./0405.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0407.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
