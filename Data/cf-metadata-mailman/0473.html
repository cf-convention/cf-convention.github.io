<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV from Brian Eaton on 2006-11-21 (cf-metadata-mailman)</title>
<meta name="Author" content="Brian Eaton (eaton)" />
<meta name="Subject" content="[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV" />
<meta name="Date" content="2006-11-21" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./0472.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0474.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV</h1>
<!-- received="Tue Nov 21 14:11:33 2006" -->
<!-- isoreceived="20061121141133" -->
<!-- sent="Tue, 21 Nov 2006 14:11:33 -0700" -->
<!-- isosent="20061121211133" -->
<!-- name="Brian Eaton" -->
<!-- email="eaton" -->
<!-- subject="[CF&ndash;metadata] CF&ndash;1.0 &ndash;&ndash; 7.1 Cell Boundaries and IDV" -->
<!-- id="20061121211132.GA11854_at_ucar.edu" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="456354EB.8000502_at_noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start473" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./0474.html" accesskey="d" title="Richard Gorman: &quot;[CF-metadata] axis attribute&quot;">Next message</a> ]
[ <a href="./0472.html" title="Mark Ohrenschall: &quot;[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV&quot;">Previous message</a> ]
[ <a href="./0472.html" title="Mark Ohrenschall: &quot;[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg473" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg473" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg473" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg473" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Brian Eaton &lt;<a href="mailto:eaton?Subject=Re%3A%20%5BCF-metadata%5D%20CF-1.0%20--%207.1%20Cell%20Boundaries%20and%20IDV">eaton</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 21 Nov 2006 14:11:33 -0700</span><br />
</address>
<br />
Hi Mark,
<br />
<br />Your use of the &quot;bounds&quot; attribute looks correct to me.  If the edges of
<br />
your plot are at the dateline and poles then I'd have to agree with you
<br />
that the bounds attribute info is apparently being ignored.
<br />
<br />Brian
<br />
<br /><br />On Tue, Nov 21, 2006 at 12:35:07PM -0700, Mark Ohrenschall wrote:
<br />
<em class="quotelev1">&gt; I think I'm writing a netCDF file using the CF-1.0 cell boundaries 
</em><br />
<em class="quotelev1">&gt; convention properly -- 
</em><br />
<em class="quotelev1">&gt; <a href="http://www.cgd.ucar.edu/cms/eaton/cf-metadata/CF-1.0.html#bnds">http://www.cgd.ucar.edu/cms/eaton/cf-metadata/CF-1.0.html#bnds</a> -- and 
</em><br />
<em class="quotelev1">&gt; I'd welcome any corrections or suggestions, but in particular my problem 
</em><br />
<em class="quotelev1">&gt; is that I'm finding that my data is not being displayed as I would 
</em><br />
<em class="quotelev1">&gt; expect it to be in the IDV.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; So I'm trying out for the first time using the CF-1.0 cell boundaries 
</em><br />
<em class="quotelev1">&gt; convention to signify that I have not a grid of point data, but a grid 
</em><br />
<em class="quotelev1">&gt; of &quot;cell averages&quot; -- actually, occurrences of measurements anywhere 
</em><br />
<em class="quotelev1">&gt; within a given grid cell. These are 5-degree grid cells whose boundaries 
</em><br />
<em class="quotelev1">&gt; align with +/- 180 and +/- 90 and all the intervening 5-degree 
</em><br />
<em class="quotelev1">&gt; increments, i.e., your typical, run-of-the-mill 5-degree grid.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Given that these data are not points at 5-degree intervals but areas 
</em><br />
<em class="quotelev1">&gt; that span 5-degrees in both latitude and longitude, I believe that it's 
</em><br />
<em class="quotelev1">&gt; essentially arbitrary what scheme I choose for setting the values in my 
</em><br />
<em class="quotelev1">&gt; latitude and longitude coordinate variables, e.g., -90, -85, -80, ..., 
</em><br />
<em class="quotelev1">&gt; 85 or -85, -80, -75, ..., 90 or -87.5, -82.5, -77.5, ..., 87.5 or 
</em><br />
<em class="quotelev1">&gt; whatever -- what's salient is what values I set for the bounds variables 
</em><br />
<em class="quotelev1">&gt; for each of latitude and longitude, i.e., the bounds variables must 
</em><br />
<em class="quotelev1">&gt; express the edge coordinates, which for latitude would be: -90, -85; 
</em><br />
<em class="quotelev1">&gt; -85, -80; -80, -75; ...; 80, 85; 85, 90.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Here's the ncdump:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; [mao at panther mao]$ ncdump -v latitude,lat_bnds test.nc 
</em><br />
<em class="quotelev1">&gt; netcdf test {
</em><br />
<em class="quotelev1">&gt; dimensions:
</em><br />
<em class="quotelev1">&gt;        obsdate = UNLIMITED ; // (52 currently)
</em><br />
<em class="quotelev1">&gt;        latitude = 36 ;
</em><br />
<em class="quotelev1">&gt;        longitude = 72 ;
</em><br />
<em class="quotelev1">&gt;        nv = 2 ;
</em><br />
<em class="quotelev1">&gt; variables:
</em><br />
<em class="quotelev1">&gt;        float latitude(latitude) ;
</em><br />
<em class="quotelev1">&gt;                latitude:bounds = &quot;lat_bnds&quot; ;
</em><br />
<em class="quotelev1">&gt;                latitude:standard_name = &quot;latitude&quot; ;
</em><br />
<em class="quotelev1">&gt;                latitude:long_name = &quot;Latitude&quot; ;
</em><br />
<em class="quotelev1">&gt;                latitude:units = &quot;degrees_north&quot; ;
</em><br />
<em class="quotelev1">&gt;                latitude:valid_range = -9000s, 9000s ;
</em><br />
<em class="quotelev1">&gt;                latitude:valid_min = -9000s ;
</em><br />
<em class="quotelev1">&gt;                latitude:valid_max = 9000s ;
</em><br />
<em class="quotelev1">&gt;        float lat_bnds(latitude, nv) ;
</em><br />
<em class="quotelev1">&gt;        float longitude(longitude) ;
</em><br />
<em class="quotelev1">&gt;                longitude:bounds = &quot;lon_bnds&quot; ;
</em><br />
<em class="quotelev1">&gt;                longitude:standard_name = &quot;longitude&quot; ;
</em><br />
<em class="quotelev1">&gt;                longitude:long_name = &quot;Longitude&quot; ;
</em><br />
<em class="quotelev1">&gt;                longitude:units = &quot;degrees_east&quot; ;
</em><br />
<em class="quotelev1">&gt;                longitude:valid_range = -18000s, 18000s ;
</em><br />
<em class="quotelev1">&gt;                longitude:valid_min = -18000s ;
</em><br />
<em class="quotelev1">&gt;                longitude:valid_max = 18000s ;
</em><br />
<em class="quotelev1">&gt;        float lon_bnds(longitude, nv) ;
</em><br />
<em class="quotelev1">&gt;        int obsdate(obsdate) ;
</em><br />
<em class="quotelev1">&gt;                obsdate:standard_name = &quot;obsdate&quot; ;
</em><br />
<em class="quotelev1">&gt;                obsdate:long_name = &quot;reference time&quot; ;
</em><br />
<em class="quotelev1">&gt;                obsdate:units = &quot;seconds since 1970-01-01 00:00:00 UTC&quot; ;
</em><br />
<em class="quotelev1">&gt;        short type_151(obsdate, latitude, longitude) ;
</em><br />
<em class="quotelev1">&gt;                type_151:_FillValue = 0s ;
</em><br />
<em class="quotelev1">&gt;                type_151:coordinates = &quot;latitude longitude obsdate&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_151:add_offset = 0.f ;
</em><br />
<em class="quotelev1">&gt;                type_151:scale_factor = 1.f ;
</em><br />
<em class="quotelev1">&gt;                type_151:standard_name = &quot;Type_151&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_151:long_name = &quot;Observation Type 151 counts in 
</em><br />
<em class="quotelev1">&gt;                5-degree squares&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_151:units = &quot;count&quot; ;
</em><br />
<em class="quotelev1">&gt;        short type_152(obsdate, latitude, longitude) ;
</em><br />
<em class="quotelev1">&gt;                type_152:_FillValue = 0s ;
</em><br />
<em class="quotelev1">&gt;                type_152:coordinates = &quot;latitude longitude obsdate&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_152:add_offset = 0.f ;
</em><br />
<em class="quotelev1">&gt;                type_152:scale_factor = 1.f ;
</em><br />
<em class="quotelev1">&gt;                type_152:standard_name = &quot;Type_152&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_152:long_name = &quot;Observation Type 152 counts in 
</em><br />
<em class="quotelev1">&gt;                5-degree squares&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_152:units = &quot;count&quot; ;
</em><br />
<em class="quotelev1">&gt;        short type_159(obsdate, latitude, longitude) ;
</em><br />
<em class="quotelev1">&gt;                type_159:_FillValue = 0s ;
</em><br />
<em class="quotelev1">&gt;                type_159:coordinates = &quot;latitude longitude obsdate&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_159:add_offset = 0.f ;
</em><br />
<em class="quotelev1">&gt;                type_159:scale_factor = 1.f ;
</em><br />
<em class="quotelev1">&gt;                type_159:standard_name = &quot;Type_159&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_159:long_name = &quot;Observation Type 159 counts in 
</em><br />
<em class="quotelev1">&gt;                5-degree squares&quot; ;
</em><br />
<em class="quotelev1">&gt;                type_159:units = &quot;count&quot; ;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; // global attributes:
</em><br />
<em class="quotelev1">&gt;                :Conventions = &quot;CF-1.0&quot; ;
</em><br />
<em class="quotelev1">&gt;                :title = &quot;Observation Type Counts for Five Degree Squares.&quot; ;
</em><br />
<em class="quotelev1">&gt;                :institution = &quot;NOAA National Environmental Satellite, Data 
</em><br />
<em class="quotelev1">&gt;                and Information Service&quot; ;
</em><br />
<em class="quotelev1">&gt;                :source = &quot;NOAA NESDIS Office of Satellite Data Processing 
</em><br />
<em class="quotelev1">&gt;                and Distribution&quot; ;
</em><br />
<em class="quotelev1">&gt;                :history = &quot;2006-11-21 11:57:07 -0700 Translated from test 
</em><br />
<em class="quotelev1">&gt;                into netCDF at NGDC&quot; ;
</em><br />
<em class="quotelev1">&gt;                :references = 
</em><br />
<em class="quotelev1">&gt;                &quot;<a href="http://www2.ncdc.noaa.gov/docs/klm/html/c9/sec91-2.htm">http://www2.ncdc.noaa.gov/docs/klm/html/c9/sec91-2.htm</a>&quot; ;
</em><br />
<em class="quotelev1">&gt;                :comment = &quot;Miscellaneous information about the data or 
</em><br />
<em class="quotelev1">&gt;                methods used to produce it.&quot; ;
</em><br />
<em class="quotelev1">&gt; data:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; latitude = -87.5, -82.5, -77.5, -72.5, -67.5, -62.5, -57.5, -52.5, -47.5,
</em><br />
<em class="quotelev1">&gt;    -42.5, -37.5, -32.5, -27.5, -22.5, -17.5, -12.5, -7.5, -2.5, 2.5, 7.5,
</em><br />
<em class="quotelev1">&gt;    12.5, 17.5, 22.5, 27.5, 32.5, 37.5, 42.5, 47.5, 52.5, 57.5, 62.5, 67.5,
</em><br />
<em class="quotelev1">&gt;    72.5, 77.5, 82.5, 87.5 ;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; lat_bnds =
</em><br />
<em class="quotelev1">&gt;  -90, -85,
</em><br />
<em class="quotelev1">&gt;  -85, -80,
</em><br />
<em class="quotelev1">&gt;  -80, -75,
</em><br />
<em class="quotelev1">&gt;  -75, -70,
</em><br />
<em class="quotelev1">&gt;  -70, -65,
</em><br />
<em class="quotelev1">&gt;  -65, -60,
</em><br />
<em class="quotelev1">&gt;  -60, -55,
</em><br />
<em class="quotelev1">&gt;  -55, -50,
</em><br />
<em class="quotelev1">&gt;  -50, -45,
</em><br />
<em class="quotelev1">&gt;  -45, -40,
</em><br />
<em class="quotelev1">&gt;  -40, -35,
</em><br />
<em class="quotelev1">&gt;  -35, -30,
</em><br />
<em class="quotelev1">&gt;  -30, -25,
</em><br />
<em class="quotelev1">&gt;  -25, -20,
</em><br />
<em class="quotelev1">&gt;  -20, -15,
</em><br />
<em class="quotelev1">&gt;  -15, -10,
</em><br />
<em class="quotelev1">&gt;  -10, -5,
</em><br />
<em class="quotelev1">&gt;  -5, 0,
</em><br />
<em class="quotelev1">&gt;  0, 5,
</em><br />
<em class="quotelev1">&gt;  5, 10,
</em><br />
<em class="quotelev1">&gt;  10, 15,
</em><br />
<em class="quotelev1">&gt;  15, 20,
</em><br />
<em class="quotelev1">&gt;  20, 25,
</em><br />
<em class="quotelev1">&gt;  25, 30,
</em><br />
<em class="quotelev1">&gt;  30, 35,
</em><br />
<em class="quotelev1">&gt;  35, 40,
</em><br />
<em class="quotelev1">&gt;  40, 45,
</em><br />
<em class="quotelev1">&gt;  45, 50,
</em><br />
<em class="quotelev1">&gt;  50, 55,
</em><br />
<em class="quotelev1">&gt;  55, 60,
</em><br />
<em class="quotelev1">&gt;  60, 65,
</em><br />
<em class="quotelev1">&gt;  65, 70,
</em><br />
<em class="quotelev1">&gt;  70, 75,
</em><br />
<em class="quotelev1">&gt;  75, 80,
</em><br />
<em class="quotelev1">&gt;  80, 85,
</em><br />
<em class="quotelev1">&gt;  85, 90 ;
</em><br />
<em class="quotelev1">&gt; }
</em><br />
<em class="quotelev1">&gt; [mao at panther mao]$
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I've also attached a captured image of this data as displayed in the 
</em><br />
<em class="quotelev1">&gt; IDV, with some diagonal marker values I added to the data in each of the 
</em><br />
<em class="quotelev1">&gt; four corners. It appears that the IDV is doing a couple things that make 
</em><br />
<em class="quotelev1">&gt; the display suspicious-looking: first, each marker grid cell in the 
</em><br />
<em class="quotelev1">&gt; extreme corners are being clipped to perhaps one-quarter their size 
</em><br />
<em class="quotelev1">&gt; (compared to their diagonally adjacent marker buddies); and second, the 
</em><br />
<em class="quotelev1">&gt; reference map of coastlines appears offset from the data, as if the IDV 
</em><br />
<em class="quotelev1">&gt; thinks that the geographic boundaries of the data are given by the 
</em><br />
<em class="quotelev1">&gt; latitude and longitude coordinate variables (which makes perfect sense 
</em><br />
<em class="quotelev1">&gt; for point data, but not for cell area data).
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Any thoughts or suggestions, or observations about anything I'm doing wrong?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Thanks *--* Mark
</em><br />
<br /><br /><em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<span id="received"><dfn>Received on</dfn> Tue Nov 21 2006 - 14:11:33 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start473">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./0474.html" title="Next message in the list">Richard Gorman: "[CF-metadata] axis attribute"</a></li>
<li><dfn>Previous message</dfn>: <a href="./0472.html" title="Previous message in the list">Mark Ohrenschall: "[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV"</a></li>
<li><dfn>In reply to</dfn>: <a href="./0472.html" title="Message to which this message replies">Mark Ohrenschall: "[CF-metadata] CF-1.0 -- 7.1 Cell Boundaries and IDV"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg473" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg473" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg473" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg473" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:56:50 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./0472.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0474.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
