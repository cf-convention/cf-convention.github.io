<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] COARDS name for a time offset from Ed Armstrong on 2007-01-09 (cf-metadata-mailman)</title>
<meta name="Author" content="Ed Armstrong (earmstro)" />
<meta name="Subject" content="[CF-metadata] COARDS name for a time offset" />
<meta name="Date" content="2007-01-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./0664.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0666.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] COARDS name for a time offset</h1>
<!-- received="Mon Jan  8 17:23:24 2007" -->
<!-- isoreceived="20070108172324" -->
<!-- sent="Mon, 8 Jan 2007 16:23:24 -0800" -->
<!-- isosent="20070109002324" -->
<!-- name="Ed Armstrong" -->
<!-- email="earmstro" -->
<!-- subject="[CF-metadata] COARDS name for a time offset" -->
<!-- id="p06110412c1c88c5e8acf_at_[137.79.160.215]" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4592EE80.8060008_at_unidata.ucar.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start665" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./0666.html" accesskey="d" title="Richard Gorman: &quot;[CF-metadata] Standard names  added&quot;">Next message</a> ]
[ <a href="./0664.html" title="Ed Armstrong: &quot;[CF-metadata] COARDS name for a time offset&quot;">Previous message</a> ]
[ <a href="./0624.html" title="John Caron: &quot;[CF-metadata] COARDS name for a time offset&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./0667.html" accesskey="t" title="John Caron: &quot;[CF-metadata] COARDS name for a time offset&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg665" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg665" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg665" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg665" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ed Armstrong &lt;<a href="mailto:earmstro?Subject=Re%3A%20%5BCF-metadata%5D%20COARDS%20name%20for%20a%20time%20offset">earmstro</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 8 Jan 2007 16:23:24 -0800</span><br />
</address>
<br />
Hi John,
<br />
<br />Thanks for the reply. Some comments below.
<br />
<br />At 2:06 PM -0800 2006/12/27, John Caron wrote:
<br />
<em class="quotelev1">&gt;Sorry my previous post was incomplete (trying to finish it as I 
</em><br />
<em class="quotelev1">&gt;walked out the door).
</em><br />
<em class="quotelev1">&gt;Try it again:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;heres a Grid with 1D coordinates (list coordinates explicitly for clarity):
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;1)   short sea_surface_temperature(time, lat, lon) ;
</em><br />
<em class="quotelev1">&gt;           sea_surface_temperature:coordinates = &quot;lon lat time&quot; ;
</em><br />
<em class="quotelev1">&gt;       float lat(lat) ;
</em><br />
<em class="quotelev1">&gt;       float lon(lon) ;
</em><br />
<em class="quotelev1">&gt;       int time(time) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;heres a Grid with 2D lat/lon coordinates:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;2)    short sea_surface_temperature( time, nj, ni) ;
</em><br />
<em class="quotelev1">&gt;            sea_surface_temperature:coordinates = &quot;lon lat time&quot; ;
</em><br />
<em class="quotelev1">&gt;       float lat(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;       float lon(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;       int time(time) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;we were thinking that this is a Swath:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;3)    short sea_surface_temperature( nj, ni) ;
</em><br />
<em class="quotelev1">&gt;               sea_surface_temperature:coordinates = &quot;lon lat time&quot; ;
</em><br />
<em class="quotelev1">&gt;       float lat(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;       float lon(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;       int time(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;the difference being that Swaths have a 2D time coordinate.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;Now consider
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       short sea_surface_temperature( timeRef, nj, ni) ;
</em><br />
<em class="quotelev1">&gt;               sea_surface_temperature:coordinates = &quot;lon lat&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       int timeRef(timeRef) ;
</em><br />
<em class="quotelev1">&gt;                timeRef:long_name = &quot;reference time of sst file&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       short sst_dtime(time, nj, ni) ;
</em><br />
<em class="quotelev1">&gt;                sst_dtime:long_name = &quot;time difference from reference time&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       float lat(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;       float lon(nj, ni) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;As it is written, the coordinate system for sea_surface_temperature 
</em><br />
<em class="quotelev1">&gt;is (lat, lon, timeRef). This looks like a Grid with 2D lat/lon 
</em><br />
<em class="quotelev1">&gt;coordinates (case 2 above). There is no reference to sst_dtime
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;But I suppose its more accurate to see it as a swath:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     short sea_surface_temperature( nj, ni) ;
</em><br />
<em class="quotelev1">&gt;            sea_surface_temperature:coordinates = &quot;lon lat sst_dtime&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       short sst_dtime(time, nj, ni) ;
</em><br />
<em class="quotelev1">&gt;            sst_dtime:long_name = &quot;time difference from reference time&quot;
</em><br />
<em class="quotelev1">&gt;            sst_dtime:formula = &quot;timeRef + sst_dtime&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;where I have imagined that we have come up with some convention for 
</em><br />
<em class="quotelev1">&gt;calculating the time coordinate values.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;Im guessing it is useful to see it as a Grid (ignore 2D time) or a 
</em><br />
<em class="quotelev1">&gt;Swath (ignore 1D time). Because the lat/lon coordinates are the same 
</em><br />
<em class="quotelev1">&gt;for each timeRef coordinate, it seems to me to really be a hybrid of 
</em><br />
<em class="quotelev1">&gt;the 2.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     short sea_surface_temperature( timeRef, nj, ni) ;
</em><br />
<em class="quotelev1">&gt;               sea_surface_temperature:coordinates = &quot;lon lat timeRef 
</em><br />
<em class="quotelev1">&gt;sst_dtime&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       int timeRef(timeRef) ;
</em><br />
<em class="quotelev1">&gt;                timeRef:long_name = &quot;reference time of sst file&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;       short sst_dtime(time, nj, ni) ;
</em><br />
<em class="quotelev1">&gt;                sst_dtime:long_name = &quot;time difference from reference time&quot; ;
</em><br />
<em class="quotelev1">&gt;                sst_dtime:formula = &quot;timeRef + sst_dtime&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;It would seem that there are 2 time coordinates, an approximate time 
</em><br />
<em class="quotelev1">&gt;for showing the data as a Grid, and an actual &quot;pixel-by-pixel&quot; time.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;Ed, can you tell us more about this dataset? Its derived from Swath 
</em><br />
<em class="quotelev1">&gt;data, and resampled? to a fixed lat/lon array? What causes the 
</em><br />
<em class="quotelev1">&gt;constant offsets of different variables? Does each variable have a 
</em><br />
<em class="quotelev1">&gt;different offset?
</em><br />
<br /><br /><br />The GHRSST L2P dataset is swath data, not resampled.  There is a 
<br />
unique lat/lon for each pixel, thus a 2D array for both lat and lon. 
<br />
The offsets in time are caused by non-satellite ancillary fields 
<br />
(wind, aerosols, solar insolation, sea ice) in the file that have 
<br />
different observation times  (or prediction times if model forecast 
<br />
fields) from the SST satellite data (which are are referenced to the 
<br />
sst_dtime array).  Each of the ancillary variable could have a 
<br />
different time offset.
<br />
<br />I like the solution proposed by Johanthen with a 'time_offset' 
<br />
standard name that can then be used with the relative time from array 
<br />
sst_dtime to calculated a new relative time from the absolute time 
<br />
specified in array 'time' . Not quite an elegant solution, but within 
<br />
the framework of the current file format it will work.
<br />
<br /><br /><br /><pre>
-- 
    ~ed
Edward M. Armstrong
Physical Oceanography DAAC		Tel: 818 393-6710
Jet Propulsion Laboratory		Fax: 818 393-2710
	edward.armstrong at jpl.nasa.gov
</pre>
<span id="received"><dfn>Received on</dfn> Mon Jan 08 2007 - 17:23:24 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start665">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./0666.html" title="Next message in the list">Richard Gorman: "[CF-metadata] Standard names  added"</a></li>
<li><dfn>Previous message</dfn>: <a href="./0664.html" title="Previous message in the list">Ed Armstrong: "[CF-metadata] COARDS name for a time offset"</a></li>
<li><dfn>In reply to</dfn>: <a href="./0624.html" title="Message to which this message replies">John Caron: "[CF-metadata] COARDS name for a time offset"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./0667.html" title="Next message in this discussion thread">John Caron: "[CF-metadata] COARDS name for a time offset"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./0667.html" title="Message sent in reply to this message">John Caron: "[CF-metadata] COARDS name for a time offset"</a></li>
<li><dfn>Reply</dfn>: <a href="./0668.html" title="Message sent in reply to this message">John Caron: "[CF-metadata] COARDS name for a time offset"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg665" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg665" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg665" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg665" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:56:53 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./0664.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0666.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
