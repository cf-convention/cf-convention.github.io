<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] fixed sensors, depth, datum from olivier lauret on 2008-09-09 (cf-metadata-mailman)</title>
<meta name="Author" content="olivier lauret (olauret)" />
<meta name="Subject" content="[CF-metadata] fixed sensors, depth, datum" />
<meta name="Date" content="2008-09-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./1512.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./1514.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] fixed sensors, depth, datum</h1>
<!-- received="Tue Sep  9 07:42:04 2008" -->
<!-- isoreceived="20080909064204" -->
<!-- sent="Tue, 9 Sep 2008 15:42:04 +0200" -->
<!-- isosent="20080909134204" -->
<!-- name="olivier lauret" -->
<!-- email="olauret" -->
<!-- subject="[CF-metadata] fixed sensors, depth, datum" -->
<!-- id="1240F43731C2EB4F8CC9BF70D233B511122B4A_at_SRV-XCHANGE-2K3.pc.cls.fr" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="48BD96B9.7050708_at_sfsu.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start1513" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./1514.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata]  fixed sensors, depth, datum&quot;">Next message</a> ]
[ <a href="./1512.html" title="Nan Galbraith: &quot;[CF-metadata] Same parameter, different meaning (pressure)&quot;">Previous message</a> ]
[ <a href="./1511.html" title="Dale Robinson: &quot;[CF-metadata] fixed sensors, depth, datum&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg1513" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg1513" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg1513" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg1513" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: olivier lauret &lt;<a href="mailto:olauret?Subject=Re%3A%20%5BCF-metadata%5D%20fixed%20sensors%2C%20depth%2C%20datum">olauret</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 9 Sep 2008 15:42:04 +0200</span><br />
</address>
<br />
Dear Dale,
<br />
<br />&nbsp;
<br />
<br />I am quite ignorant about datum and reference systems, but the only things I know that may help you are the following:
<br />
<br />-          There was a discussion about CF grid mapping attributes here: <a href="http://cf-pcmdi.llnl.gov/trac/ticket/9">http://cf-pcmdi.llnl.gov/trac/ticket/9</a> , it deals about the way you can describe coordinate reference system in CF. Probably some interesting stuff for your work.
<br />
<br />-          There is no standard_name attribute such as &quot;height referenced to WGS84&quot;, you may pick one in the standard name table (<a href="http://cf-pcmdi.llnl.gov/documents/cf-standard-names/9/cf-standard-name-table.html">http://cf-pcmdi.llnl.gov/documents/cf-standard-names/9/cf-standard-name-table.html</a>) or propose to add a new one. In this table if you search for &quot;height&quot; you'll get several answers; then to me the idea would be to combine a standard_name attribute (like, let's say, &quot;sea_surface_height_above_reference_ellipsoid&quot;) with some CRS attributes that would describe which datum is used.
<br />
<br />-          Or another lead I would try is to use XML for describing and transforming the data, and combine it with netCDF files for storage, aggregation and maps. I know there are initiatives such as Sensor Web Enablement, Sensor ML, GML and Web Processing Services (WPS) from OGC. Your situation is exactly the kind of use case such projects are made for, except that from OGC point of view data is encoded in XML (GML) files, not in netCDF. But I guess there should be a way to combine them in an efficient way??..
<br />
<br />&nbsp;
<br />
<br />Hope this helps!
<br />
<br />&nbsp;
<br />
<br />Olivier Lauret.
<br />
<br />&nbsp;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;
<br />
<br />Olivier Lauret
<br />
<br />CLS - Space Oceanography Division
<br />
<br />Products Dissemination Dpt
<br />
<br />8-10 rue Hermes, 31520 Ramonville St.Agne
<br />
<br />France
<br />
<br />Tel. (+33) (0) 561 39 48 51
<br />
<br />Fax:(+33) (0) 561 39 47 80
<br />
<br />&nbsp;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.cls.fr">http://www.cls.fr</a> &lt;<a href="http://www.cls.fr/">http://www.cls.fr/</a>&gt; 
<br />
<a href="http://www.aviso.oceanobs.com/">http://www.aviso.oceanobs.com/</a> &lt;<a href="http://www.aviso.oceanobs.com/">http://www.aviso.oceanobs.com/</a>&gt; 
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />De : cf-metadata-bounces at cgd.ucar.edu [mailto:cf-metadata-bounces at cgd.ucar.edu] De la part de Dale Robinson
<br />
Envoy? : mardi 2 septembre 2008 21:41
<br />
? : CF-metadata at cgd.ucar.edu
<br />
Objet : [CF-metadata] fixed sensors, depth, datum
<br />
<br />&nbsp;
<br />
<br />Good afternoon,
<br />
<br />The CeNCOOS Bays group is developing a netCDF standard for our water monitoring instruments.  We've receive some fantastic help from John Graybeal and the folks at MMI.  We are to a point where we have a couple of questions that are stumping us.   I was hoping the CF group could help.  I am a neophyte when it come to netCDF so please forgive my naive approach.  
<br />
<br />The our group (CeNCOOS Bays) has two types of platforms for their water monitoring sensors: a floating platform (following the surface with the sensors a fixed distance below the surface) and fixed platform (fixed to a pier).  Each platform type measures depth of sensors below the surface using pressure.  However, for the fixed sensors, we want to locate the height of the sensor (z axis) in &quot;real&quot; space, i.e. in relation to some vertical datum, which would allow user to generate derive parameters such as tidal height.  We also want to provide the information to allow users to convert to other tide datums.  
<br />
<br /><br />The solution we are working on for fixed instrument is outlined below, based on an example found in the SEACOOS NetCDF Standard, v2.0: 
<br />
<br />For an instrument in a fixed position, for example fixed to a pier, then the z variable takes the form of a coordinate variable [i.e. z(z)] with a constant value that is referenced to a datum.  
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	Create a z dimension with a value of 1
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	The vertical coordinate variable 'z'  (i.e. z(z) ) will be used to fix the location of the sensor in vertical space (i.e. not the distance below the water's surface) referenced to a datum.
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	For the datum we use WGS84.  
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	the z data value, e.g.  z= -34.8194 m, is the vertical location of the sensor in  WGS84. 
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	The depth variable (pressure sensor) gives depth in vertical distance below surface (which varies with the tide for fixed instruments).  
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	Associated with most measured variables (e.g. depth, water temperature, salinity...) is the attribute z and its value (e.g. depth: z = &quot;-34.8194&quot; ; ), which is a reference to the Z coordinate axis and value in m that locates the sensor relative to the datum.  This information also is provided to allow the derivation of parameters such as water level from the depth parameter.   
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	The definition of the Z coordinate axis has the attribute reference value set to the tidal datum WGS84. 
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*	We also provide the statistically determined local offsets to other tide datums, a local bench mark, and the averaging period and tidal epoch. We use the attribute reference_to_'datum' to provide the offsets. The reference_to_datum attributes each give the value of a common vertical position when referenced to different vertical datums.  We have chosen a vertical position equal to 0 m when referenced to WGS84.  The value of any reference_to_datum attribute (e.g.:reference_to_MLLW) is then an offset that can be used to convert a z-coordinate that is referenced to WGS84 (z[WGS84]) to a z-coordinate that is referenced to the other datum (e.g. z[MLLW]).  For example, z(WGS84) plus z:reference_to_MLLW = z[MLLW].  The more offsets that we can provide, the more likely data users can transform water-level data to their reference level and make use of it.
<br />
<br />&nbsp;
<br />
<br />Simplified example of an optimal description that is fixed to the pier at the Romberg Tiburon Center at a height of -2 m MLLW (i.e. WGS84 = -34.8194):
<br />
<br /><br /><br /><br />dimensions:
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z = 1 ;
<br />
<br />&nbsp;
<br />
<br />float z(z);
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z: standard_name = &quot;height referenced to WGS84&quot;;
<br />
<br />z: units = &quot;m&quot;;
<br />
<br />z: positive = &quot;up&quot;;
<br />
<br />z: axis = &quot;Z&quot;;
<br />
<br />z:reference = &quot;WGS84&quot;
<br />
<br />z:reference_to_WGS84= 0.
<br />
<br />z:reference_to_MLLW = 32.8194.
<br />
<br />z:reference_to_MLW = 32.4829
<br />
<br />z:reference_to_LMSL = 31.8717
<br />
<br />z:reference_to_MTL = 31.8585
<br />
<br />z:reference_to_DTL = 31.9442
<br />
<br />z:reference_to_MHW = 31.2487
<br />
<br />z:reference_to_MHHW = 31.0710
<br />
<br />z:reference_to_NAVD88 = 32.8116
<br />
<br />z:reference_to_NAVD88_benchmark_id = &quot;HT1060&quot;
<br />
<br />z:reference_tide_datum_epoch = &quot;1983-2001&quot;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z: comment = &quot;The reference_to_datum attributes gives the value of a single vertical position when referenced to different vertical datums.  We have chosen a vertical position equal to 0 m when referenced to WGS84.  The value of any z:reference_to_datum attribute (e.g.:reference_to_MLLW) is an offset that can be used to convert a z-coordinate that is referenced to WGS84 (z[WGS84]) to a z-coordinate that is referenced to the other datum (e.g. z[MLLW]).  For example, z(WGS84) plus z:reference_to_MLLW = z[MLLW]&quot;;
<br />
<br /><br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float depth(time); 
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth: standard_name = &quot;depth&quot;;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth: units = &quot;m&quot;;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth: reference = &quot;surface
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth: positive = &quot;down&quot;;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth: z = &quot;-34.8194&quot;;
<br />
<br /><br /><br />data:
<br />
<br />z = -34.8194 ;
<br />
<br /><br /><br /><br /><br /><br />Does the above approach make sense?   Any comments that you can provide would be appreciated.  
<br />
<br /><br />2. The next question I have now is for creating a file for a floating instrument.  In that case we have no datum in the vertical to reference.  The instrument goes up and down with the tide and the sensors are at a fixed distance below the surface.   The vertical values are all distance below the surface.  How do we handle that?    
<br />
<br />One solution is to keep the vertical dimension of unity and have a vertical coordinate variable referenced to depth below the surface.  
<br />
<br />Alternate solution: Do not use a z coordinate dimension   Report only depth below surface as the depth variable (from pressure).  
<br />
<br /><br />Are we on the right track here?
<br />
<br />Thanks.
<br />
<br />-Dale 
<br />
<br /><pre>
-- 
Dale Robinson, Ocean Observing Programs Coordinator
Romberg Tiburon Center
3152 Paradise Drive
Tiburon, CA 94920
email dhr.sfsu at gmail.com
<a href="http://sfbeams.sfsu.edu">http://sfbeams.sfsu.edu</a>
-- 
Dale Robinson, Ocean Observing Programs Coordinator
Romberg Tiburon Center
3152 Paradise Drive
Tiburon, CA 94920
email dhr.sfsu at gmail.com
<a href="http://sfbeams.sfsu.edu">http://sfbeams.sfsu.edu</a>
 
Cliquez ici &lt;<a href="https://www.mailcontrol.com/sr/vEdVVe!brobTndxI!oX7UkXMouQt6f0TQ68dImLKJ3t8ENGD4!S0MDEtrp1t8dV5!hKrP287eUr63Umxp4EWgA">https://www.mailcontrol.com/sr/vEdVVe!brobTndxI!oX7UkXMouQt6f0TQ68dImLKJ3t8ENGD4!S0MDEtrp1t8dV5!hKrP287eUr63Umxp4EWgA</a>==&gt;  si ce message est ind?sirable (pourriel).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20080909/6f7c605e/attachment-0002.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20080909/6f7c605e/attachment-0002.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 2287 bytes
Desc: image003.jpg
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20080909/6f7c605e/attachment-0002.jpe">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20080909/6f7c605e/attachment-0002.jpe</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Tue Sep 09 2008 - 07:42:04 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start1513">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./1514.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata]  fixed sensors, depth, datum"</a></li>
<li><dfn>Previous message</dfn>: <a href="./1512.html" title="Previous message in the list">Nan Galbraith: "[CF-metadata] Same parameter, different meaning (pressure)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./1511.html" title="Message to which this message replies">Dale Robinson: "[CF-metadata] fixed sensors, depth, datum"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg1513" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg1513" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg1513" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg1513" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:08 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./1512.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./1514.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
