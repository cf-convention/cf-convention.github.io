<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data from John Caron on 2009-11-11 (cf-metadata-mailman)</title>
<meta name="Author" content="John Caron (caron)" />
<meta name="Subject" content="[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data" />
<meta name="Date" content="2009-11-11" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./2306.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./2308.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data</h1>
<!-- received="Wed Nov 11 09:12:15 2009" -->
<!-- isoreceived="20091111091215" -->
<!-- sent="Wed, 11 Nov 2009 09:12:15 -0700" -->
<!-- isosent="20091111161215" -->
<!-- name="John Caron" -->
<!-- email="caron" -->
<!-- subject="[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data" -->
<!-- id="4AFAE25F.6050006_at_unidata.ucar.edu" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4A5F128C.5080808_at_zmaw.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start2307" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./2308.html" accesskey="d" title="Thomas Lavergne: &quot;[CF-metadata] Cell bounds associated with coordinate variable rather than data variable&quot;">Next message</a> ]
[ <a href="./2306.html" title="Little, Chris: &quot;[CF-metadata] [CF-NetCDF-1.0.swg] Fwd: CF point observationConventions ready for review&quot;">Previous message</a> ]
[ <a href="./2128.html" title="Martina Stockhause: &quot;[CF-metadata] [CF Metadata] #37: Conventions for Point Observation Data&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./2350.html" accesskey="t" title="Martina Stockhause: &quot;[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg2307" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg2307" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg2307" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg2307" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: John Caron &lt;<a href="mailto:caron?Subject=Re%3A%20%5BCF-metadata%5D%20%5BCF%20Metadata%5D%20%2337%3A%20Conventions%20for%20Point%09Observation%20Data">caron</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 11 Nov 2009 09:12:15 -0700</span><br />
</address>
<br />
Martina Stockhause wrote:
<br />
<em class="quotelev1">&gt; Dear John, dear Heinke,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I would support Heinke's idea of generalizing the definition for 'profiles', so that it can be applied to microscale measurements as well. Apart from scintillometer data, data from optical methods like DOAS or FTIR can be delivered as horizontal profiles as well.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Using the proposal for the description of our weather mast data (<a href="http://wettermast-hamburg.zmaw.de/index.htm">http://wettermast-hamburg.zmaw.de/index.htm</a>; click to the english version), I was misled by the name 'stationTimeSeries'. What is described in the proposal, is more the time series of a single instrument at a station than the data of the whole station due to the fixed altitude. Normally, a station's position is described geographically (lon/lat) and the measurements supply data in different observation heights. 
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; E.g. we measure with 30 different instruments standard meteorological parameters in multiple heights and additionally examine cloud heights and rain by profile measurements. Therefore the station data would be an aggregation of 'stationTimeSeries' and 'stationProfileTimeSeries' according to the present proposal. 
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; In the referenced document (<a href="http://www.unidata.ucar.edu/staff/caron/papers/obs2.pdf">http://www.unidata.ucar.edu/staff/caron/papers/obs2.pdf</a>) the vertical coordinate is defined as a variable for time series of station data.
</em><br />
<em class="quotelev1">&gt; Could we make the altitude in stationTimeSeries variable?
</em><br />
<em class="quotelev1">&gt; If not: Do you have a suggestion how I could apply the proposal for data of more then one measurement instrument, i.e. different measurement heights of the parameters?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Thanks a lot and best wishes,
</em><br />
<em class="quotelev1">&gt; Martina
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;   
</em><br />
Hi Martina:
<br />
<br />Im not sure if I ever answered this - i had it marked &quot;to do&quot; so im 
<br />
guessing i never did.
<br />
<br />Its difficult for a generic program to correctly process all the various 
<br />
representations, which is why i am reluctant to allow multiple feature 
<br />
types in the same file. However your case points out that its natural 
<br />
for data to sometimes have a vertical coordinate and some not.
<br />
<br />One could use stationProfile as the feature type, since not all data has 
<br />
to have the vertical dimension. If, for example you were using 9.6.1 
<br />
(multidimensional case) :
<br />
<br />dimensions:
<br />
&nbsp;&nbsp;station = 22 ;
<br />
&nbsp;&nbsp;time = 3002 ;
<br />
&nbsp;&nbsp;z = 42 ;
<br />
<br />variables:
<br />
&nbsp;&nbsp;float lon(station) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon:long_name = &quot;station longitude&quot;;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon:units = &quot;degrees_east&quot;;
<br />
&nbsp;&nbsp;float lat(station) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat:long_name = &quot;station latitude&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat:units = &quot;degrees_north&quot; ;
<br />
&nbsp;&nbsp;char station_name(station, name_strlen) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;station_name:standard_name = &quot;station_id&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;station_name:long_name = &quot;station name&quot; ;
<br />
&nbsp;&nbsp;int station_info(station) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;station_name:long_name = &quot;some kind of station info&quot; ;
<br />
<br />&nbsp;&nbsp;float alt(station, time, z) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;alt:long_name = &quot;height above mean sea level&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;alt:units = &quot;km&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;alt:positive = &quot;up&quot; ; 
<br />
<br />&nbsp;&nbsp;double time(station, time) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;time:long_name = &quot;time of measurement&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;time:units = &quot;days since 1970-01-01 00:00:00&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;time:missing_value = -999.9;
<br />
<br />&nbsp;&nbsp;float temperature(station, time, z) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;temperature:long_name = &quot;skin temperature&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;temperature:units = &quot;Celsius&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;temperature:coordinates = &quot;time lon lat alt&quot; ;
<br />
<br />&nbsp;&nbsp;float surface_temperature(station, time) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;temperature:long_name = &quot;surface temperature&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;temperature:units = &quot;Celsius&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;temperature:coordinates = &quot;time lon lat&quot; ;
<br />
<br /><br />I have renamed the profile dimension as &quot;time&quot; to make it clearer that we have a time series of measurements at each station. The collection of data that have dimensions variable(station, time) constitute one measurement. those that have the z dimension are part of the profile.
<br />
<br />Still there could be some problem if you want the profile to have a varying time dimension:
<br />
<br />variables:
<br />
&nbsp;&nbsp;float lon(station) ;
<br />
&nbsp;&nbsp;float lat(station) ;
<br />
&nbsp;&nbsp;char station_name(station, name_strlen) ;
<br />
<br />&nbsp;&nbsp;float alt(station, time, z) ;
<br />
&nbsp;&nbsp;double time(station, time, z) ;
<br />
&nbsp;
<br />
&nbsp;&nbsp;float temperature(station, time, z) ; 
<br />
&nbsp;&nbsp;float surface_temperature(station, time) ;
<br />
&nbsp;
<br />
<br />So now what is the time coordinate for surface_temperature? One would have to make some kind of ad-hoc assumption like using z = 0 (bad!).
<br />
<br />Perhaps we need to generalize to:
<br />
<br />&nbsp;variables:
<br />
&nbsp;&nbsp;float lon(station) ;
<br />
&nbsp;&nbsp;float lat(station) ;
<br />
&nbsp;&nbsp;char station_name(station, name_strlen) ;
<br />
<br />&nbsp;&nbsp;float alt(station, time, z) ;
<br />
&nbsp;&nbsp;double time(station, time) ;
<br />
&nbsp;&nbsp;double timeProfile(station, time, z) ;
<br />
<br />&nbsp;&nbsp;float temperature(station, time, z) ; 
<br />
&nbsp;&nbsp;float surface_temperature(station, time) ;
<br />
<br />??
<br />
<br />So im wondering if you in fact have time-varying profile data (ie time varies along the z axis)?
<br />
<br /><br />Also we might want to move further discussion to 
<br />
<a href="https://cf-pcmdi.llnl.gov/trac/ticket/37">https://cf-pcmdi.llnl.gov/trac/ticket/37</a>.
<br />
<span id="received"><dfn>Received on</dfn> Wed Nov 11 2009 - 09:12:15 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start2307">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./2308.html" title="Next message in the list">Thomas Lavergne: "[CF-metadata] Cell bounds associated with coordinate variable rather than data variable"</a></li>
<li><dfn>Previous message</dfn>: <a href="./2306.html" title="Previous message in the list">Little, Chris: "[CF-metadata] [CF-NetCDF-1.0.swg] Fwd: CF point observationConventions ready for review"</a></li>
<li><dfn>In reply to</dfn>: <a href="./2128.html" title="Message to which this message replies">Martina Stockhause: "[CF-metadata] [CF Metadata] #37: Conventions for Point Observation Data"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./2350.html" title="Next message in this discussion thread">Martina Stockhause: "[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./2350.html" title="Message sent in reply to this message">Martina Stockhause: "[CF-metadata] [CF Metadata] #37: Conventions for Point	Observation Data"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg2307" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg2307" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg2307" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg2307" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:23 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./2306.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./2308.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
