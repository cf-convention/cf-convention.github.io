<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] standard_name modifiers from Robert Muetzelfeldt on 2011-03-08 (cf-metadata-mailman)</title>
<meta name="Author" content="Robert Muetzelfeldt (r.muetzelfeldt)" />
<meta name="Subject" content="[CF-metadata] standard_name modifiers" />
<meta name="Date" content="2011-03-08" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3275.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3277.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] standard_name modifiers</h1>
<!-- received="Tue Mar  8 06:14:09 2011" -->
<!-- isoreceived="20110308061409" -->
<!-- sent="Tue, 08 Mar 2011 13:14:09 +0000" -->
<!-- isosent="20110308131409" -->
<!-- name="Robert Muetzelfeldt" -->
<!-- email="r.muetzelfeldt" -->
<!-- subject="[CF-metadata] standard_name modifiers" -->
<!-- id="4D762BA1.4040609_at_ed.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20110303180240.GA13051_at_met.reading.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3276" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3277.html" accesskey="d" title="Bert Jagers: &quot;[CF-metadata] Proposal for new standard names - use of &#0034;sedimentation&#0034;&quot;">Next message</a> ]
[ <a href="./3275.html" title="Tomoo Ogura: &quot;[CF-metadata] Proposal for new standard names&quot;">Previous message</a> ]
[ <a href="./3271.html" title="Jonathan Gregory: &quot;[CF-metadata] standard_name modifiers&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3276" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3276" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3276" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3276" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Robert Muetzelfeldt &lt;<a href="mailto:r.muetzelfeldt?Subject=Re%3A%20%5BCF-metadata%5D%20standard_name%20modifiers">r.muetzelfeldt</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 08 Mar 2011 13:14:09 +0000</span><br />
</address>
<br />
Dear all,
<br />
<br />Jonathan suggested having a web-based tool which can be used to check 
<br />
possible standard names, prior to submitting them for human approval. 
<br />
This could use the grammar he developed for CF-metadata names, and which 
<br />
he has written up at 
<br />
<a href="http://www.met.reading.ac.uk/~jonathan/CF_metadata/14.1/">http://www.met.reading.ac.uk/~jonathan/CF_metadata/14.1/</a> 
<br />
&lt;<a href="http://www.met.reading.ac.uk/%7Ejonathan/CF_metadata/14.1/">http://www.met.reading.ac.uk/%7Ejonathan/CF_metadata/14.1/</a>&gt;. (This 
<br />
grammar apparently handled all the Standard Names around when it was 
<br />
developed - a very impressive achievement.)
<br />
<br />I thought it might help the discussion to implement this idea. This 
<br />
involved two steps:
<br />
1. Converting his grammar (as presented on Jonathan's web page) into 
<br />
Prolog's grammar notation.
<br />
2. Making a parser for this grammar available on the web.
<br />
<br />The implementation of Jonathan's grammar in Prolog follows the approach 
<br />
which I have described previously on this mailing list, and which is 
<br />
written up at 
<br />
<a href="http://envarml.pbworks.com/w/page/8988921/Prototype+grammar+for+CF-metadata+%22standard+names%22+(Prolog+version">http://envarml.pbworks.com/w/page/8988921/Prototype+grammar+for+CF-metadata+%22standard+names%22+(Prolog+version</a>) 
<br />
&lt;<a href="http://envarml.pbworks.com/w/page/8988921/Prototype+grammar+for+CF-metadata+%22standard+names%22+%28Prolog+version%29">http://envarml.pbworks.com/w/page/8988921/Prototype+grammar+for+CF-metadata+%22standard+names%22+%28Prolog+version%29</a>&gt; 
<br />
- the only difference being that I have now used his grammar rules 
<br />
rather than ones based on the CF-metadata guidelines.
<br />
<br />I have checked the list of standard names which Jonathan used in his 
<br />
work against the Prolog version of his grammar, and currently 1958 out 
<br />
of the total of 2072 names parse correctly. The remaining 100 or so are 
<br />
probably down to slight differences in the way that filler words, such 
<br />
as prepositions, are handled - this is just a question of checking all 
<br />
the rules for consistency in how the filler words are included.
<br />
<br />My colleague Mark Muetzelfeldt has produced a web app which gives access 
<br />
to this Prolog grammar, providing browser-based access to a simple query 
<br />
system for checking that a proposed standard name conforms to the 
<br />
grammar. This is available at 
<br />
<a href="http://www.eco-epistemics.org/cf_metadata_grammar/">http://www.eco-epistemics.org/cf_metadata_grammar/</a>. It includes the text 
<br />
for the complete Prolog version of Jonathan's grammar. It goes without 
<br />
saying that I would welcome any feedback (or, better, that we decide to 
<br />
set up some sort of working group to take this forward). Please note 
<br />
that this is a highly-experimental and early-stage exercise, designed 
<br />
primarily to explore what a grammar-based online CF-metadata checker 
<br />
might look like. It has been tested only in Firefox and Chrome.
<br />
<br />A number of issues have arisen during this exercise:
<br />
<br />1. I feel strongly that it is highly desirable to use a standard grammar 
<br />
notation (such as Prolog's) for representing the grammar. Apart from the 
<br />
benefits of using a standard approach, this makes it straightforward to 
<br />
handle arbitrary nesting of grammar rules (as in, say, a grammar for 
<br />
English), rather than Jonathan's flat set of rules.
<br />
<br />2. In my opinion, it is far better for the name itself to contain all 
<br />
the information about a particular variable, rather than use a separate 
<br />
mechanism (modifiers). Consider a variable such as 
<br />
&quot;monthly_mean_of_log_of ratio_of_leaf_carbon_to_root_nitrogen&quot;. This is 
<br />
straightforward to capture in a grammar (provided it can handle the 
<br />
recursive aspect of the nesting of mathematical functions, which most 
<br />
could), and almost impossible to capture by the use of modifiers on some 
<br />
base Standard Name.
<br />
<br />3. Prolog is a particularly useful platform to use for this task. It has 
<br />
long had a specific notation for grammar rules which is very readable 
<br />
and supported natively by the Prolog interpreter. Using Prolog offers 
<br />
several substantial benefits over other approaches, including the 
<br />
ability to handle more advanced grammar requirements, the ability to 
<br />
query the grammar and/or a collection of Standard Names directly in the 
<br />
Prolog interpreter, and the ease with which it can made available as a 
<br />
web app.
<br />
<br />4. One feature of Prolog which deserves special mention is that it can 
<br />
easily be used to automatically generate names which are valid according 
<br />
to the grammar - this can be done with a one-line query. This may seem 
<br />
useless, but in fact is a very effective way of picking up weaknesses in 
<br />
the grammar: if a generated name is (to the expert human) nonsense, then 
<br />
that can help us to refine the grammar.
<br />
<br />5. Jonathan's grammar includes base (atomic) terms which could be 
<br />
further broken down, for example:
<br />
phenomenon --&gt;
<br />
due_to_condensation_and_evaporation_from_boundary_layer_mixing
<br />
due_to_condensation_and_evaporation_from_convection
<br />
due_to_condensation_and_evaporation_from_longwave_heating
<br />
due_to_condensation_and_evaporation_from_pressure_change
<br />
due_to_condensation_and_evaporation_from_shortwave_heating
<br />
due_to_condensation_and_evaporation_from_turbulence
<br />
There is clearly scope here for some more rationalisation.
<br />
<br />6. The current policy is (as I understand it) that each new Standard 
<br />
Name has to be approved individually, but that anyone can add whatever 
<br />
modifiers they like. If, as I suggest, the role of modifiers is 
<br />
incorporated into the grammar for Standard Names, then this raises 
<br />
issues about the approval process. I suspect it would be possible for 
<br />
the parser to detect which names require manual approval and which do 
<br />
not, according to which rules are fired, but this would need further 
<br />
research.
<br />
<br />7. Ultimately I believe we need to move away from an approved list of 
<br />
names to an approved grammar for formulating names. However, as Jonathan 
<br />
has stressed, a grammar is useful - even when a manual approval process 
<br />
is used - for checking that names conform to agreed style rules.
<br />
<br />Cheers,
<br />
Robert
<br />
<br /><br />On 03/03/11 18:02, Jonathan Gregory wrote:
<br />
<em class="quotelev1">&gt; Dear Philip and John
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I agree with what Philip says here:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; We could then tweak our current practice on this mailing list so that when a
</em><br />
<em class="quotelev2">&gt;&gt; person proposes a std_name they should state (or perhaps there is a little
</em><br />
<em class="quotelev2">&gt;&gt; bit of code to check) that the proposed std_name conforms to the existing
</em><br />
<em class="quotelev2">&gt;&gt; grammar and vocabulary rules.  I think most of us would then provide only
</em><br />
<em class="quotelev2">&gt;&gt; cursory scrutiny.  Perhaps there could even be an automatic timer so that if
</em><br />
<em class="quotelev2">&gt;&gt; nobody objects within some time period (perhaps 1 month) then the name is
</em><br />
<em class="quotelev2">&gt;&gt; automatically accepted.  Essentially the default decision for conforming
</em><br />
<em class="quotelev2">&gt;&gt; names would be 'acceptance'.  I think this would also make the generation of
</em><br />
<em class="quotelev2">&gt;&gt; the text descriptions either automatic, or perhaps obsolete, in many cases
</em><br />
<em class="quotelev2">&gt;&gt; because they could be inferred from the grammar and vocabulary tables.
</em><br />
<em class="quotelev1">&gt; I could bring the grammar up to date as a starting point. I agree that it
</em><br />
<em class="quotelev1">&gt; would be possible to work out text corresponding to each phrase and thus
</em><br />
<em class="quotelev1">&gt; construct definitions, or at least a first draft of them. Units could also
</em><br />
<em class="quotelev1">&gt; be deduced automatically. I don't myself have the expertise or the time to
</em><br />
<em class="quotelev1">&gt; write scripts in support of this, to make it easy for proposers to use these
</em><br />
<em class="quotelev1">&gt; procedures e.g. on the web.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; John writes:
</em><br />
<em class="quotelev2">&gt;&gt; But where we are talking about adding generic modifiers, it seems to me a more automated approach is possible.  If the meaning of the modifier is clear, then no matter what name it is applied to, the meaning of the resulting compound should be clear.  If that is the case, then adding that modifier to an existing name should be verifiable mechanically.
</em><br />
<em class="quotelev1">&gt; If this refers to the standard_name modifiers, which are separate words
</em><br />
<em class="quotelev1">&gt; appended to standard names, then in fact no approval is needed. It is fine
</em><br />
<em class="quotelev1">&gt; to add these to the standard_name attribute. That is not regarded as creating
</em><br />
<em class="quotelev1">&gt; a new standard_name. In fact the modifiers were introduced to avoid having to
</em><br />
<em class="quotelev1">&gt; add such names to the table.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<br /><pre>
-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Mar 08 2011 - 06:14:09 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3276">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3277.html" title="Next message in the list">Bert Jagers: "[CF-metadata] Proposal for new standard names - use of &#0034;sedimentation&#0034;"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3275.html" title="Previous message in the list">Tomoo Ogura: "[CF-metadata] Proposal for new standard names"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3271.html" title="Message to which this message replies">Jonathan Gregory: "[CF-metadata] standard_name modifiers"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3276" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3276" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3276" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3276" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:41 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3275.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3277.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
