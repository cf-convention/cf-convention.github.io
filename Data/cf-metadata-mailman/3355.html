<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] udunits handling of fuzzy time units from Jon Blower on 2011-03-21 (cf-metadata-mailman)</title>
<meta name="Author" content="Jon Blower (j.d.blower)" />
<meta name="Subject" content="[CF-metadata] udunits handling of fuzzy time units" />
<meta name="Date" content="2011-03-21" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3354.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3356.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] udunits handling of fuzzy time units</h1>
<!-- received="Mon Mar 21 11:23:59 2011" -->
<!-- isoreceived="20110321112359" -->
<!-- sent="Mon, 21 Mar 2011 17:23:59 +0000" -->
<!-- isosent="20110321172359" -->
<!-- name="Jon Blower" -->
<!-- email="j.d.blower" -->
<!-- subject="[CF-metadata] udunits handling of fuzzy time units" -->
<!-- id="D38DCA8842FECD4585C8DE16D602ABF40FD767_at_VIME-MBX2.rdg.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4D87876E.5040501_at_noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3355" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3356.html" accesskey="d" title="Karl Taylor: &quot;[CF-metadata] udunits handling of fuzzy time units&quot;">Next message</a> ]
[ <a href="./3354.html" title="Steve Hankin: &quot;[CF-metadata] udunits handling of fuzzy time units&quot;">Previous message</a> ]
[ <a href="./3361.html" title="Steve Hankin: &quot;[CF-metadata] udunits handling of fuzzy time units&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3356.html" accesskey="t" title="Karl Taylor: &quot;[CF-metadata] udunits handling of fuzzy time units&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3355" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3355" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3355" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3355" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jon Blower &lt;<a href="mailto:j.d.blower?Subject=Re%3A%20%5BCF-metadata%5D%20udunits%20handling%20of%20fuzzy%20time%20units">j.d.blower</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 21 Mar 2011 17:23:59 +0000</span><br />
</address>
<br />
Hi Steve,
<br />
<br /><em class="quotelev1">&gt; To me the most important point is just this:  before proposing new libraries and new data models, there
</em><br />
<em class="quotelev1">&gt; should be an effort to see whether there is any functionality that cannot be very satisfactorily handled by
</em><br />
<em class="quotelev1">&gt; adding some convenience methods to the encodings that CF and udunits have already standardized.
</em><br />
<br />In your view would the solution to add &quot; by calendar field&quot; to the existing udunits string be acceptable?  It's backward-compatible with the current interpretation and adds clarification for the cases in which we *do* want to do calendar-field arithmetic (instead of adding fixed intervals).
<br />
<br />There's an alternative proposition, in which the new units of calendar_month and calendar_year are added, with the same semantic effect.  (However, personally I like the &quot;by calendar field&quot; solution since it allows other fields to vary between calendars, e.g. because of leap-seconds.)
<br />
<br />The way I see it, neither of these propositions requires a fundamental change to existing data or practices, although functionality might have to be added to udunits to do the calendar arithmetic, if that is your library of choice (or, like me, you might choose to go outside udunits for this use case).
<br />
<br />Cheers,
<br />
Jon
<br />
<br />From: cf-metadata-bounces at cgd.ucar.edu [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Steve Hankin
<br />
Sent: 21 March 2011 17:14
<br />
To: John Caron
<br />
Cc: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] udunits handling of fuzzy time units
<br />
<br /><br /><br />On 3/17/2011 5:20 PM, John Caron wrote:
<br />
On 3/17/2011 12:19 PM, Steve Hankin wrote:
<br />
<br /><br />On 3/17/2011 9:50 AM, Christopher Barker wrote:
<br />
On 3/16/11 8:47 AM, John Caron wrote:
<br />
<br /><br />1. time instants vs time duration
<br />
- one must distinguish between dimensional time (&quot;time duration&quot;,
<br />
units=&quot;secs&quot;), and calendar time (&quot;time instant&quot;, or &quot;point on the time
<br />
continuum&quot;) which is not dimensional.
<br />
<br />yup -- key clarification in all this.
<br />
<br />I think we are leading ourselves astray here.  A point in time has a dimension.  It has dimensions of &quot;time&quot;.  Whether the units happen to be days, months, years or whatever depends upon the encoding.  But it definitely has dimensions of time.   The date-time string loses its meaning if we see it as detached from the axis that gives it a dimensionality.
<br />
<br />in &quot;dimensional units&quot;, &quot;secs&quot; is a base dimensional unit, and it means &quot;duration&quot;, eg watts = joules/sec, the sec is a time duration, not an instant of time.
<br />
<br />&quot;time&quot; is not a dimensional unit, it refers to a point on the time continuum.  it does not have dimensional units of &quot;secs&quot;, that is, it cannot be converted to a duration in &quot;secs&quot;.
<br />
<br />Hi John,
<br />
<br />Beg to differ on these most fundamental of issues.  All times (all &quot;points on the time continuum&quot;) indicate intervals.   Typical date-time strings (e.g. &quot;21-MAR-2011:10:10&quot;) are an artfully contrived way of stating an interval of time relative to a precise zero reference that is 2011+ years ago, while still retaining high resolution (fractions of seconds) in that interval measurement.  But perhaps this is not a point to pursue much deeper without beer in hand.
<br />
<br />To me the most important point is just this:  before proposing new libraries and new data models, there should be an effort to see whether there is any functionality that cannot be very satisfactorily handled by adding some convenience methods to the encodings that CF and udunits have already standardized.
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;- Steve
<br />
<br /><br /><br />however it can be represented as  &quot;duration since calendar time&quot;, and the machinery of dimensional units can be used for the duration part. but theres still that &quot;calendar time&quot; part of udunits &quot;time unit&quot; handling, and udunits does the very simplest handling it can.
<br />
<br />hmm, can i add any more &quot;quotes&quot; ??
<br />
<br />anyway this is why udunits cant be incrementally extended to do more better time unit handling, we need more sophisticated calendar handling. im sure there are other libraries that have some or most of this solved (cdtime has some), and i think we should find those and build a reference library. We could, for sure, add this new stuff into udunits, but the point is that we need new stuff.
<br />
<br />currently CF references udunits as the reference library for time, and while reference libraries are not strictly needed, in practice they are Very Good.
<br />
<br /><br /><br />There are two ways in which dimensions (positions and intervals) can be handled.  Each of them is self-consistent:
<br />
<br />&nbsp;&nbsp;1.  represent positions as strings.
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*   Then create special functions to compute the implied distance between those string representations.  In this outlook units must be specified when the interval is computed.
<br />
&nbsp;&nbsp;2.  represent positions with a zero reference, and an offset value.
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*   Then create special functions to generate formatted strings representing positions along the axis.  In this outlook units must be stored with the representation.
<br />
Udunits consistently follows approach #2.  It is a complete and self-consistent outlook that is capable (with additional API functions) of handling formatted strings for all dimensions.  It is very well suited to numerical analysis tasks.
<br />
<br />GIS systems have advanced approach #1, because they primarily treat Z and time as metadata tags (strings).  In general approach #1 is best suited to situations where you are working primarily with metadata.
<br />
<br />What do we gain by mixing the two approaches together and what do we lose?  I'd argue that consistency, simplicity, elegance etc. should be the primary bases of this debate.
<br />
<br /><em class="quotelev1">&gt;From my POV, the problem is that users need more expressiveness for the calendar time. I certainly do. For yearly data, &quot;years since base_date by calendar field&quot; (or whatever) is consistent, simple and elegant.
</em><br />
<br />John
<br />
<br /><br /><br /><br /><br /><br />_______________________________________________
<br />
<br />CF-metadata mailing list
<br />
<br />CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<br /><a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20110321/544f514b/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20110321/544f514b/attachment-0001.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Mon Mar 21 2011 - 11:23:59 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3355">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3356.html" title="Next message in the list">Karl Taylor: "[CF-metadata] udunits handling of fuzzy time units"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3354.html" title="Previous message in the list">Steve Hankin: "[CF-metadata] udunits handling of fuzzy time units"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3361.html" title="Message to which this message replies">Steve Hankin: "[CF-metadata] udunits handling of fuzzy time units"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3356.html" title="Next message in this discussion thread">Karl Taylor: "[CF-metadata] udunits handling of fuzzy time units"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3355" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3355" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3355" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3355" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:43 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3354.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3356.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
