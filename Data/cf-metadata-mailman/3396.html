<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] udunits time units question from Brian Eaton on 2011-04-01 (cf-metadata-mailman)</title>
<meta name="Author" content="Brian Eaton (eaton)" />
<meta name="Subject" content="[CF-metadata] udunits time units question" />
<meta name="Date" content="2011-04-01" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3395.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3397.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] udunits time units question</h1>
<!-- received="Fri Apr  1 09:50:03 2011" -->
<!-- isoreceived="20110401085003" -->
<!-- sent="Fri, 1 Apr 2011 09:50:03 -0600" -->
<!-- isosent="20110401155003" -->
<!-- name="Brian Eaton" -->
<!-- email="eaton" -->
<!-- subject="[CF-metadata] udunits time units question" -->
<!-- id="20110401155003.GB19539_at_ucar.edu" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4D95B14A.5040201_at_unidata.ucar.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3396" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3397.html" accesskey="d" title="Steve Hankin: &quot;[CF-metadata] relationship between CF model and netCDF-classic data model&quot;">Next message</a> ]
[ <a href="./3395.html" title="Jon Blower: &quot;[CF-metadata] udunits time units question&quot;">Previous message</a> ]
[ <a href="./3373.html" title="John Caron: &quot;[CF-metadata] udunits time units question&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3431.html" accesskey="t" title="Cecelia DeLuca: &quot;[CF-metadata] udunits time units question&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3396" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3396" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3396" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3396" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Brian Eaton &lt;<a href="mailto:eaton?Subject=Re%3A%20%5BCF-metadata%5D%20udunits%20time%20units%20question">eaton</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 1 Apr 2011 09:50:03 -0600</span><br />
</address>
<br />
Hi John,
<br />
<br />You might have a look at the ESMF time handling utilies for some ideas
<br />
about what a library that supports modelling (i.e., non-standard calendars)
<br />
contains.
<br />
<br /><a href="http://www.earthsystemmodeling.org/esmf_releases/public/last/ESMF_refdoc/">http://www.earthsystemmodeling.org/esmf_releases/public/last/ESMF_refdoc/</a>
<br />
<br />Brian
<br />
<br /><br />On Fri, Apr 01, 2011 at 05:04:42AM -0600, John Caron wrote:
<br />
<em class="quotelev1">&gt; Hi Martin and all:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Im wondering what essential methods a calendar library needs to have
</em><br />
<em class="quotelev1">&gt; to support, eg 360 day calendars? The only one that comes to mind is
</em><br />
<em class="quotelev1">&gt; to calculate the difference between two dates in, say, seconds? What
</em><br />
<em class="quotelev1">&gt; else?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; John
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On 4/1/2011 12:55 AM, Schultz, Martin wrote:
</em><br />
<em class="quotelev2">&gt; &gt;Hi Chris et al.,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;      indeed it seems like some clarification is necessary about the use of different calendars in modelling. Your suggestion to &quot;map&quot; the 360 day calendar onto the Gregorian calendar in output files won't work: there would be no need for a 360 day calendar if it would. The idea behind fixed-length-year calendars is precisely the opposite: preserve seasonality without having to deal with leap years etc. Of course you need to adjust the solar cycle accordingly, that means your model will have a solar year that is precisely 360 days long (and not 365.25 as in reality). If you were to map these dates onto the gregorian calendar, you would have to interpolate the time axis so that days 1 to 360 fit into the range 1 to 365 or 366, respectively. Yes - a converter 360-days (or 365-days) to gregorian (and reverse) could be written, but you would redce the number of your friends if you insist that this is the only valid way to represent time of the model output ;-)
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;     You are right that a date such as 1960-01-31 is invalid in a 360-day calendar, and indeed a smart tool should flag this as an error.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;Hope this helps,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;Martin
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;------------------------------------------------------------------------------------------------
</em><br />
<em class="quotelev2">&gt; &gt;------------------------------------------------------------------------------------------------
</em><br />
<em class="quotelev2">&gt; &gt;Forschungszentrum Juelich GmbH
</em><br />
<em class="quotelev2">&gt; &gt;52425 Juelich
</em><br />
<em class="quotelev2">&gt; &gt;Sitz der Gesellschaft: Juelich
</em><br />
<em class="quotelev2">&gt; &gt;Eingetragen im Handelsregister des Amtsgerichts Dueren Nr. HR B 3498
</em><br />
<em class="quotelev2">&gt; &gt;Vorsitzender des Aufsichtsrats: MinDirig Dr. Karl Eugen Huthmacher
</em><br />
<em class="quotelev2">&gt; &gt;Geschaeftsfuehrung: Prof. Dr. Achim Bachem (Vorsitzender),
</em><br />
<em class="quotelev2">&gt; &gt;Dr. Ulrich Krafft (stellv. Vorsitzender), Prof. Dr.-Ing. Harald Bolt,
</em><br />
<em class="quotelev2">&gt; &gt;Prof. Dr. Sebastian M. Schmidt
</em><br />
<em class="quotelev2">&gt; &gt;------------------------------------------------------------------------------------------------
</em><br />
<em class="quotelev2">&gt; &gt;------------------------------------------------------------------------------------------------
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;Besuchen Sie uns auf unserem neuen Webauftritt unter www.fz-juelich.de
</em><br />
<em class="quotelev2">&gt; &gt;_______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt;CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt; &gt;CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt;<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<span id="received"><dfn>Received on</dfn> Fri Apr 01 2011 - 09:50:03 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3396">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3397.html" title="Next message in the list">Steve Hankin: "[CF-metadata] relationship between CF model and netCDF-classic data model"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3395.html" title="Previous message in the list">Jon Blower: "[CF-metadata] udunits time units question"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3373.html" title="Message to which this message replies">John Caron: "[CF-metadata] udunits time units question"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3431.html" title="Next message in this discussion thread">Cecelia DeLuca: "[CF-metadata] udunits time units question"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./3431.html" title="Message sent in reply to this message">Cecelia DeLuca: "[CF-metadata] udunits time units question"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3396" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3396" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3396" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3396" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:44 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3395.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3397.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
