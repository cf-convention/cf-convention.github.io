<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] udunits time unit question from Jon Blower on 2011-03-30 (cf-metadata-mailman)</title>
<meta name="Author" content="Jon Blower (j.d.blower)" />
<meta name="Subject" content="[CF-metadata] udunits time unit question" />
<meta name="Date" content="2011-03-30" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3406.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3408.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] udunits time unit question</h1>
<!-- received="Wed Mar 30 03:14:24 2011" -->
<!-- isoreceived="20110330021424" -->
<!-- sent="Wed, 30 Mar 2011 09:14:24 +0000" -->
<!-- isosent="20110330091424" -->
<!-- name="Jon Blower" -->
<!-- email="j.d.blower" -->
<!-- subject="[CF-metadata] udunits time unit question" -->
<!-- id="D38DCA8842FECD4585C8DE16D602ABF4110A90_at_vime-mbx3.rdg.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="AANLkTinGZoYBgc+i=DgCCFY0Uwy-hRAPkHxTK2Ki=5_y_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3407" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3408.html" accesskey="d" title="Jeff deLaBeaujardiere: &quot;[CF-metadata] CF Specification of Vertical Datums&quot;">Next message</a> ]
[ <a href="./3406.html" title="Justin R. Davis: &quot;[CF-metadata] CF Specification of Vertical Datums&quot;">Previous message</a> ]
[ <a href="./3411.html" title="Benno Blumenthal: &quot;[CF-metadata] udunits time unit question&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3386.html" accesskey="t" title="Don Murray: &quot;[CF-metadata] udunits time unit question&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3407" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3407" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3407" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3407" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jon Blower &lt;<a href="mailto:j.d.blower?Subject=Re%3A%20%5BCF-metadata%5D%20udunits%20time%20unit%20question">j.d.blower</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 30 Mar 2011 09:14:24 +0000</span><br />
</address>
<br />
Benno,
<br />
<br /><em class="quotelev1">&gt; the calendar attribute controls the interpretation of time
</em><br />
<br />All I'm trying to say is that the standard needs more clarity about how the calendar attribute controls the interpretation of time.  It's not clear to me, and apparently it's not clear to others.  I don't think it's fair to say that the previous emails have ignored this issue, although we may not share the same understanding that you have.
<br />
<br />But now I understand your previous emails better and why you have come up with the formulations you have.  Sorry if we had crossed wires.
<br />
<br />Jon
<br />
<br />From: bennoblumenthal at gmail.com [mailto:bennoblumenthal at gmail.com] On Behalf Of Benno Blumenthal
<br />
Sent: 30 March 2011 08:46
<br />
To: Jon Blower
<br />
Cc: Christopher Barker; cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] udunits time unit question
<br />
<br /><br />On Tue, Mar 29, 2011 at 5:16 PM, Jon Blower &lt;j.d.blower at reading.ac.uk&lt;mailto:j.d.blower at reading.ac.uk&gt;&gt; wrote:
<br />
<br />I tend to agree with Chris's points by the way - I am not sure that Benno's formulations make things clearer.  If Chris has misunderstood the use of the calendar attribute then so have I and so have many others - IMHO this points to a lack of clarity in the standard rather than a failure of the community to &quot;get it&quot;.   Just my viewpoint.
<br />
<br /><br />I did not say that there was a failure of the community to &quot;get it&quot;.  What I meant was that the calendar attribute controls the interpretation of time, and many of the e-mails ignored it, making the conversation hard to understand.
<br />
<br />I'll not participate in this conversation again,
<br />
<br />Benno
<br />
<br /><br />From: cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt; [mailto:cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;] On Behalf Of Benno Blumenthal
<br />
Sent: 29 March 2011 20:25
<br />
To: Christopher Barker
<br />
Cc: cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
<br />
Subject: Re: [CF-metadata] udunits time unit question
<br />
<br />Well I thought I was helping, but maybe not.
<br />
<br /><br />On Tue, Mar 29, 2011 at 12:35 PM, Christopher Barker &lt;Chris.Barker at noaa.gov&lt;mailto:Chris.Barker at noaa.gov&gt;&gt; wrote:
<br />
<br />There are data sets that use &quot;months since date-time&quot; in existence. However, anyone using those data sets with the udunits lib is interpreting that data in a way that may not be what the data creator intended -- this is simply broken, It can not be enshrined as a standard.
<br />
<br /><br />and I agree.  I would take it a bit farther -- no one who uses &quot;months since date-time&quot; is using the udunits interpretation -- all of use who use it are using the calendar 360_day interpretation, which is part of the standard, and beyond udunits.
<br />
<br />Not to pick on Chris, but I think it is clear over the course of this conversation that many of the participants do not understand the calendar attribute, which is causing a great deal of pain (or at least conversation).
<br />
<br />My examples indirectly show how I handled the problem before the calendar attribute existed -- I defined two fundamental time units within udunits (seconds  *and* years), and thus did not let udunits convert between them (outside code, which understands &quot;calendar&quot;, does convert between them). This is not a major code change, but a configuration change (udunits.dat in my day).  Anyway, calendar is now part of the standard, which makes things clearer (or so we would like to think).
<br />
<br />Anyway, we have a basic problem:  while &quot;since&quot; seems to let us convert between duration (which has physical units), and an instant in time, there is a precision problem which calendar partly addresses/papers over: sometime we just talk about years (or much much longer), sometimes we ignore the variation in month length (calendar 360_days), sometimes we ignore the leap years (calendar 365_days or calendar 366_days), and we almost always ignore leap_seconds (at least I do, anyway).  The standard has to come to grips with this aspect of the conversion, which is always there, physical units being what they are.
<br />
<br />And there is a lot of data out there with year being the right sense of things -- the fuzziness is real -- tree ring data, coral data, ice cores, all count years more-or-less, though one wonders if a year is catastrophic enough whether it messes up the count.  Not to mention the data where year seems a bit small. Yes, we gave up on the passing of the seasons for defining &quot;time&quot;  a while ago, but many of us are modelling the earth, which means that the earth-bound descriptions of time are what we need to concisely describe what we are doing.
<br />
<br />Benno
<br />
<br /><br />On 3/26/11 6:07 PM, Benno Blumenthal wrote:
<br />
1/365 years since 1960-01-01 calendar 365_days (equivalent to days in
<br />
365_day calendar)
<br />
<br />Is it? what varies here, the length of the year or the length of the day? if the length of the year is well defined (what is it here?), the 1/365 years is well defined, and it very well may not be 24 hours. If if is, then why the heck do you not use &quot;days since&quot;?
<br />
<br />1/360 years since 1960-01-01 calendar 360_days (equivalent to days in
<br />
360_day calendar)
<br />
1/12 years since 1960-01-01 calendar 360_days (the much maligned months)
<br />
<br />but which month? one with a defined number of hours, all the same, or one that varies depending on where in the calendar year the data is?
<br />
<br />As I read these, I'm quite confused -- I can certainly see why one might what to collect or store data at such frequencies, but that's not what the CF standard is about. It is about clearly defining the data when stored, transmitted and shared -- ALL of the above examples are ripe for confusion, and could just as easily be expressed as &quot;hours since&quot; or &quot;days since&quot;.
<br />
<br />months since 1960-01-01 calendar 360_days
<br />
<br />what is a &quot;calendar 360_day&quot;?
<br />
<br />(just as a reminder -- it is
<br />
important to us, no matter how many people write to say months are
<br />
meaningless)
<br />
<br />I don't think any of us think months are meaningless -- simple that they are not a good choice for well-defined time durations.
<br />
<br />It seems to me that there are two cases:
<br />
<br />1) The data is defined on some kind of regular interval (or irregular, but on clearly defined points in the time continuum)  - in which case use an appropriate unit: seconds, hours, days. (days is open to debate, I suppose)
<br />
<br />or
<br />
<br />2) the data correspond to calendar months, i.e. monthly averaged data, etc -- a way to specify &quot;calendar unit&quot; makes sense: &quot;calendar months since 1989-01&quot;
<br />
<br />but using all these peculiar combination of units, so that the time variable can be: (1,2,3,4), rather than say, (0, 5, 10, 15) makes no sense to me.
<br />
<br />And is it used in any other context? If you have an instrument that is gathering data at 1/2hz, would you do:
<br />
<br />&quot;2 seconds since date-time&quot; then have your time variable be: (0,1,2,2)?
<br />
<br />I think not, you'd do:
<br />
<br />&quot;seconds since date-time&quot; and have your time variable be: (1,2,4,6)
<br />
<br />However, then you lose the semantics of a 3 month interval.  As Benno (sorry for spelling
<br />
your name wrong last time) showed, the semantics of the qualifier for x since have real
<br />
&nbsp;meaning in climate datasets.
<br />
<br />I am looking at how hard that would be to support, but it does add
<br />
perhaps unneeded complexity.
<br />
<br />But it adds semantics of the time periods in question.
<br />
<br />The question is &quot;is the added information worth the added complexity?&quot;. Also, one of the goal of the CF standard is to make it easier to have client software that can easily work with data from a variety of data sets -- this kind of thing makes it harder, not easier. If you want to give the user some information about the data collection interval, put it in optional meta-data.
<br />
<br /><br />There is a lot of talk about udunits as the &quot;reference library&quot;, and while I do see the value of a reference library, I also think that we need to remember that:
<br />
<br />1) we can define a standard without a specific reference lib actually existing.
<br />
<br />2) not every one is going to use udunits -- which means that if we add all this complexity to the standard, we need to not only add a  bunch of code to handle it in udunits, but also everyone else that uses other libraries for units has to deal with it -- please don't make me write that code!
<br />
<br />I have no idea how anyone else handles time in their client code, but what I do is:
<br />
<br />- first convert the time access to date-time objects
<br />
- second -- convert to whatever I need to do with it.
<br />
<br />I do this so that my client code can be all the same, I don't have to deal with multiple units, reference dates, etc in most of my code.
<br />
<br /><br />On 3/28/11 9:31 AM, Steve Hankin wrote:
<br />
&nbsp;&nbsp;1. the *use of &quot;months&quot; as a unit of measure*, with the intention
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that this refer to calendar months of varying length ... not a
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;unit of measure&quot; by the normal meaning of that word
<br />
<br />It's not clear to me that that is the intention, actually -- I htink it means that in some uses, and means &quot;1/12 of a year&quot; in others (even though year isn't clearly defined, either!)
<br />
<br />In fact, since udunits is the official reference lib,and it does define a month has being a specific length, I think current practice is the later use.
<br />
<br />The question before us is, does the fact that there are some existing
<br />
&quot;CF&quot; files that utilize these encodings, require that those encodings be
<br />
formalized into CF? It is hard to say &quot;no&quot; in such cases, because doing
<br />
so creates inconvenience for our colleagues and their users.
<br />
<br />Sure, but a standrad is defeined as &quot;everything in current use&quot;, there isin't really much point in having it at all.
<br />
<br />I think my point above is relevant here:
<br />
<br />We should look at each of these questions from the point of view of the
<br />
complexity of the software *reading* the file.
<br />
<br />+1
<br />
<br />-Chris
<br />
<br /><br /><br /><pre>
--
Christopher Barker, Ph.D.
Oceanographer
Emergency Response Division
NOAA/NOS/OR&amp;R            (206) 526-6959&lt;tel:%28206%29%20526-6959&gt;   voice
7600 Sand Point Way NE   (206) 526-6329&lt;tel:%28206%29%20526-6329&gt;   fax
Seattle, WA  98115       (206) 526-6317&lt;tel:%28206%29%20526-6317&gt;   main reception
Chris.Barker at noaa.gov&lt;mailto:Chris.Barker at noaa.gov&gt;
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
--
Dr. M. Benno Blumenthal          benno at iri.columbia.edu&lt;mailto:benno at iri.columbia.edu&gt;
International Research Institute for climate and society
The Earth Institute at Columbia University
Lamont Campus, Palisades NY 10964-8000   (845) 680-4450&lt;tel:%28845%29%20680-4450&gt;
--
Dr. M. Benno Blumenthal          benno at iri.columbia.edu&lt;mailto:benno at iri.columbia.edu&gt;
International Research Institute for climate and society
The Earth Institute at Columbia University
Lamont Campus, Palisades NY 10964-8000   (845) 680-4450
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20110330/2616ec4d/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20110330/2616ec4d/attachment-0001.html</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Wed Mar 30 2011 - 03:14:24 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3407">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3408.html" title="Next message in the list">Jeff deLaBeaujardiere: "[CF-metadata] CF Specification of Vertical Datums"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3406.html" title="Previous message in the list">Justin R. Davis: "[CF-metadata] CF Specification of Vertical Datums"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3411.html" title="Message to which this message replies">Benno Blumenthal: "[CF-metadata] udunits time unit question"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3386.html" title="Next message in this discussion thread">Don Murray: "[CF-metadata] udunits time unit question"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3407" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3407" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3407" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3407" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:44 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3406.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3408.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
