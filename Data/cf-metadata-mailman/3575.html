<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file from David Blodgett on 2011-07-27 (cf-metadata-mailman)</title>
<meta name="Author" content="David Blodgett (dblodgett)" />
<meta name="Subject" content="[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file" />
<meta name="Date" content="2011-07-27" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3574.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3576.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file</h1>
<!-- received="Wed Jul 27 10:23:40 2011" -->
<!-- isoreceived="20110727092340" -->
<!-- sent="Wed, 27 Jul 2011 11:23:40 -0500" -->
<!-- isosent="20110727162340" -->
<!-- name="David Blodgett" -->
<!-- email="dblodgett" -->
<!-- subject="[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file" -->
<!-- id="25597A62-D854-4757-BD57-4B742C2FE1C6_at_usgs.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4E3035FF.3040100_at_llnl.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3575" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3576.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] new TEOS-10 standard names&quot;">Next message</a> ]
[ <a href="./3574.html" title="Karl Taylor: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file&quot;">Previous message</a> ]
[ <a href="./3574.html" title="Karl Taylor: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3579.html" accesskey="t" title="Karl Taylor: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3575" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3575" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3575" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3575" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: David Blodgett &lt;<a href="mailto:dblodgett?Subject=Re%3A%20%5BCF-metadata%5D%20the%20need%20to%20store%20lat%2Flon%20coordinates%20in%20a%20CF%09metadata%20compliant%20netCDF%20file">dblodgett</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 27 Jul 2011 11:23:40 -0500</span><br />
</address>
<br />
Not to beat a dead horse, but this issue has been a huge stumbling block in our work to integrate data and software across the climate and geographic communities.
<br />
<br />The argument here is: Since CF data is usually so coarse and low precision complete geolocation metadata should not be required. 
<br />
<br />An example of why this matters: Two scientists take the same downscaled climate data that doesn't have a datum specification and import it into their application. One application assumes one datum, the other assumes another datum. Scientist 1's results differ from scientist 2's results. In situations where their are steep gradients in downscaled data, these differences may be substantial. 
<br />
<br />One solution would be to adopt a default datum for data lacking datum definition. So, given a file that uses lat/lon and claims to follow CF spec, a scientist could follow the specs guidance on what datum to assume. Without this type guidance or a requirement to include the information, lat/lon without a datum amounts to providing any other value without units.
<br />
<br />Dave
<br />
<br />On Jul 27, 2011, at 10:59 AM, Karl Taylor wrote:
<br />
<br /><em class="quotelev1">&gt; Dear all,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; another view:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Can't remember *all* the issues here, but certainly reporting the latitude and longitude points for GCM grids without further precision (e.g., information on the figure of the Earth) is sufficient for any comparison with observations.  Only certain (usually prescribed) conditions at the earth's surface (e.g., surface height) coming from a GCM should be trusted at the individual grid point scale, and no sub-grid scale information is directly available from the GCM (normally).  So, even if a station data is near the boundary of a GCM's grid-cell, it should hardly matter which of the grid cells it straddles you compare it to.  The GCM sort of gives you a grid cell average value that applies to some region in the vicinity of the  cell.  So, it doesn't matter where you think it is precisely located.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Down-scaled output from the GCM will be at higher resolution, but again since the original data doesn't apply at a point but for a general region (usually quite a bit larger than 12 km, and even if it weren't we wouldn't believe stuff going on at that scale), so where the cell is exactly located again doesn't matter.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; best regards,
</em><br />
<em class="quotelev1">&gt; Karl
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On 7/27/11 4:38 AM, David Blodgett wrote:
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Without the grid_mapping, the lat and lon still make sense in the common case
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (and original CF case) of GCM data, and in many other cases, the intended
</em><br />
<em class="quotelev3">&gt;&gt;&gt; usage of the data does not require precision about the figure of the Earth.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Although this metadata could be valuable if it can be defined, I think it would
</em><br />
<em class="quotelev3">&gt;&gt;&gt; be too onerous to require it.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; I hope to present on this very issue at AGU. The problem we see with ambiguous definition of datums is a cascade of non-recognition of datums through processing algorithms and in the output of some processes that generate very detailed data. 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; The prime example is downscaled climate data. Because the climate modelers involved generally consider lat/lon to be a lowest common denominator, the datum used to geolocate historical data (like rain gages) is neglected. What results is, in our case, a 1/8deg (12km) grid with no datum. This is unacceptable. As at this resolution, the errors in a wrong assumption of datum for the grid can cause very substantial (a full grid cell or more) geolocation errors.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; If the CF community intends to consume any ground based data, then datums must be preserved from ingest of ground based forcing throughout data storage and processing. This is fundamental information that is required for ALL data comparison operations.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; I would argue that CF compliance should require this information. This puts the requirement to make metadata assumptions on data publishers/producers rather than data consumers. It is unacceptable to have different data consumers making different assumptions of geolocation on the same data. 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; Off soapbox.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; Dave Blodgett
</em><br />
<em class="quotelev2">&gt;&gt; Center for Integrated Data Analytics (CIDA)
</em><br />
<em class="quotelev2">&gt;&gt; USGS WI Water Science Center
</em><br />
<em class="quotelev2">&gt;&gt; 8505 Research Way Middleton WI 53562
</em><br />
<em class="quotelev2">&gt;&gt; 608-821-3899 | 608-628-5855 (cell)
</em><br />
<em class="quotelev2">&gt;&gt; <a href="http://cida.usgs.gov">http://cida.usgs.gov</a>
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; On Jul 26, 2011, at 5:24 AM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Dear all
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; For datasets which are intended for analysis by end-users I think it would be
</em><br />
<em class="quotelev3">&gt;&gt;&gt; undesirable to remove the requirement of providing explicit lat and lon
</em><br />
<em class="quotelev3">&gt;&gt;&gt; coords even if a grid_mapping is provided. I think it is unrealistic to expect
</em><br />
<em class="quotelev3">&gt;&gt;&gt; all software which someone might use to analyse netCDF files to be able to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; recognise and act upon all possible values of the CF grid_mapping attribute,
</em><br />
<em class="quotelev3">&gt;&gt;&gt; and without the lat and lon information the user would have a problem. If the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; issue is storage space in the file I think the much better choice is to store
</em><br />
<em class="quotelev3">&gt;&gt;&gt; the explicit coordinates in another file, by extending the CF convention to
</em><br />
<em class="quotelev3">&gt;&gt;&gt; allow datasets to be distributed over several linked files, as gridspec does
</em><br />
<em class="quotelev3">&gt;&gt;&gt; for example.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Steve appears to suggest that grid_mapping is required in some circumstances,
</em><br />
<em class="quotelev3">&gt;&gt;&gt; but I don't think it is at present. However, the text Steve quotes may not be
</em><br />
<em class="quotelev3">&gt;&gt;&gt; quite right:
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   &quot;/When the coordinate variables for a horizontal grid are not
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   longitude and latitude,*_it is required that the true latitude and
</em><br />
<em class="quotelev3">&gt;&gt;&gt;   longitude coordinates be supplied_* via the coordinates attribute/.&quot;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; The text should make it clear that this requirement applies when the data has a
</em><br />
<em class="quotelev3">&gt;&gt;&gt; geolocated horizontal grid. It doesn't necessarily apply to idealised cases.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; We could clarify this with a defect ticket.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Cheers
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Jonathan
</em><br />
<em class="quotelev3">&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br />-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20110727/f52797be/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20110727/f52797be/attachment.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Wed Jul 27 2011 - 10:23:40 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3575">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3576.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] new TEOS-10 standard names"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3574.html" title="Previous message in the list">Karl Taylor: "[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3574.html" title="Message to which this message replies">Karl Taylor: "[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3579.html" title="Next message in this discussion thread">Karl Taylor: "[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./3579.html" title="Message sent in reply to this message">Karl Taylor: "[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3575" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3575" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3575" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3575" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:48 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3574.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3576.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
