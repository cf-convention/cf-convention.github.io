<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file from Heiko Klein on 2011-08-03 (cf-metadata-mailman)</title>
<meta name="Author" content="Heiko Klein (Heiko.Klein)" />
<meta name="Subject" content="[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file" />
<meta name="Date" content="2011-08-03" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3589.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3591.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file</h1>
<!-- received="Wed Aug  3 05:06:20 2011" -->
<!-- isoreceived="20110803040620" -->
<!-- sent="Wed, 03 Aug 2011 13:06:20 +0200" -->
<!-- isosent="20110803110620" -->
<!-- name="Heiko Klein" -->
<!-- email="Heiko.Klein" -->
<!-- subject="[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file" -->
<!-- id="4E392BAC.5010705_at_met.no" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="40C75EC1-9663-4907-9AF8-DD3F151A5631_at_usgs.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3590" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3591.html" accesskey="d" title="Bentley, Philip: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF-compliant netCDF file&quot;">Next message</a> ]
[ <a href="./3589.html" title="Tom Kunicki: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file&quot;">Previous message</a> ]
[ <a href="./3589.html" title="Tom Kunicki: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3591.html" accesskey="t" title="Bentley, Philip: &quot;[CF-metadata] the need to store lat/lon coordinates in a CF-compliant netCDF file&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3590" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3590" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3590" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3590" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Heiko Klein &lt;<a href="mailto:Heiko.Klein?Subject=Re%3A%20%5BCF-metadata%5D%20the%20need%20to%20store%20lat%2Flon%20coordinates%20in%20a%20CF%09metadata%20compliant%20netCDF%20file">Heiko.Klein</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 03 Aug 2011 13:06:20 +0200</span><br />
</address>
<br />
Hi Tom,
<br />
<br />thanks, after some reading the towgs-parameters seem to officially known 
<br />
as Bursa Wolf parameters, but I didn't know them by that name before.
<br />
<br />I hope CF could define a default datum, e.g. the GRS1980 Authalic 
<br />
Sphere, since this matches most closely with existing software 
<br />
(netcdf-java). This would make live easier for the software-developers 
<br />
who have to use something if nothing is given.
<br />
<br />Heiko
<br />
<br />On 2011-08-01 19:42, Tom Kunicki wrote:
<br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Heiko,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Comments below.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On Aug 1, 2011, at 2:56 AM, Heiko Klein wrote:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Hi,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; while trying to translate weather-model-data for the GIS community, and as such translating CF-parameters to proj4 parameters, I recognized some things:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; * The latitude-longitude field does not give any additional information to the grid-mapping. In fact, in most cases the latitude-longitude grid is calculated from the grid-mapping by the models. (Well, in fact the model don't output CF at all, but The grib-format only gives the grid-mappings).
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; * I didn't manage to describe a complete datum in CF 1.5. I'm only able to describe the ellipsoid, but not the reference point, i.e. the +towgs parameters in proj4.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I believe you are referencing the Bursa Wolf parameters needed to allow use of the a more accurate intra-datum transformation.  This is not currently supported in CF and it would be nice if it was.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; * and aren't the latitude-longitude positions not changing with the ellipsoid, too? It's nowhere stated in CF that the lat-lon coordinates are WGS84 geodetic coordinates.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; lat/lon positions do change between datums, which include the specification of the ellipsoid and the position of the prime meridian relative to greenwich.  For those hoping to store (and use!) data with adequate spatial resolution/certainty knowledge of the source datum is crucial.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; To the CF group..
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; One thing to keep in mind is that people are using CF for data other than GCM output.  When reference datum information is missing it's left to the user to track the information down.  At any stage in the creation of CF compliant file,  where datum information is known it *must* be inserted.  Without this one is doing a disservice to the users of their data.   I will acknowledge that many creators may not understand the importance of this information.  But for many users attempting to utilize data without any reference to a datum is a big issue and it shouldn't be ignored.  If the user wants to ignore the information based on their usage of the data that's their prerogative.  By not including it you are not giving your users a choice.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Tom
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Heiko
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; On 2011-07-28 15:29, John Caron wrote:
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Hi all:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; If I understand the situation, a GCM, whether global or regional, always
</em><br />
<em class="quotelev3">&gt;&gt;&gt; has a datum. In the simple case, its just the radius of a spherical
</em><br />
<em class="quotelev3">&gt;&gt;&gt; earth. However, for current global models its typical that this datum
</em><br />
<em class="quotelev3">&gt;&gt;&gt; doesnt affect anything (presumably as long as its within the typical
</em><br />
<em class="quotelev3">&gt;&gt;&gt; range of values). Is that correct?
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; It seems that modelers are wary of downstream users incorrectly assuming
</em><br />
<em class="quotelev3">&gt;&gt;&gt; that the grid point locations have more precision than is warrented, and
</em><br />
<em class="quotelev3">&gt;&gt;&gt; possibly drawing incorrect conclusions about accuracy etc. Is that the case?
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; In performing transformations, software has to use a datum, and so will
</em><br />
<em class="quotelev3">&gt;&gt;&gt; make an assumption if the datum is missing. It would be nice if a human
</em><br />
<em class="quotelev3">&gt;&gt;&gt; was made aware of that assumption, but in practice this mostly wont happen.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; If the above is correct, I would advocate a sentence in section X
</em><br />
<em class="quotelev3">&gt;&gt;&gt; something like:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; /CF recommends that data providers always specify the datum. In the
</em><br />
<em class="quotelev3">&gt;&gt;&gt; simplest case, this just means adding a _latitude_longitude_//grid
</em><br />
<em class="quotelev3">&gt;&gt;&gt; mapping with the value of the spherical earth radius that was used in
</em><br />
<em class="quotelev3">&gt;&gt;&gt; the model. However, data users are cautioned not to infer unwarranted
</em><br />
<em class="quotelev3">&gt;&gt;&gt; precision of the model grid point locations when comparing to observations./
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Or something like that, probably needs some tweaking.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; John
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; On 7/28/2011 6:47 AM, David Blodgett wrote:
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Dear Jonathan, All,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Coming from the perspective of a geographer, for CF to be &quot;a
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; convention whereby people can provide accurate and complete metadata
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; for their data.&quot; Datum specification would be required.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; I understand that the normal practice in the climate science community
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; is to throw out datum information from ingested ground based data as
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; it is being applied to a model or summary product that essentially
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; smears the measurement in space. So in fact, for strict accuracy of
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; geolocation for course resolution low numerical accuracy applications,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; a datum may not add anything of value. Its clear I'm not going to win
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; this argument by claiming that the status quo should not impose
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; inaccuracy on the edge case.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; I hope that software developers do throw warnings when data has an
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; unknown piece of information that is required to perform a geographic
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; transformation. This lack of required information for processing is
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; really the crux of the issue and why I have pushed it this far.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; In Chapter 4 (.1-.2) no recognition is given to the fact that latitude
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; or longitude coordinates are essentially meaningless without the
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; assumption of a datum, this recognition would go a long way to making
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; me more comfortable with the spec. Something like the follows is may
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; be warranted.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; /Data consumers should be aware that latitude and longitude
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; coordinates lacking description of the ellipsoid shape and prime
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; meridian, or datum, must be assumed to lie on any arbitrary datum. It
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; should be understood that it is up to end users of such data to assign
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; this information according to their best judgement. We recommend, when
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; accurate grid geolocation is appropriate, for data producers or
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; publishers to use a /_/latitude_longitude/_/grid mapping as described
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; in chapter 5.6./
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; /
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; /
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Cheers,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Dave
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; On Jul 28, 2011, at 5:00 AM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Dear Dave
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; I sympathise with your concerns about the consequences of missing
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; datums but
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; I don't think CF can help a lot.
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;&gt;&gt;&gt;&gt; Are there any arguments against CF recommending a standard datum
</em><br />
<em class="quotelev2">&gt;&gt;&gt;&gt;&gt;&gt; assumption when intersecting data without a datum specified with
</em><br />
<em class="quotelev2">&gt;&gt;&gt;&gt;&gt;&gt; data that does have a datum specified?
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; I don't think that's the role of CF. CF is a convention whereby
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; people can
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; provide accurate and complete metadata for their data. If the data
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; provider
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; doesn't have a real-world datum that could be specified, it is not
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; appropriate
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; for CF to suggest what it should be, I would argue. In fact, most
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; parts of CF
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; are optional. People may choose not to describe their data with
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; standard_names
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; for example. They are not mandatory, but of course it makes the data less
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; useful if they are not supplied. I think the best can be done, rather as
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Balaji suggests, is for software that reads CF files to emit warnings
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; about
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; metadata which could have been included but isn't, so that analysts
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; are aware.
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Best wishes
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Jonathan
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;
</em><br />
<span id="received"><dfn>Received on</dfn> Wed Aug 03 2011 - 05:06:20 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3590">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3591.html" title="Next message in the list">Bentley, Philip: "[CF-metadata] the need to store lat/lon coordinates in a CF-compliant netCDF file"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3589.html" title="Previous message in the list">Tom Kunicki: "[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3589.html" title="Message to which this message replies">Tom Kunicki: "[CF-metadata] the need to store lat/lon coordinates in a CF	metadata compliant netCDF file"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3591.html" title="Next message in this discussion thread">Bentley, Philip: "[CF-metadata] the need to store lat/lon coordinates in a CF-compliant netCDF file"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./3591.html" title="Message sent in reply to this message">Bentley, Philip: "[CF-metadata] the need to store lat/lon coordinates in a CF-compliant netCDF file"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3590" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3590" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3590" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3590" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:48 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3589.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3591.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
