<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CDM calendar date handling from Lynnes, Christopher S. on 2011-08-19 (cf-metadata-mailman)</title>
<meta name="Author" content="Lynnes, Christopher S. (christopher.s.lynnes)" />
<meta name="Subject" content="[CF-metadata] CDM calendar date handling" />
<meta name="Date" content="2011-08-19" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3673.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3675.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CDM calendar date handling</h1>
<!-- received="Fri Aug 19 15:38:50 2011" -->
<!-- isoreceived="20110819143850" -->
<!-- sent="Fri, 19 Aug 2011 16:38:50 -0500" -->
<!-- isosent="20110819213850" -->
<!-- name="Lynnes, Christopher S." -->
<!-- email="christopher.s.lynnes" -->
<!-- subject="[CF-metadata] CDM calendar date handling" -->
<!-- id="BDECC342-A075-4E6A-97A0-B3F862C5970D_at_nasa.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4E4EC3C3.5010502_at_llnl.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3674" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3675.html" accesskey="d" title="Don Murray: &quot;[CF-metadata] CDM calendar date handling&quot;">Next message</a> ]
[ <a href="./3673.html" title="Karl Taylor: &quot;[CF-metadata] CDM calendar date handling&quot;">Previous message</a> ]
[ <a href="./3673.html" title="Karl Taylor: &quot;[CF-metadata] CDM calendar date handling&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3676.html" accesskey="t" title="Jonathan Gregory: &quot;[CF-metadata] CDM calendar date handling&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3674" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3674" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3674" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3674" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Lynnes, Christopher S. &lt;<a href="mailto:christopher.s.lynnes?Subject=Re%3A%20%5BCF-metadata%5D%20CDM%20calendar%20date%20handling">christopher.s.lynnes</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 19 Aug 2011 16:38:50 -0500</span><br />
</address>
<br />
On Aug 19, 2011, at 4:12 PM, Karl Taylor wrote:
<br />
<br /><em class="quotelev1">&gt; Hi all,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt;  My understanding is that leap-seconds are inserted so that the calendar remains (almost) perfectly synchronized with the seasons.  If,  under the CF convention, leap seconds are ignored and time is recorded as, say, &quot;days since 2007&quot;, and two times were recorded, 0.5 and 365.5, those times would correspond to 12 noon of Jan 1, 2007 and  12 noon of Jan 1, 2008.  If, however, the CF calendar were required to be truly realistic, the leap second which in fact was inserted at the end of 2007 would mean the second time should be 11:59:59 of Jan 1, 2008.  
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I am pretty sure that the vast majority of datasets stored under the CF convention will not take into account leap seconds and will record times assuming they are not there.  I think it is unrealistic to assume users will adhere to a truly realistic calendar when recording their times.  In the above example, if the measurements were made at noon of each day, then you would have to record times of 0.5 and 365.5+1./(24*60*60) = 365.500011574 (rather than 0.5 and 365.5). 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I therefore think the CF convention should specify that the times recorded in files should be interpreted according to the specified calendar, but assuming that leap-seconds have been ignored.
</em><br />
<br />I can't disagree with your reasoning as existing datasets in CF are likely dominated by model outputs.  I should mention that it may cause some consternation among folks who are just now struggling to make more satellite data available in CF. The implication to them will be that they need to uncorrect (oops, not a word according to spellcheck) the leap seconds in their data in order to be truly CF-compliant. (This won't be an issue with Level 3 data, but we were just starting to make progress with Level 1 and Level 2 data...)
<br />
<br />Perhaps there could be an attribute we could set that says whether we have accounted for leap seconds?  With the absence of such an attribute to be presumed as meaning leap seconds have been ignored.
<br />
<br /><em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; cheers,
</em><br />
<em class="quotelev1">&gt; Karl
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On 8/19/11 9:28 AM, John Caron wrote:
</em><br />
<em class="quotelev2">&gt;&gt; On 8/19/2011 7:48 AM, Lynnes, Christopher S. (GSFC-6102) wrote:
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; On Aug 19, 2011, at 7:54 AM, Jon Blower wrote:
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Hi  Chris,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Does the calendar system usually define whether leap-seconds are taken into account or not?
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Generally speaking, I don't believe so, if only because calendar systems usually go down to the day granularity. Seconds-based doordinate time standards, such as UTC and TAI do, because they have to.  Julian date (NOT the day of year many associate with the name) is an exception, with its fractional dates.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; In other words, given knowledge of which calendar system is in use, could a library make the correct calculation?  Or is other information needed too?
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; In my limited understanding, a calendar system might track leap seconds 
</em><br />
<em class="quotelev2">&gt;&gt; or not. If it does, then all calendar fields (except seconds and 
</em><br />
<em class="quotelev2">&gt;&gt; millisecs) would be variable length. But for any given calendar, the 
</em><br />
<em class="quotelev2">&gt;&gt; interval (in seconds) between two valid dates would be well defined. Of 
</em><br />
<em class="quotelev2">&gt;&gt; course, these intervals will differ between calendars.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; Therefore, one can talk about a &quot;correct&quot; implementation of a calendar 
</em><br />
<em class="quotelev2">&gt;&gt; system, and one can talk about the difference between two calendar 
</em><br />
<em class="quotelev2">&gt;&gt; systems, one of which is the correct one to use in some context. 
</em><br />
<em class="quotelev2">&gt;&gt; Otherwise, im not sure there really is a &quot;correct calculation&quot;, or at 
</em><br />
<em class="quotelev2">&gt;&gt; least that might be a confusing way to state the issue.
</em><br />
<em class="quotelev2">&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br /><pre>
--
Dr. Christopher Lynnes     NASA/GSFC, Code 610.2    phone: 301-614-5185
</pre>
<span id="received"><dfn>Received on</dfn> Fri Aug 19 2011 - 15:38:50 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3674">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3675.html" title="Next message in the list">Don Murray: "[CF-metadata] CDM calendar date handling"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3673.html" title="Previous message in the list">Karl Taylor: "[CF-metadata] CDM calendar date handling"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3673.html" title="Message to which this message replies">Karl Taylor: "[CF-metadata] CDM calendar date handling"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3676.html" title="Next message in this discussion thread">Jonathan Gregory: "[CF-metadata] CDM calendar date handling"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./3676.html" title="Message sent in reply to this message">Jonathan Gregory: "[CF-metadata] CDM calendar date handling"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3674" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3674" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3674" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3674" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:50 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3673.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3675.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
