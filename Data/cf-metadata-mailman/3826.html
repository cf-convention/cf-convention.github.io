<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Question on WKT representation of CRS (Bentley, Philip) &gt; (Kennedy, Paul) from TOYODA Eizi on 2011-10-06 (cf-metadata-mailman)</title>
<meta name="Author" content="TOYODA Eizi (toyoda.eizi)" />
<meta name="Subject" content="[CF-metadata] Question on WKT representation of CRS (Bentley, Philip) &gt; (Kennedy, Paul)" />
<meta name="Date" content="2011-10-06" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3825.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3827.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Question on WKT representation of CRS (Bentley, Philip) &gt; (Kennedy, Paul)</h1>
<!-- received="Wed Oct  5 22:40:44 2011" -->
<!-- isoreceived="20111005214044" -->
<!-- sent="Thu, 6 Oct 2011 13:40:44 +0900" -->
<!-- isosent="20111006044044" -->
<!-- name="TOYODA Eizi" -->
<!-- email="toyoda.eizi" -->
<!-- subject="[CF-metadata] Question on WKT representation of CRS (Bentley, Philip) &gt; (Kennedy, Paul)" -->
<!-- id="DFF6244DBF1746C1B674E167594CF3F9_at_met.kishou.go.jp" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="082899B024C30D459BA9ACD1C5E58119033A2514&#64;msd9.MSD.local" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3826" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3827.html" accesskey="d" title="Rainer Feistel: &quot;[CF-metadata] new TEOS-10 standard names&quot;">Next message</a> ]
[ <a href="./3825.html" title="Chen, Chaing: &quot;[CF-metadata] propose a new standard name&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3826" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3826" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3826" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3826" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: TOYODA Eizi &lt;<a href="mailto:toyoda.eizi?Subject=Re%3A%20%5BCF-metadata%5D%20Question%20on%20WKT%20representation%20of%20CRS%20(Bentley%2C%20Philip)%20%3E%20(Kennedy%2C%20Paul)">toyoda.eizi</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 6 Oct 2011 13:40:44 +0900</span><br />
</address>
<br />
Hi Paul,
<br />
<br />Great to hear that.
<br />
<br />I'm thinking of a compound CRS with WGS84 and geoid height.  I feel scary 
<br />
finding EPSG:4979 often used in experiments of aviational meteorology data, 
<br />
since that is for ellipsoid height.  I don't want to see an airplane hit the 
<br />
terrain when the pilot believes being 200ft agl.
<br />
<br />Back to the topic: I think registry codes like EPSG should be recommended 
<br />
(in comparison to ad-hoc WKT) if the registration is not so much more 
<br />
difficult than that for CF standard_name.
<br />
<br />Best,
<br />
<pre>
--
TOYODA Eizi,
----- Original Message ----- 
From: &quot;Kennedy, Paul&quot; &lt;P.Kennedy at fugro.com.au&gt;
To: &quot;TOYODA Eizi&quot; &lt;toyoda at gfd-dennou.org&gt;; &quot;Patrick Sunter&quot; 
&lt;patdevelop at gmail.com&gt;; &lt;cf-metadata at cgd.ucar.edu&gt;
Sent: Wednesday, October 05, 2011 11:18 PM
Subject: RE: [CF-metadata] Question on WKT representation of CRS 
(Bentley,Philip) &gt; (Kennedy, Paul)
Hi
nope (for me at least!).  We do it regularly.  I can put you on to the
guy in our shop who knows the procedure very well.
regards
pk
-----Original Message-----
From: TOYODA Eizi [mailto:toyoda at gfd-dennou.org]
Sent: Wednesday, 5 October 2011 10:16 PM
To: Kennedy, Paul; Patrick Sunter; cf-metadata at cgd.ucar.edu
Subject: Re: [CF-metadata] Question on WKT representation of CRS
(Bentley,Philip) &gt; (Kennedy, Paul)
Dears,
Is it difficult to register a new EPSG code?  I'm curious since I
haven't
tried, but they seem trying to be open to new proposal.
Best Regards,
-- 
Eizi TOYODA
twitter.com/e_toyoda | toyoda.eizi at gmail.com
----- Original Message ----- 
From: &quot;Kennedy, Paul&quot; &lt;P.Kennedy at fugro.com.au&gt;
To: &quot;Patrick Sunter&quot; &lt;patdevelop at gmail.com&gt;; &lt;cf-metadata at cgd.ucar.edu&gt;
Sent: Wednesday, October 05, 2011 5:56 PM
Subject: Re: [CF-metadata] Question on WKT representation of CRS
(Bentley,Philip) &gt; (Kennedy, Paul)
Hi Patrick,
I fully agree.  There are a few instances (getting fewer but still)
where
EPSG does not have an official code.  In these instances WKT would
certainly
be appropriate.
However, for the vast majority case an EPSG code would suffice, and is
far
easier to produce and consume.
I take the point of self-description.  I guess it is a matter of cost Vs
benefit for how far you wish to dig down into data definitions.
regards
-----Original Message-----
From: cf-metadata-bounces at cgd.ucar.edu
[mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Patrick Sunter
Sent: Wednesday, 5 October 2011 2:06 PM
To: cf-metadata at cgd.ucar.edu
Subject: Re: [CF-metadata] Question on WKT representation of CRS
(Bentley,
Philip) &gt; (Kennedy, Paul)
&gt; 4. Re: Question on WKT representation of CRS (Bentley, Philip)
&gt; (Kennedy, Paul)
&gt; Message: 4
&gt; Date: Wed, 5 Oct 2011 10:07:48 +0800
&gt; From: &quot;Kennedy, Paul&quot; &lt;P.Kennedy at fugro.com.au&gt;
&gt; Subject: Re: [CF-metadata] Question on WKT representation of CRS
&gt; (Bentley, Philip)
&gt; To: &quot;Seth McGinnis&quot; &lt;mcginnis at ucar.edu&gt;, &lt;cf-metadata at cgd.ucar.edu&gt;
&gt; Message-ID: &lt;082899B024C30D459BA9ACD1C5E58119033A2284 at msd9.MSD.local&gt;
&gt; Content-Type: text/plain; charset=&quot;us-ascii&quot;
&gt;
&gt; Hi
&gt; I agree adding something like 'datum = &quot;WGS84&quot; is very easy for
&gt; modellers to adopt, but in geodetics terms this is very ambiguous.
&gt; While it is simple, it is simply not enough.
&gt;
&gt; If you want simple, a solid approach is EPSG codes.
&gt;
&gt; Take a look at the openlayers examples at:
&gt; <a href="http://trac.osgeo.org/openlayers/wiki/SphericalMercator">http://trac.osgeo.org/openlayers/wiki/SphericalMercator</a> and
&gt; <a href="http://docs.openlayers.org/library/spherical_mercator.html">http://docs.openlayers.org/library/spherical_mercator.html</a>
&gt;
&gt; Openlayers, GoogleEarth, BingMaps, WMS specifications and many others
&gt; use the EPSG codes as an unambiguous, brief yet explicit definition of
&gt; the underlying geodetic parameters.
&gt;
&gt; A very good reference for the EPSG / WKT codes can be found at
&gt; <a href="http://spatialreference.org/">http://spatialreference.org/</a>
&gt;
&gt; The most simple example is WGS84 LatLong (No projection)
&gt;
&gt; Using EPSG your metadata would need to be:
&gt; &quot;EPSG:4326&quot;
&gt;
&gt; Using WKT your metadata would need to be:
&gt; GEOGCS[&quot;WGS 84&quot;,
&gt; DATUM[&quot;WGS_1984&quot;,
&gt; SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
&gt; PRIMEM[&quot;Greenwich&quot;,0,
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
&gt; UNIT[&quot;degree&quot;,0.01745329251994328,
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]
&gt;
&gt;
&gt; Existing CF metadata conventions for CRS definition will cover this
&gt; without difficulty.
&gt;
&gt; If we take spherical mercator as an example (this is still a simple
&gt; one!)
&gt;
&gt; Using EPSG codes your metadata would be:
&gt; &quot;EPSG:900913&quot;
&gt;
&gt; Using WKT you would need the following metadata:
&gt; 900913=PROJCS[&quot;WGS84 / Simple Mercator&quot;,
&gt; GEOGCS[&quot;WGS 84&quot;,
&gt; DATUM[&quot;WGS_1984&quot;,
&gt; SPHEROID[&quot;WGS_1984&quot;, 6378137.0, 298.257223563]],
&gt; PRIMEM[&quot;Greenwich&quot;, 0.0],
&gt; UNIT[&quot;degree&quot;, 0.017453292519943295],
&gt; AXIS[&quot;Longitude&quot;, EAST],
&gt; AXIS[&quot;Latitude&quot;, NORTH]],
&gt; PROJECTION[&quot;Mercator_1SP_Google&quot;],
&gt; PARAMETER[&quot;latitude_of_origin&quot;, 0.0],
&gt; PARAMETER[&quot;central_meridian&quot;, 0.0],
&gt; PARAMETER[&quot;scale_factor&quot;, 1.0],
&gt; PARAMETER[&quot;false_easting&quot;, 0.0],
&gt; PARAMETER[&quot;false_northing&quot;, 0.0],
&gt; UNIT[&quot;m&quot;, 1.0], AXIS[&quot;x&quot;, EAST],
&gt; AXIS[&quot;y&quot;, NORTH],
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;900913&quot;]]
&gt;
&gt; This is now stretching the existing CRS specification as defined in CF
&gt; convention.
&gt;
&gt;
&gt; Taking a more complex example, the state mapping grid for California.
&gt;
&gt; Using EPSG codes your metadata would be:
&gt; &quot;EPSG:7008, 9822&quot;
&gt;
&gt; in WKT would be something like:
&gt; PROJCS[&quot;NAD27 / California Albers&quot;,
&gt; GEOGCS[&quot;NAD27&quot;,
&gt; DATUM[&quot;North American Datum 1927&quot;,
&gt; SPHEROID[&quot;Clarke 1866&quot;, 6378206.4, 294.97869821389821,
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;7008&quot;]],
&gt; TOWGS84[-2, 152, 149, 0, 0, 0, 0],
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;6267&quot;]],
&gt; PRIMEM[&quot;Greenwich&quot;, 0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
&gt; UNIT[&quot;degree&quot;, 0.017453292519943295, AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
&gt; AXIS[&quot;Geodetic latitude&quot;, NORTH, AUTHORITY[&quot;EPSG&quot;,&quot;106&quot;]],
&gt; AXIS[&quot;Geodetic longitude&quot;, EAST, AUTHORITY[&quot;EPSG&quot;,&quot;107&quot;]],
&gt; TOITRS[&quot;NAD27 to WGS 84 (21)&quot;,&quot;1249&quot;],
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;4267&quot;]],
&gt; PROJECTION[&quot;Albers Equal Area&quot;, AUTHORITY[&quot;EPSG&quot;,&quot;9822&quot;]],
&gt; PARAMETER[&quot;central_meridian&quot;, -120],
&gt; PARAMETER[&quot;latitude_of_origin&quot;, 0],
&gt; PARAMETER[&quot;standard_parallel_1&quot;, 34],
&gt; PARAMETER[&quot;standard_parallel_2&quot;, 40.5],
&gt; PARAMETER[&quot;false_easting&quot;, 0],
&gt; PARAMETER[&quot;false_northing&quot;, -4000000],
&gt; UNIT[&quot;metre&quot;, 1, AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],
&gt; AXIS[&quot;Easting&quot;, EAST, AUTHORITY[&quot;EPSG&quot;,&quot;41&quot;]],
&gt; AXIS[&quot;Northing&quot;, NORTH, AUTHORITY[&quot;EPSG&quot;,&quot;42&quot;]],
&gt; AUTHORITY[&quot;EPSG&quot;,&quot;3309&quot;]]
&gt;
&gt; We use WKT for our specification, and it works perfectly fine, but
they
&gt; can get big. The largest one reported to me was 3Kbytes long. I tried
&gt; to dig it out but no luck.
&gt;
&gt; In summary, my recommendation would be to support EPSG codes for
&gt; scientists who require a simple mechanism to define a CRS, but also
&gt; permit WKT to be specified in cases where a comprehensive CRS
definition
&gt; is required. EPSG code &quot;EPSG:4326&quot; would fulfill the vast majority of
&gt; cases where basic latitude/longitude from GPS is in use.
Just to elaborate a little on EPSG codes vs WKT: the EPSG codes allows
you to succinctly summarise a whole CRS, which can map to quite a long
WKT.
However, it's quite possible to have a dataset that doesn't conform to
an existing EPSG since it uses a custom projection - so it's important
to have the flexibility to encode the full information. An example
use-case we have of this is satellite data downloaded from the WELD
project that we want to convert to NetCDF - it's CRS is a custom
Albers Equal Area that doesn't have an EPSG code.
PROJCS[&quot;AEA        WGS 1984&quot;,
    GEOGCS[&quot;WGS 84&quot;,
        DATUM[&quot;WGS_1984&quot;,
            SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
                AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
            AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
        PRIMEM[&quot;Greenwich&quot;,0],
        UNIT[&quot;degree&quot;,0.0174532925199433],
        AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],
    PROJECTION[&quot;Albers_Conic_Equal_Area&quot;],
    PARAMETER[&quot;standard_parallel_1&quot;,29.5],
    PARAMETER[&quot;standard_parallel_2&quot;,45.5],
    PARAMETER[&quot;latitude_of_center&quot;,23],
    PARAMETER[&quot;longitude_of_center&quot;,-96],
    PARAMETER[&quot;false_easting&quot;,0],
    PARAMETER[&quot;false_northing&quot;,0],
    UNIT[&quot;metre&quot;,1,
        AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]]]
It has ESPG codes for the spheroid and datum defined, but not for the
CRS as a whole.
I guess an issue with allowing people to only specify EPSG code, is
that it tends to go against the 'fully-self-describing' goal of NetCDF
CF? Unless you were also saving the parameters as attributes of the
grid_mapping variable, or as WKT string.
cheers, Patrick.
&gt;
&gt; regards
&gt; pk
&gt;
&gt;
&gt;
&gt;
&gt; -----Original Message-----
&gt; From: cf-metadata-bounces at cgd.ucar.edu
&gt; [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Seth McGinnis
&gt; Sent: Wednesday, 5 October 2011 6:50 AM
&gt; To: cf-metadata at cgd.ucar.edu
&gt; Subject: Re: [CF-metadata] Question on WKT representation of CRS
&gt; (Bentley, Philip)
&gt;
&gt; On Tue, 4 Oct 2011 15:28:15 +0100
&gt; Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt; wrote:
&gt;&gt;
&gt;&gt;The CF convention as it stands can say a lot less, but it does look
&gt; more
&gt;&gt;self-explanatory to me! The meaning of the WKT is not clear to me. I'm
&gt; quite
&gt;&gt;uneasy about importing a convention into CF which produces opaque
&gt; metadata
&gt;&gt;like this, even though it is no doubt machine-readable.
&gt;
&gt; I'm uneasy about opaque metadata, too, especially when it comes
&gt; to model output. (I'm agnostic about its use for observational
&gt; data, or as an optional add-on.)
&gt;
&gt; Pragmatically, I think modelers could be asked to add some more
&gt; parameters to their projection metadata, things like 'datum =
&gt; &quot;WGS84&quot;' or 'ellipsoid = &quot;spherical&quot;', and that would be
&gt; successful. I think if they were asked to add something long and
&gt; mysterious like WKT, there would be a lot of model output with
&gt; metadata that's either non-conformant or flat-out wrong.
&gt;
&gt; Another consideration, mentioned in a previous thread about
&gt; datums, is that the reality of atmospheric models is they
&gt; generally run on a spherical earth but use forcings taken from
&gt; WGS84 locations without any transformation. So the datum is
&gt; somewhat ill-defined in the first place. Would having WKT
&gt; available for these cases imply a misleading level of
&gt; specificity?
&gt;
&gt; Cheers,
&gt;
&gt; --Seth
&gt;
&gt; _______________________________________________
&gt; CF-metadata mailing list
&gt; CF-metadata at cgd.ucar.edu
&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
&gt;
&gt;
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</pre>
<span id="received"><dfn>Received on</dfn> Wed Oct 05 2011 - 22:40:44 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3826">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3827.html" title="Next message in the list">Rainer Feistel: "[CF-metadata] new TEOS-10 standard names"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3825.html" title="Previous message in the list">Chen, Chaing: "[CF-metadata] propose a new standard name"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3826" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3826" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3826" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3826" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:52 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3825.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3827.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
