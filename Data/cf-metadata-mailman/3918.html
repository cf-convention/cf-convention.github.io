<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] standards for probabilities from Kettleborough, Jamie on 2011-11-16 (cf-metadata-mailman)</title>
<meta name="Author" content="Kettleborough, Jamie (jamie.kettleborough)" />
<meta name="Subject" content="[CF-metadata] standards for probabilities" />
<meta name="Date" content="2011-11-16" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3917.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3919.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] standards for probabilities</h1>
<!-- received="Wed Nov 16 03:53:22 2011" -->
<!-- isoreceived="20111116035322" -->
<!-- sent="Wed, 16 Nov 2011 10:53:22 -0000" -->
<!-- isosent="20111116105322" -->
<!-- name="Kettleborough, Jamie" -->
<!-- email="jamie.kettleborough" -->
<!-- subject="[CF-metadata] standards for probabilities" -->
<!-- id="E51EDFEBF10BE44BB4BDAF5FC2F024B90FB7F875_at_EXXMAIL02.desktop.frd.metoffice.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="1523797028.300242.1321362879103.JavaMail.root_at_imap1a" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3918" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3919.html" accesskey="d" title="Vegard B&#0248;nes: &quot;[CF-metadata] standards for probabilities&quot;">Next message</a> ]
[ <a href="./3917.html" title="Schultz, Martin: &quot;[CF-metadata] 2. Re: [cf-satellite] Sharing quality flags among multiple variables (Jonathan Gregory)&quot;">Previous message</a> ]
[ <a href="./3911.html" title="Vegard B&#0248;nes: &quot;[CF-metadata] standards for probabilities&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3919.html" accesskey="t" title="Vegard B&#0248;nes: &quot;[CF-metadata] standards for probabilities&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3918" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3918" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3918" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3918" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Kettleborough, Jamie &lt;<a href="mailto:jamie.kettleborough?Subject=Re%3A%20%5BCF-metadata%5D%20standards%20for%20probabilities">jamie.kettleborough</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 16 Nov 2011 10:53:22 -0000</span><br />
</address>
<br />
Hello Vegard,
<br />
<br />How do you generate your cdf from your realisations?  Do you simply weight each ensemble member equally?  I think there are cases where you may weight by some measure of how 'good' you think the ensemble member is (some sort of measure of its error - you downweight those with high errors).  If you are storing the output from ensemble members in the file then think cf allows for this using the 'realzation_weight' standard name - to store your errors/weights in the file.
<br />
<br />Furthermore you may want to know the sensitivity of your cdf to your error estimates so you could have more than one cdf for the same variable, but based on different ways of deriving the errors/weights.
<br />
<br />Is this something CF needs to worry about, or is it a case of trying to add something that's not really needed yet?  Or maybe this is not in scope for CF anyway, and it should be left to something more like 'audit/history/provenance' meta data?
<br />
<br />Jamie 
<br />
<br /><em class="quotelev1">&gt; -----Original Message-----
</em><br />
<em class="quotelev1">&gt; From: cf-metadata-bounces at cgd.ucar.edu 
</em><br />
<em class="quotelev1">&gt; [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Vegard B?nes
</em><br />
<em class="quotelev1">&gt; Sent: 15 November 2011 13:15
</em><br />
<em class="quotelev1">&gt; To: Jonathan Gregory
</em><br />
<em class="quotelev1">&gt; Cc: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] standards for probabilities
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Thank you, Jonathan! :)
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; So, a bit more concrete, this is option 1:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; float rain_25(time, y, x);
</em><br />
<em class="quotelev1">&gt;  rain_25:standard_name = &quot;precipitation_amount&quot;;  
</em><br />
<em class="quotelev1">&gt; rain_25:cell_methods = &quot;realization: percentile(25)&quot;;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; The only problem I see with this is that in the resulting cdm 
</em><br />
<em class="quotelev1">&gt; realization is not used anywhere, apart from possibly in cell 
</em><br />
<em class="quotelev1">&gt; methods. But maybe this is ok?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; If I understand the second option correctly, this would lead 
</em><br />
<em class="quotelev1">&gt; to something like this:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; float precipitation_amount(time, percentile, y, x);  ...
</em><br />
<em class="quotelev1">&gt; float percentile(percentile);
</em><br />
<em class="quotelev1">&gt;  percentile:units = &quot;1&quot;;
</em><br />
<em class="quotelev1">&gt;  percentile:standard_name = 
</em><br />
<em class="quotelev1">&gt; &quot;cumulative_distribution_function_of_precipitation_amount&quot;;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; But what is the purpose of explicitly refering to 
</em><br />
<em class="quotelev1">&gt; precipitation_amount in the standard name? would not 
</em><br />
<em class="quotelev1">&gt; cumulative_distribution_function be better? Then the same 
</em><br />
<em class="quotelev1">&gt; dimension could be used for other data, such as air_temperature.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Or, if we want to add something about the nature of the 
</em><br />
<em class="quotelev1">&gt; source data for the function, it could be called something 
</em><br />
<em class="quotelev1">&gt; like cumulative_distribution_function_due_to_realization?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I am still a bit uncertain about what is the best, though.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; -- Vegard
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- Original Message -----
</em><br />
<em class="quotelev1">&gt; Fra: &quot;Jonathan Gregory&quot; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; Til: &quot;Vegard B??nes&quot; &lt;vegard.bones at met.no&gt;
</em><br />
<em class="quotelev1">&gt; Kopi: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Sendt: 15. november 2011 11:11:52
</em><br />
<em class="quotelev1">&gt; Emne: Re: [CF-metadata] standards for probabilities
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dear Vegard
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; I want to express such things as &quot;25th percentile 
</em><br />
<em class="quotelev1">&gt; precipitation amount&quot; (based on ensemble data), and 
</em><br />
<em class="quotelev1">&gt; probability that air temperature will be within 2.5 degrees 
</em><br />
<em class="quotelev1">&gt; of the forecast. How should I do this? 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; You are right, this case has not yet been dealt with, 
</em><br />
<em class="quotelev1">&gt; although the guidelines for construction of standard names 
</em><br />
<em class="quotelev1">&gt; foresee that needs like this might arise!
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; If the quantity is a precipitation_amount, it's fine to use 
</em><br />
<em class="quotelev1">&gt; that standard name. The question is how to record that is the 
</em><br />
<em class="quotelev1">&gt; 25th percentile. Two possible ways to do this would be:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; * To extend the possible syntax of cell_methods so that it 
</em><br />
<em class="quotelev1">&gt; can describe percentiles. It is already possible to indicate 
</em><br />
<em class="quotelev1">&gt; a median in cell_methods, and that is a particular 
</em><br />
<em class="quotelev1">&gt; percentile. The advantage of this way of doing it would be 
</em><br />
<em class="quotelev1">&gt; that you would record whether the distribution of 
</em><br />
<em class="quotelev1">&gt; precipitation amounts being considered was for 
</em><br />
<em class="quotelev1">&gt; time-variation, or spatial variation, or some other kind of 
</em><br />
<em class="quotelev1">&gt; variation. Obviously you could have a probability 
</em><br />
<em class="quotelev1">&gt; distribution with percentiles for many different independent 
</em><br />
<em class="quotelev1">&gt; variables.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; * To use a size-1 or scalar coordinate variable to record the 
</em><br />
<em class="quotelev1">&gt; probability, with a new standard_name, perhaps 
</em><br />
<em class="quotelev1">&gt; cumulative_distribution_function_of_precipitation_amount.
</em><br />
<em class="quotelev1">&gt; The value of this coordinate would be 0.25 for the 25th 
</em><br />
<em class="quotelev1">&gt; percentile. The advantage of this method would be that you 
</em><br />
<em class="quotelev1">&gt; could have several different percentiles in the same 
</em><br />
<em class="quotelev1">&gt; variable, by having a multivalued probability coord.
</em><br />
<em class="quotelev1">&gt; If you wanted to be specific about what the independent 
</em><br />
<em class="quotelev1">&gt; variable was, that would have to be included in the standard 
</em><br />
<em class="quotelev1">&gt; name as well e.g.
</em><br />
<em class="quotelev1">&gt; cumulative_distribution_function_of_precipitation_amount_over_time.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; What do you think?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Cheers
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<span id="received"><dfn>Received on</dfn> Wed Nov 16 2011 - 03:53:22 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3918">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3919.html" title="Next message in the list">Vegard B&#0248;nes: "[CF-metadata] standards for probabilities"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3917.html" title="Previous message in the list">Schultz, Martin: "[CF-metadata] 2. Re: [cf-satellite] Sharing quality flags among multiple variables (Jonathan Gregory)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3911.html" title="Message to which this message replies">Vegard B&#0248;nes: "[CF-metadata] standards for probabilities"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3919.html" title="Next message in this discussion thread">Vegard B&#0248;nes: "[CF-metadata] standards for probabilities"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./3919.html" title="Message sent in reply to this message">Vegard B&#0248;nes: "[CF-metadata] standards for probabilities"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3918" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3918" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3918" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3918" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:53 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3917.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3919.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
