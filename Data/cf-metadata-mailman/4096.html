<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] FW: netcdf for particle trajectories from Rodrigo Fernandes on 2012-01-12 (cf-metadata-mailman)</title>
<meta name="Author" content="Rodrigo Fernandes (rodrigo.maretec)" />
<meta name="Subject" content="[CF-metadata] FW: netcdf for particle trajectories" />
<meta name="Date" content="2012-01-12" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4095.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4097.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] FW: netcdf for particle trajectories</h1>
<!-- received="Thu Jan 12 05:53:44 2012" -->
<!-- isoreceived="20120112055344" -->
<!-- sent="Thu, 12 Jan 2012 12:53:44 -0000" -->
<!-- isosent="20120112125344" -->
<!-- name="Rodrigo Fernandes" -->
<!-- email="rodrigo.maretec" -->
<!-- subject="[CF-metadata] FW: netcdf for particle trajectories" -->
<!-- id="01ac01ccd129$3779df60$a66d9e20$_at_maretec_at_ist.utl.pt" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="FAD360E1D1C8BA43AE9EE0CA9FB4C1C44C1CDD3FC0_at_SINTEFEXMBX01.sintef.no" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4096" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4097.html" accesskey="d" title="Nan Galbraith: &quot;[CF-metadata] Request for a region standard_name&quot;">Next message</a> ]
[ <a href="./4095.html" title="alison.pamment at stfc.ac.uk: &quot;[CF-metadata] Request for a region standard_name&quot;">Previous message</a> ]
[ <a href="./4093.html" title="Ute Br&#0246;nner: &quot;[CF-metadata] FW: netcdf for particle trajectories&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4096" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4096" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4096" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4096" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Rodrigo Fernandes &lt;<a href="mailto:rodrigo.maretec?Subject=Re%3A%20%5BCF-metadata%5D%20FW%3A%20netcdf%20for%20particle%20trajectories">rodrigo.maretec</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 12 Jan 2012 12:53:44 -0000</span><br />
</address>
<br />
Hi again,
<br />
<br />The decision of making MOHID model to handle HDF files instead of NetCDF was
<br />
taken by MARETEC probably 12 years ago (before my entrance in MARETEC), and
<br />
I think it was taken due to NetCDF limitations in that time - HDF was
<br />
providing the opportunity to compress and to establish an hierarchical
<br />
structure.
<br />
Meanwhile, NetCDF became a complete standard among modellers, and instead of
<br />
changing MOHID inputs or outputs, we developed converting tools to convert
<br />
HDF to NetCDF files and vice-versa. 
<br />
In this stage, MOHID is now becoming in a new stage, because MOHID is being
<br />
prepared to handle NetCDF or HDF files, it's an end-user option.
<br />
I just put an example of an old Lagrangian output in the following temporary
<br />
link:
<br />
<a href="http://ge.tt/8KzvhDC">http://ge.tt/8KzvhDC</a> (6.51 MB)
<br />
Our lagrangian model is being reformulated, because some outputs (like
<br />
weathering processes) are not included in lagrangian files, only in ascii
<br />
outputs.
<br />
If you need further details, just ask.
<br />
<br />Other issue, just let me correct some information that I sent in the last
<br />
email in the word document: I proposed a time coordinate based on a array
<br />
with 6 columns, but I know that's not a standard in CG Conventions - the
<br />
standard is time (seconds, per example) since an initial reference. I just
<br />
forgot to include this. I think that the two time formats could be included,
<br />
because the fact is that in terms of Graphic user interfaces to handle
<br />
NetCDF files, the &quot;seconds since 1992-10-8 15:15:42.5 -6:00&quot; specification
<br />
is annoying and complex to handle: the initial time reference is variable,
<br />
as well as the units (In fact, one of the problem in CF conventions is that
<br />
they are so comprehensive, and include so many options, that in fact we can
<br />
almost do everything. This is an obstacle to generate new software tools to
<br />
handle NetCDF files from THREDDS catalogues, per example, as we are doing in
<br />
ARCOPOL and EASYCO project. I suppose that for particle files, we should be
<br />
more strict...
<br />
<br />Best Regards
<br />
Rodrigo
<br />
<br />-----Original Message-----
<br />
From: Ute Br?nner [mailto:Ute.Broenner at sintef.no] 
<br />
Sent: quinta-feira, 12 de Janeiro de 2012 10:35
<br />
To: Rodrigo Fernandes; 'Chris Barker'
<br />
Cc: CF-metadata at cgd.ucar.edu; Ben Hetland; Mark Reed; Nils Rune Bodsberg;
<br />
'CJ Beegle-Krause'; 'Caitlin O'Connor'; 'Alex Hadjilambris'; 'Rob Hetland';
<br />
rsignell at gmail.com
<br />
Subject: RE: FW: netcdf for particle trajectories
<br />
<br />Rodrigo,
<br />
<br />Thank you for your mail and suggestions!
<br />
While I agree that it might be useful to have grid information as well as
<br />
particle trajectory information in the same file I would suggest to keep
<br />
them in separate files.
<br />
Especially as we are aiming to agree on a standard for particle trajectories
<br />
which might not always be related to oil. As well I am not sure if the
<br />
others want to provide grid information at all.
<br />
<br />The information that you use HDF5 directly instead of NetCDF is interesting.
<br />
Is that due to lack of functionality in NetCDF libraries or what is the
<br />
reason for that? Are you willing to share an example?
<br />
<br />Best,
<br />
Ute
<br />
<br />-----Original Message-----
<br />
From: Rodrigo Fernandes [mailto:rodrigo.maretec at ist.utl.pt] 
<br />
Sent: Dienstag, 10. Januar 2012 20:09
<br />
To: 'Chris Barker'; Ute Br?nner
<br />
Cc: CF-metadata at cgd.ucar.edu; Ben Hetland; Mark Reed; Nils Rune Bodsberg;
<br />
'CJ Beegle-Krause'; 'Caitlin O'Connor'; 'Alex Hadjilambris'; 'Rob Hetland';
<br />
rsignell at gmail.com
<br />
Subject: RE: FW: netcdf for particle trajectories
<br />
<br />Hi everyone,
<br />
I suppose most of you (except Mark) doesn't know me, I was introduced in
<br />
this discussion group through Mark, which I met in Kuwait oil spill
<br />
modelling working group, where I was presenting the work from our group in
<br />
terms of oil spill modelling with MOHID (www.mohid.com) and risk management
<br />
in the Atlantic Area, through some EU projects. I'm an oil spill modeller
<br />
from MARETEC (www.maretec.org) in IST university (Portugal), and it is a
<br />
pleasure to participate in your discussion. Sorry for the late feedback.
<br />
<br /><br /><br />I hope not to increase the entropy in the discussion, but I feel that
<br />
probably you are more focussed in some technical details than with the
<br />
properties needed (it's like you are more focussed on &quot;how&quot; than on &quot;what&quot;).
<br />
I have some trouble following some points of your discussion, because we
<br />
produce our outputs in HDF5, although we can easily convert our input and
<br />
output files from / to NetCDF.
<br />
I just hope you don't impose limits to the outputs and standards needed due
<br />
to some technical details or limitations (like hierarchical structures) on
<br />
the file formats. In order to avoid this, I think NetCDF4 should be adopted.
<br />
In fact I'm not a specialist in file formats and their specificities,
<br />
however, I think I have a clear idea of what I need as an output from a
<br />
particle tracking model in terms of oil spill.
<br />
I'm sending my idea in a general format, in a table from the Word document
<br />
attached. I propose an hierarchical structure, which I think is definitely
<br />
more convenient.
<br />
&nbsp;
<br />
Additionally, I think that some other properties could also be considered to
<br />
be included in the particle tracking outputs: the wind velocity at surface,
<br />
water temperature and currents velocity used by each lagrangian particle
<br />
could also be interesting. And probably also the particle velocity. This was
<br />
discussed and adopted as a common standard output from an European project
<br />
(ECOOP), and I also think some oil spill models have this natively, like
<br />
MOTHY (from M?t?o-France).
<br />
<br />Best regards
<br />
Rodrigo Fernandes
<br />
<br />________________________________________________________________
<br />
Rodrigo Fernandes
<br />
MARETEC - Instituto Superior T?cnico
<br />
Sec??o de Ambiente e Energia - Departamento de Engenharia Mec?nica Avenida
<br />
Rovisco Pais
<br />
1049 - 001 Lisboa - Portugal
<br />
Tel. +351 218 419 434 - Fax: +351 218 419 423 www.mohid.com www.maretec.org
<br />
<br />-----Original Message-----
<br />
From: Chris Barker [mailto:Chris.Barker at noaa.gov]
<br />
Sent: segunda-feira, 28 de Novembro de 2011 19:41
<br />
To: Ute Br?nner
<br />
Cc: CF-metadata at cgd.ucar.edu; Ben Hetland; Mark Reed; Nils Rune Bodsberg; CJ
<br />
Beegle-Krause (CJ.Beegle-Krause at noaa.gov); Caitlin O'Connor
<br />
(Caitlin.OConnor at noaa.gov); Alex Hadjilambris (Alex.Hadjilambris at noaa.gov);
<br />
Rob Hetland (hetland at tamu.edu); Rodrigo Fernandes; rsignell at gmail.com
<br />
Subject: Re: FW: netcdf for particle trajectories
<br />
<br />On 11/25/2011 5:01 AM, Ute Br?nner wrote:
<br />
<em class="quotelev1">&gt; Hi folks,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I kind of lost track of our latest discussions and had the feeling 
</em><br />
<em class="quotelev1">&gt; that this was partly outside the mailing group;
</em><br />
<br />yes, it was -- we had some discussion among a subset of teh CF list that was
<br />
interested in particle model output.
<br />
<br /><em class="quotelev1">&gt; so I will try to sum up what we were discussing.
</em><br />
<br />IN our group, we've settled on format for the GNOME model (at least for now,
<br />
we needed to use something) based on the discussion -- I&quot;ve been remiss at
<br />
posting about it to larger group -- I was waiting for the time to write it
<br />
up a bit more clearly. More on that soon...
<br />
<br /><em class="quotelev1">&gt; My latest try was to produce NetCDF for particle trajectory trying to 
</em><br />
<em class="quotelev1">&gt; write out the concentration grid which resulted in a 11GB netFCDF3 
</em><br />
<em class="quotelev1">&gt; file :-(
</em><br />
<br />when you say &quot;grid&quot; I'm wondering what you mean -- particle tracks don't
<br />
produce a grid of data -- maybe we're mixing issue here?
<br />
<br /><em class="quotelev1">&gt; So we have different motivations for discussion particle trajectory 
</em><br />
<em class="quotelev1">&gt; and netcdf4.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; First question: Does anybody know if and if yes, when writing netCDF4 
</em><br />
<em class="quotelev1">&gt; will be incorporated into the NetCDF Java library? Or will we use 
</em><br />
<em class="quotelev1">&gt; Python with the help of Jython etc.
</em><br />
<em class="quotelev1">&gt; (<a href="http://www.slideshare.net/onyame/mixing-python-and-java">http://www.slideshare.net/onyame/mixing-python-and-java</a>) to write 
</em><br />
<em class="quotelev1">&gt; netCDF4?
</em><br />
<br />I'm not sure mixin python and Java is going to help here -- the Python libs
<br />
use the C libs -- so mixing C and Java would probably be a better bet, if
<br />
you need Java. Jython isn't going to get you C-based Oython packages. (JEPP
<br />
might, as mentioned in that talk -- though if the goal is functionality that
<br />
really comes from C, straight JNI might make more
<br />
sense)
<br />
<br /><em class="quotelev1">&gt; Second question: Is there a de facto standard / proposal for writing 
</em><br />
<em class="quotelev1">&gt; Particle Trajectory Data which could be CF:featureType:&lt;whatever we 
</em><br />
<em class="quotelev1">&gt; agree on&gt;? The suggestion below is not suitable because: 1) we don't 
</em><br />
<em class="quotelev1">&gt; track a particle the whole time, it may disappear and show up again 
</em><br />
<em class="quotelev1">&gt; later, but if I have 1000 particles in time step 1 and 1000 in time 
</em><br />
<em class="quotelev1">&gt; step 2 we cannot be sure these 1000 are the same as before.
</em><br />
<br />This was the whole point of the &quot;ragged array&quot; approach -- so that's
<br />
covered.
<br />
<br />2) I cannot know the number of time steps in advance.
<br />
<br />OK -- that is a challenge -- if we know neither the number of time steps,
<br />
nor the number of particles in advance, then we, by definition, need two
<br />
unspecified dimensions. I understand netcdf4 allows this -- may be a good
<br />
reason to go that route.
<br />
<br />One question, though -- with the proposed ragged_array-specified format, the
<br />
time dimension is only used in one place - for the: int
<br />
rowSize(time) (or &quot;particleCount&quot;, or whatever we want to call it) variable.
<br />
<br />Is it possible, in netcdf3, to write the big array, with the UNLIMITED
<br />
dimension, then specify the time dimension and associated variable at the
<br />
end? Or does it need to all vbe defined at the start?
<br />
<br /><em class="quotelev1">&gt; and I might have int number_particles_per_timestep(time); :units = 
</em><br />
<em class="quotelev1">&gt; &quot;1&quot;; :long_name = &quot;number particles per current timestep&quot;; 
</em><br />
<em class="quotelev1">&gt; :CF:ragged_row_count = &quot;particle&quot;;
</em><br />
<br /><em class="quotelev1">&gt; That some of you need to know which spill a particle came from, may be 
</em><br />
<em class="quotelev1">&gt; solved with a 3rd dimension spill dimensions: spill = 3;
</em><br />
<br />unless the spills all have the same number of particles at any given time,
<br />
that's not going to work.
<br />
<br />Our solution is to have an &quot;ID&quot; variable to each particle, so they can be
<br />
isolated -- this can be used to track a given particle over time, and also
<br />
mapped to other data, like which spill it came from, etc.
<br />
<br /><br />&nbsp;&nbsp;// or how
<br />
<em class="quotelev1">&gt; many one has particle = UNLIMITED; //because it may change each time 
</em><br />
<em class="quotelev1">&gt; step
</em><br />
<br />actually ULIMITED does help if it's going to change each time step (hence
<br />
the ragged array solution) -- but it is required as we often don't know how
<br />
many particles are going to be used in the end.
<br />
<br /><em class="quotelev1">&gt; how would one write this? With coordinates or as hierarchical data 
</em><br />
<em class="quotelev1">&gt; structure? At least we need the ability to use several unlimited 
</em><br />
<em class="quotelev1">&gt; dimensions and the ragged-array feature.
</em><br />
<br />apparently, yes.
<br />
<br /><em class="quotelev1">&gt; Third question: How can we compress big netCDF3 files? Or is it 
</em><br />
<em class="quotelev1">&gt; smarter to go for netCDF4 directly with hierarchical data.
</em><br />
<br />I do think compression and hierarchical data structure are separate issues.
<br />
netcdf4 is certainly the easy way to get compression, IIUC, to compress
<br />
neetcdf3, you need to do it before/after file reading/writing
<br />
-- so helpful for storing and transmitting the data, but you still need to
<br />
deal with the big files at some stage.
<br />
<br />(or has anyone adapted a netcdf lib to use on-the fly compression (like with
<br />
libz) -- that would be cool)
<br />
<br /><em class="quotelev1">&gt; Hoping to get up the discussion again and that we agree on a standard 
</em><br />
<em class="quotelev1">&gt; quite soon!
</em><br />
<br />yes, thanks for reviving it!
<br />
<br />-Chris
<br />
<br /><br /><br />&nbsp;&nbsp;Have a nice weekend!
<br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Best, Ute
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -------- Original Message -------- Subject: [CF-metadata] Particle 
</em><br />
<em class="quotelev1">&gt; Track Feature Type (was: Re: point observation data in CF 1.4) Date:
</em><br />
<em class="quotelev1">&gt; Fri, 19 Nov 2010 04:15:35 +0100 From: John 
</em><br />
<em class="quotelev1">&gt; Caron&lt;caron at unidata.ucar.edu&gt; To:
</em><br />
<em class="quotelev1">&gt; cf-metadata at cgd.ucar.edu&lt;cf-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Im thinking that we need a new feature type for this. Im calling it 
</em><br />
<em class="quotelev1">&gt; &quot;particleTrack&quot; but theres probably a better name.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; My reasoning is that the nested table representation of trajectories
</em><br />
<em class="quotelev1">&gt; is:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Table { traj_id; Table { time; lat, lon, z; data; } }
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; but this case has the inner and outer table inverted:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Table { time; Table { particle_id; lat, lon, z; data; data2; } }
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; So, following that line of thought, the possibilities in CDL are:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 1) If avg number of particles ~ max number of particles at any time 
</em><br />
<em class="quotelev1">&gt; step, then one could use multdimensional arrays:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; dimensions: maxParticles = 1000 ; time = 7777 ; // may be UNLIMITED
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; variables:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; double time(time) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; int particle_id(time, maxParticles) ; float lon(time, maxParticles) ; 
</em><br />
<em class="quotelev1">&gt; float lat(time, maxParticles) ; float z(time, maxParticles) ; float 
</em><br />
<em class="quotelev1">&gt; data(time, maxParticles) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; attributes: :featureType = &quot;particleTrack&quot;;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; note maxParticles is the max number of particles at any one time step, 
</em><br />
<em class="quotelev1">&gt; not total particle tracks. The particle trajectories have to be found 
</em><br />
<em class="quotelev1">&gt; by examining the values of particle_id(time, maxParticles).
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 2) The CDL of the ragged case would look like:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; dimensions: obs = 500000; // UNLIMITED time = 7777 ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; variables: int time(time) ; int rowSize(time) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; int particle_id(obs) ; float lon(obs) ; float lat(obs) ; float z(obs) 
</em><br />
<em class="quotelev1">&gt; ; float data(obs) ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; attributes: :featureType = &quot;particleTrack&quot;;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; in this case, you dont have to know the max number of particles at any 
</em><br />
<em class="quotelev1">&gt; one time step, but you do need to know the number of time steps 
</em><br />
<em class="quotelev1">&gt; beforehand. The particle trajectories have to be found by examining 
</em><br />
<em class="quotelev1">&gt; the values of particle_id(obs). The particles at time step i are 
</em><br />
<em class="quotelev1">&gt; contained in the obs variables between start(i) to start(i) + 
</em><br />
<em class="quotelev1">&gt; rowSize(i).
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; these layouts are optimized for processing all particles at a given 
</em><br />
<em class="quotelev1">&gt; time, and for sequentially processing time steps. If one wanted to 
</em><br />
<em class="quotelev1">&gt; process particle trajectories, that will be much slower. If you needed 
</em><br />
<em class="quotelev1">&gt; to do it a lot, you might want to rewrite the file. a more 
</em><br />
<em class="quotelev1">&gt; sophisticated application, possibly a server, could write an index to 
</em><br />
<em class="quotelev1">&gt; speed it up.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; _______________________________________________ CF-metadata mailing 
</em><br />
<em class="quotelev1">&gt; list CF-metadata at cgd.ucar.edu 
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -----Original Message----- From: rsignell at gmail.com 
</em><br />
<em class="quotelev1">&gt; [mailto:rsignell at gmail.com] On Behalf Of Rich Signell Sent:
</em><br />
<em class="quotelev1">&gt; Donnerstag, 18. August 2011 19:04 To: Christopher Barker Cc: Ute 
</em><br />
<em class="quotelev1">&gt; Br?nner; Ben Hetland; Mark Reed; Nils Rune Bodsberg; CJ Beegle-Krause; 
</em><br />
<em class="quotelev1">&gt; Caitlin O'Connor; Alex Hadjilambris; Rob Hetland
</em><br />
<em class="quotelev1">&gt; Subject: Re: netcdf for particle trajectories
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Chris,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; so I'll make part of my homework to deliver you a Python script 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; using Whitaker's NetCDF4 that writes a sample file.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; How did this go, Rich?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Yes, I took Rob Hetland's Python short course, and yes, I wrote a 
</em><br />
<em class="quotelev1">&gt; small example showing how to take NetCDF3 particle tracking output and 
</em><br />
<em class="quotelev1">&gt; create a compressed NetCDF4 file with chunking.  I just forgot to send 
</em><br />
<em class="quotelev1">&gt; it.  ;-)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Note: You can get a OpenDAP-enabled NetCDF4 Python module for both 32 
</em><br />
<em class="quotelev1">&gt; and 64 bit windows from: <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -Rich
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; We're getting closer to a prototype file (i.e. we've got GNOME 
</em><br />
<em class="quotelev2">&gt;&gt; writing something, but it still needs some tweaking). I'll sent out 
</em><br />
<em class="quotelev2">&gt;&gt; an example when I think we're close.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; One new issue:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; In GNOME, we have the concept of any number of &quot;spills&quot; -- each spill 
</em><br />
<em class="quotelev2">&gt;&gt; is a set of particles that usually share some properties.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; So we're trying to figure out how to capture that. Two ideas:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; 1) each spill is a unique set of data -- but I think that it would 
</em><br />
<em class="quotelev2">&gt;&gt; ony be possible to do this by using a convension on teh variable
</em><br />
<em class="quotelev2">&gt;&gt; names:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; data_1 particle_count_1 longitude_1 latitude_1 ...
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; data_2 particle_count_2 longitude_2 latitude_2 ...
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; That seems pretty ugly. Could netcdf4's &quot;hierarchical data&quot; help us 
</em><br />
<em class="quotelev2">&gt;&gt; here? Maybe this provides the motivation to use it.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Option two:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; put all the particles in one big array, but identify the different 
</em><br />
<em class="quotelev2">&gt;&gt; &quot;spills&quot; by particle ID:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; ID_range_1 = 0-1000 ID_range_2 = 1000-2000 ...
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; then they could get split up by the client software, if desired, or 
</em><br />
<em class="quotelev2">&gt;&gt; the separate spills could be ignored, and it could all be treated as 
</em><br />
<em class="quotelev2">&gt;&gt; one.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; -- thoughts?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; -- Christopher Barker, Ph.D. Oceanographer
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Emergency Response Division NOAA/NOS/OR&amp;R            (206) 526-6959
</em><br />
<em class="quotelev2">&gt;&gt; voice 7600 Sand Point Way NE   (206) 526-6329   fax Seattle, WA
</em><br />
<em class="quotelev2">&gt;&gt; 98115 (206) 526-6317   main reception
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Chris.Barker at noaa.gov
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -- Dr. Richard P. Signell   (508) 457-2229 USGS, 384 Woods Hole Rd.
</em><br />
<em class="quotelev1">&gt; Woods Hole, MA 02543-1598
</em><br />
<br /><br /><br /><pre>
--
Christopher Barker, Ph.D.
Oceanographer
Emergency Response Division
NOAA/NOS/OR&amp;R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception
Chris.Barker at noaa.gov
</pre>
<span id="received"><dfn>Received on</dfn> Thu Jan 12 2012 - 05:53:44 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4096">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4097.html" title="Next message in the list">Nan Galbraith: "[CF-metadata] Request for a region standard_name"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4095.html" title="Previous message in the list">alison.pamment at stfc.ac.uk: "[CF-metadata] Request for a region standard_name"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4093.html" title="Message to which this message replies">Ute Br&#0246;nner: "[CF-metadata] FW: netcdf for particle trajectories"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4096" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4096" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4096" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4096" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:57 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4095.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4097.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
