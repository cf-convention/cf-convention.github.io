<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] machine-accessible CF compliance checker? from stephen.pascoe at stfc.ac.uk on 2012-03-01 (cf-metadata-mailman)</title>
<meta name="Author" content="stephen.pascoe at stfc.ac.uk (stephen.pascoe)" />
<meta name="Subject" content="[CF-metadata] machine-accessible CF compliance checker?" />
<meta name="Date" content="2012-03-01" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4183.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4185.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] machine-accessible CF compliance checker?</h1>
<!-- received="Thu Mar  1 02:59:21 2012" -->
<!-- isoreceived="20120301025921" -->
<!-- sent="Thu, 1 Mar 2012 09:59:21 +0000" -->
<!-- isosent="20120301095921" -->
<!-- name="stephen.pascoe at stfc.ac.uk" -->
<!-- email="stephen.pascoe" -->
<!-- subject="[CF-metadata] machine-accessible CF compliance checker?" -->
<!-- id="4C353E6E4A08AE4792B350DAA392B52126755670_at_EXCHMBX01.fed.cclrc.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4F4F3407.2000407_at_reading.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4184" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4185.html" accesskey="d" title="Rosalyn Hatcher: &quot;[CF-metadata] machine-accessible CF compliance checker?&quot;">Next message</a> ]
[ <a href="./4183.html" title="Rosalyn Hatcher: &quot;[CF-metadata] machine-accessible CF compliance checker?&quot;">Previous message</a> ]
[ <a href="./4183.html" title="Rosalyn Hatcher: &quot;[CF-metadata] machine-accessible CF compliance checker?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./4185.html" accesskey="t" title="Rosalyn Hatcher: &quot;[CF-metadata] machine-accessible CF compliance checker?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4184" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4184" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4184" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4184" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: stephen.pascoe at stfc.ac.uk &lt;<a href="mailto:stephen.pascoe?Subject=Re%3A%20%5BCF-metadata%5D%20machine-accessible%20CF%20compliance%20checker%3F">stephen.pascoe</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 1 Mar 2012 09:59:21 +0000</span><br />
</address>
<br />
Great,
<br />
<br />I had further thoughts last night and the logical way forward is to get the CGI script to generate a dummy netcdf file from CDL submitted in the web form.  An official headers-only option would definitely help.
<br />
<br />Ros, is the CGM CGI script written in perl?  Ours is but I have no idea whether we share the same code.  I think it makes sense to share the same codebase if we are going to add features to the CGI -- my preference is obviously Python.
<br />
<br />Remove CDAT: +1 from me.  I would recommend netcdf4-python as a better binding.  I believe the various Python tooling efforts happening in the UK (cf-python, IRIS) are using netcdf4-python so it would consolidate our toolset.
<br />
<br />Cheers,
<br />
Stephen.
<br />
<br /><pre>
---
Stephen Pascoe  +44 (0)1235 445980
Centre of Environmental Data Archival
STFC Rutherford Appleton Laboratory, Harwell Oxford, Didcot OX11 0QX, UK
From: Rosalyn Hatcher [mailto:r.s.hatcher at reading.ac.uk]
Sent: 01 March 2012 08:32
To: Pascoe, Stephen (STFC,RAL,RALSP)
Cc: philip.bentley at metoffice.gov.uk; cf-metadata at cgd.ucar.edu
Subject: Re: [CF-metadata] machine-accessible CF compliance checker?
Hi Stephen,
I've been out of the office the last couple of days and not seen this till now.
#3 is already on my to-do list :-)
#2 I actually do this quite a bit and just supply the &quot;ncdump -c&quot; ouput passed through ncgen and ignore the couple of
errors for the checks that can't be performed.  If this would be useful for others then it should be relatively easy to officially add a headers-only option.
Off the top of my head I think there are 2 checks that require the variable data
(1) That variable data lies within cell boundaries and
(2) The check that coord data is monotonic
I also plan in the next 6months to completely re-write the CF checker, it's developed a lot since I first wrote it and is now becoming rather unwieldy.
One thing I'd like to do is remove the dependency on CDAT.  So if anyone has any further suggestions for improvements or additional functionality
they'd like to see please let me know.
Regards,
Ros.
On 29/02/12 15:31, stephen.pascoe at stfc.ac.uk&lt;mailto:stephen.pascoe at stfc.ac.uk&gt; wrote:
Hi Phil,
So far my role has simply been to package and deploy Rosalyn's cfchecker code, therefore I really don't know to what extent it needs the real NetCDF.
I think an alternative checker (i.e. codebase) is a bad idea because they might give contradictory results.  I would suggest several options:
 1. Work on making the cfchecker package easier to install so that users can run it on their real NetCDF.  A user would have to know how to install python packages, compile UDUNITS and edit a config file.
 2. Add a &quot;headers-only&quot; feature to Rosalyn's code so that user's can create dummy NetCDF with ncgen to upload to one of the online checkers.
 3. As an addition to #2, add a feature to Rosalyn's code, or the CGI wrapper, to upload CDL.
I am willing to do #1, if people think it would meet user's needs, but it would have to be added to my ever-expanding TODO list :-).  Rosalyn, do you have any comments on #2&amp;3?
Cheers,
Stephen.
---
Stephen Pascoe  +44 (0)1235 445980
Centre of Environmental Data Archival
STFC Rutherford Appleton Laboratory, Harwell Oxford, Didcot OX11 0QX, UK
-----Original Message-----
From: Bentley, Philip [mailto:philip.bentley at metoffice.gov.uk]
Sent: 29 February 2012 14:56
To: Pascoe, Stephen (STFC,RAL,RALSP); cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
Subject: RE: [CF-metadata] machine-accessible CF compliance checker?
Hi Stephen,
I may well be wrong, but I suspect that one of the reasons - perhaps the
main reason - why folks would like access to a stand-alone cfchecker
utility is the large size of their netcdf files. (It's certainly the
reason we use a local version.)
As you know only too well (from CMIP5), most of the netcdf files we're
dealing with these days run into the high 100s of MB or low GBs. It's
not really practical to upload such files in order to perform a CF
compliance check. At least not on more than a few files.
I wonder, therefore, if a possible solution is to develop an alternative
checker utility that operates not on the netcdf file itself, but rather
on the header info output by the ncdump -h command. Generating and
uploading those would be trivial by comparison.
Off the top of my head (and having given it almost zero thought!) the
only test that I can think of which examines the actual data values is
the check for coord vars being monotonic. But I suspect there are others
I'm unaware of.
If nothing else, such a utility might have some value as a 'first pass'
checker.
Any mileage in this? Apologies if it's already done the rounds!
Regards,
Phil
-----Original Message-----
From: cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;
[mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of
stephen.pascoe at stfc.ac.uk&lt;mailto:stephen.pascoe at stfc.ac.uk&gt;
Sent: 29 February 2012 11:39
To: christopher.s.lynnes at nasa.gov&lt;mailto:christopher.s.lynnes at nasa.gov&gt;; cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
Subject: Re: [CF-metadata] machine-accessible CF compliance checker?
Hi Christopher,
Are you looking for a way to run the cfchecker locally or
submit checking requests to one of the websites in a script?
I think both would be possible with a little help.  The
cfchecker is now available on the Python Package Index at
<a href="http://pypi.python.org/pypi/cfchecker">http://pypi.python.org/pypi/cfchecker</a>.  It needs a little
help to work out of the box -- you need to configure UDUNITS
and the location of several CF XML files.  It's on my
long-term TODO list to make this configuration easier.
Also the CF-checker at BADC and NCAS-CMS has a very simple
HTTP interface that could be scripted.
Cheers,
Stephen.
---
Stephen Pascoe  +44 (0)1235 445980
Centre of Environmental Data Archival
STFC Rutherford Appleton Laboratory, Harwell Oxford, Didcot
OX11 0QX, UK
-----Original Message-----
From: cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;
[mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of
Lynnes, Christopher S. (GSFC-6102)
Sent: 28 February 2012 16:03
To: cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
Subject: [CF-metadata] machine-accessible CF compliance checker?
I know about the web sites where you use a form to upload
files to check CF compliance, but is there a service
somewhere that can be accessed by a script?
--
Dr. Christopher Lynnes     NASA/GSFC, Code 610.2    phone:
301-614-5185
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
--
Scanned by iCritical.
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
--
Rosalyn Hatcher
NCAS Computational Modelling Services
Dept. of Meteorology, University of Reading,
Earley Gate, Reading. RG6 6BB
Email: r.s.hatcher at reading.ac.uk&lt;mailto:r.s.hatcher at reading.ac.uk&gt;     Tel: +44 (0) 118 378 6016
-- 
Scanned by iCritical.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120301/e692ff49/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120301/e692ff49/attachment.html</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Thu Mar 01 2012 - 02:59:21 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4184">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4185.html" title="Next message in the list">Rosalyn Hatcher: "[CF-metadata] machine-accessible CF compliance checker?"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4183.html" title="Previous message in the list">Rosalyn Hatcher: "[CF-metadata] machine-accessible CF compliance checker?"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4183.html" title="Message to which this message replies">Rosalyn Hatcher: "[CF-metadata] machine-accessible CF compliance checker?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4185.html" title="Next message in this discussion thread">Rosalyn Hatcher: "[CF-metadata] machine-accessible CF compliance checker?"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./4185.html" title="Message sent in reply to this message">Rosalyn Hatcher: "[CF-metadata] machine-accessible CF compliance checker?"</a></li>
<li><dfn>Reply</dfn>: <a href="./4186.html" title="Message sent in reply to this message">David Hassell: "[CF-metadata] machine-accessible CF compliance checker?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4184" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4184" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4184" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4184" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:58 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4183.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4185.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
