<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Ocean CTD data following CF Conventions v1.6 from Lowry, Roy K. on 2012-04-02 (cf-metadata-mailman)</title>
<meta name="Author" content="Lowry, Roy K. (rkl)" />
<meta name="Subject" content="[CF-metadata] Ocean CTD data following CF Conventions v1.6" />
<meta name="Date" content="2012-04-02" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4332.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4334.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Ocean CTD data following CF Conventions v1.6</h1>
<!-- received="Mon Apr  2 16:19:02 2012" -->
<!-- isoreceived="20120402151902" -->
<!-- sent="Mon, 2 Apr 2012 23:19:02 +0100" -->
<!-- isosent="20120402221902" -->
<!-- name="Lowry, Roy K." -->
<!-- email="rkl" -->
<!-- subject="[CF-metadata] Ocean CTD data following CF Conventions v1.6" -->
<!-- id="40829B0E077C1145A6DE44D39B3830A92119404FF0_at_nerckwmb1.ad.nerc.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="CAK79Y4JJpnC6pu8Qc=+_+N1zdUCwd5uVPL0ARs3O3MZfeV7=4Q_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4333" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4334.html" accesskey="d" title="Lowry, Roy K.: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Next message</a> ]
[ <a href="./4332.html" title="Karl Taylor: &quot;[CF-metadata] CF-1.6 Conformance Requirements/Recommendations&quot;">Previous message</a> ]
[ <a href="./4325.html" title="Jim Biard: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./4327.html" accesskey="t" title="Upendra Dadi: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4333" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4333" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4333" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4333" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Lowry, Roy K. &lt;<a href="mailto:rkl?Subject=Re%3A%20%5BCF-metadata%5D%20Ocean%20CTD%20data%20following%20CF%20Conventions%20v1.6">rkl</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 2 Apr 2012 23:19:02 +0100</span><br />
</address>
<br />
Hi Jim,
<br />
<br />The practice of storing one CTD profile per file (be it netCDF or anything else) is widespread in the oceanographic community and is largely driven by the heterogeneous nature of the Z co-ordinate (pressure or depth) which increases steadily most of the time (but not always) and can increase by either regular or irregular amounts.  Whilst this can be cleaned up by binning, we have been condemned for doing this by some users because it destroys the fine structure signal they want to use.
<br />
<br />Cheers, Roy.
<br />
<br />________________________________
<br />
From: cf-metadata-bounces at cgd.ucar.edu [cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Jim Biard [jim.biard at noaa.gov]
<br />
Sent: 02 April 2012 13:06
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />Hi.
<br />
<br />Here's my best understanding (which could be flawed, so I look forward to finding out if I have missed something).  Assuming that your time, latitude, and longitude are all proper coordinate variables (no fill values), either choice for the shape of your salinity variable works.  If you use the more complex shape, then you don't need to have the coordinates attribute, as the relationships are declared through the shape.  Speaking of that, the coordinates attribute doesn't need to have PRESSURE in it.  Doesn't hurt anything, but it isn't necessary.
<br />
<br />Having said all that, I find myself wondering why you are storing each salinity profile in a separate file.  Would you mind sharing what went into deciding to take this approach?
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br />On Mon, Apr 2, 2012 at 2:51 AM, andrew walsh &lt;awalsh at metoc.gov.au&lt;mailto:awalsh at metoc.gov.au&gt;&gt; wrote:
<br />
Hi CF list,
<br />
<br />We are working on coding up some 1000's netCDF files off CTD
<br />
instruments and want to make usre we are following the
<br />
latest netCDF conventions (v1.6) OK. As background the CTD records
<br />
a profile pressure, temperature and salinity.
<br />
<br />Here is a summarised CDL version (not all attributes+variables+qc flags there, just majors for now)
<br />
of what we propose:
<br />
<br />dimensions:
<br />
TIME=1
<br />
PRESSURE=729
<br />
LATITUDE=1
<br />
LONGITUDE=1
<br />
<br />variables:
<br />
double TIME(TIME) ;
<br />
&nbsp;TIME:standard_name = &quot;time&quot; ;
<br />
&nbsp;TIME:units = &quot;days since 1950-01-01 00:00:00Z&quot; ;
<br />
&nbsp;TIME:axis = &quot;T&quot; ;
<br />
&nbsp;TIME:valid_min = 0. ;
<br />
&nbsp;TIME:valid_max = 999999. ;
<br />
<br />double LATITUDE(LATITUDE) ;
<br />
&nbsp;LATITUDE:standard_name = &quot;latitude&quot; ;
<br />
&nbsp;LATITUDE:units = &quot;degrees_north&quot; ;
<br />
&nbsp;LATITUDE:axis = &quot;Y&quot; ;
<br />
&nbsp;LATITUDE:valid_min = -90. ;
<br />
&nbsp;LATITUDE:valid_max = 90. ;
<br />
<br />&nbsp;double LONGITUDE(LONGITUDE) ;
<br />
&nbsp;LONGITUDE:standard_name = &quot;longitude&quot; ;
<br />
&nbsp;LONGITUDE:units = &quot;degrees_east&quot; ;
<br />
&nbsp;LONGITUDE:axis = &quot;X&quot; ;
<br />
&nbsp;LONGITUDE:valid_min = -180. ;
<br />
&nbsp;LONGITUDE:valid_max = 180. ;
<br />
<br />&nbsp;double PRESSURE(PRESSURE) ;
<br />
&nbsp;PRESSURE:standard_name = &quot;sea_water_pressure&quot; ;
<br />
&nbsp;PRESSURE:units = &quot;decibars&quot; ;
<br />
&nbsp;PRESSURE:axis = &quot;Z&quot; ;
<br />
&nbsp;PRESSURE:valid_min = 0. ;
<br />
PRESSURE:valid_max = 12000. ;
<br />
&nbsp;PRESSURE:positive = &quot;down&quot; ;
<br />
<br />double TEMPERATURE(PRESSURE) ;
<br />
&nbsp;TEMPERATURE:standard_name = &quot;sea_water_temperature&quot; ;
<br />
&nbsp;TEMPERATURE:units = &quot;degrees_C&quot; ;
<br />
&nbsp;TEMPERATURE:_FillValue = -99.99 ;
<br />
&nbsp;TEMPERATURE:valid_min = -2. ;
<br />
&nbsp;TEMPERATURE:valid_max = 40. ;
<br />
TEMPERATURE:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;double SALINITY(PRESSURE) ;
<br />
&nbsp;SALINITY:standard_name = &quot;sea_water_salinity&quot; ;
<br />
&nbsp;SALINITY:units = &quot;psu&quot; ;
<br />
&nbsp;SALINITY:_FillValue = -99.99 ;
<br />
&nbsp;SALINITY:valid_min = 0. ;
<br />
&nbsp;SALINITY:valid_max = 40. ;
<br />
SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />// global attributes:
<br />
&nbsp;:conventions = &quot;CF-1.6&quot; ;
<br />
&nbsp;:featureType = &quot;profile&quot;
<br />
&nbsp;:cdm_data_type = &quot;profile&quot;
<br />
+ several other attributes later for ISO19115 metadata generation
<br />
<br />I am not sure  if I should have TEMPERATURE and SALINITY arrays with 4 dimensions
<br />
like TEMPERATURE(TIME,LATITUDE,LONGITUDE,PRESSURE) or just 1 dimension
<br />
like I have above i.e. TEMPERATURE(PRESSURE). ?
<br />
<br />Any feedback on the above is greatly appreciated.
<br />
<br />Andrew Walsh
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><br /><pre>
--
Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites
Remote Sensing and Applications Division
National Climatic Data Center
151 Patton Ave, Asheville, NC 28801-5001
jim.biard at noaa.gov&lt;mailto:jim.biard at noaa.gov&gt;
828-271-4900
-- 
This message (and any attachments) is for the recipient only. NERC
is subject to the Freedom of Information Act 2000 and the contents
of this email and any reply you make may be disclosed by NERC unless
it is exempt from release under the Act. Any material supplied to
NERC may be stored in an electronic records management system.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120402/5ada4150/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120402/5ada4150/attachment-0001.html</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Mon Apr 02 2012 - 16:19:02 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4333">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4334.html" title="Next message in the list">Lowry, Roy K.: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4332.html" title="Previous message in the list">Karl Taylor: "[CF-metadata] CF-1.6 Conformance Requirements/Recommendations"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4325.html" title="Message to which this message replies">Jim Biard: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4327.html" title="Next message in this discussion thread">Upendra Dadi: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4333" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4333" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4333" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4333" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:00 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4332.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4334.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
