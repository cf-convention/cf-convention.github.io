<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Ocean CTD data following CF Conventions v1.6 from andrew walsh on 2012-04-03 (cf-metadata-mailman)</title>
<meta name="Author" content="andrew walsh (awalsh)" />
<meta name="Subject" content="[CF-metadata] Ocean CTD data following CF Conventions v1.6" />
<meta name="Date" content="2012-04-03" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4338.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4340.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Ocean CTD data following CF Conventions v1.6</h1>
<!-- received="Mon Apr  2 21:39:25 2012" -->
<!-- isoreceived="20120402203925" -->
<!-- sent="Tue, 3 Apr 2012 13:39:25 +1000" -->
<!-- isosent="20120403033925" -->
<!-- name="andrew walsh" -->
<!-- email="awalsh" -->
<!-- subject="[CF-metadata] Ocean CTD data following CF Conventions v1.6" -->
<!-- id="21A113BF2E1D46EE9C8BCECBA86997E8_at_awalsh1" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="40829B0E077C1145A6DE44D39B3830A92119404FF3&#64;nerckwmb1.ad.nerc.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4339" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4340.html" accesskey="d" title="Lowry, Roy K.: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Next message</a> ]
[ <a href="./4338.html" title="Lowry, Roy K.: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Previous message</a> ]
<!-- unextthread="start" -->
[ <a href="./4340.html" accesskey="t" title="Lowry, Roy K.: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4339" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4339" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4339" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4339" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: andrew walsh &lt;<a href="mailto:awalsh?Subject=Re%3A%20%5BCF-metadata%5D%20Ocean%20CTD%20data%20following%20CF%20Conventions%20v1.6">awalsh</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 3 Apr 2012 13:39:25 +1000</span><br />
</address>
<br />
Hello Roy, Upendra, Jim and CF list,
<br />
<br />Thanks for all your feedbacks.
<br />
My proposal relates to single CTD profile data (a vertical profile of pressure, Temp. Salinity)
<br />
not a trajectory in x,y,z,t and I have put :featureType = &quot;profile&quot; as recommended in the global
<br />
attributes section. As Roy has mentioned to Jim CTD data is usually processed and QC'ed 
<br />
as a single profile per netCDF file so that's why I am doing it this way.
<br />
<br />Aggregations using multiple CTD profiles per netCDF file
<br />
may be constructed later at say national/international data centres and these aggregrations
<br />
would follow the CF conventions v1.6, Chapter 9 - Discrete Sampling geometries
<br />
and also the new netCDF templates provided by NODC, thanks NODC -:)
<br />
<br />Roy,
<br />
<br />The recent NODC netCDF templates don't have an aggregation example for CTD
<br />
however the &quot;Profile/World Ocean Database Observed Level&quot; example comes close
<br />
(see <a href="http://www.nodc.noaa.gov/data/formats/netcdf/">http://www.nodc.noaa.gov/data/formats/netcdf/</a>) and click on  
<br />
Profile/World Ocean Database Observed Level link. This example appears
<br />
to be for ocean station/bottle samples with vertical dimension of depth (z) (m) rather
<br />
than case of CTD which would use pressure (dbar) as the vertical (z) dimension.
<br />
It would be useful I think to have a NODC netCDF template for an aggregation of 
<br />
CTD casts.
<br />
<br />Upendra,
<br />
<br />Based on your responses and what I have seen at NODC and other places
<br />
&nbsp;it seems there are 2 methods to do this:
<br />
<br />1) You can have dimensions for lat, long time i.e an array
<br />
with a single value. That is:
<br />
<br />dimensions:
<br />
TIME=1
<br />
PRESSURE=729
<br />
LATITUDE=1
<br />
LONGITUDE=1
<br />
<br />variables:
<br />
<br />double TIME(TIME) ;
<br />
+ std. attrs.
<br />
double LATITUDE(LATITUDE) ;
<br />
+ std. attrs.
<br />
double LONGITUDE(LONGITUDE) ;
<br />
+ std. attrs.
<br />
double PRESSURE(PRESSURE) ;
<br />
+ std. attrs.
<br />
<br />double TEMPERATURE(PRESSURE) ;
<br />
+ std. attrs.
<br />
TEMPERATURE:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />double SALINITY(PRESSURE) ;
<br />
+ std. attrs.
<br />
SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />(2) Other way is to have Lat, long and time are single valued scalars:
<br />
<br />dimensions:
<br />
<br />PRESSURE=729
<br />
<br />variables:
<br />
<br />double LATITUDE ;
<br />
+ std attrs
<br />
<br />double LONGITUDE ;
<br />
+ std attrs
<br />
<br />double TIME ;
<br />
+std attrs
<br />
<br />double PRESSURE(PRESSURE) ;
<br />
+ std. attrs.
<br />
<br />double TEMPERATURE(PRESSURE) ;
<br />
+ std. attrs.
<br />
TEMPERATURE:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />double SALINITY(PRESSURE) ;
<br />
+ std. attrs.
<br />
SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />I can see Method 2 above is much simpler and I would prefer to use
<br />
this. 
<br />
<br />However I have another small concern about all of this. Given there is more than 
<br />
1 way to treat dimensions does the netCDF plotting and visualising sofware out
<br />
there understand both approaches. That is can we expect something like 
<br />
ncBrowse, IDV or ODV? give me a plot of say salinity vs. pressure
<br />
and work OK with BOTH approaches to coding the netCDF?
<br />
<br />Thanks and Regards All,
<br />
<br />Andrew Walsh
<br />
&nbsp;&nbsp;----- Original Message ----- 
<br />
&nbsp;&nbsp;From: Lowry, Roy K. 
<br />
&nbsp;&nbsp;To: Upendra Dadi ; andrew walsh 
<br />
&nbsp;&nbsp;Cc: Luke Callcut ; cf-metadata at cgd.ucar.edu ; sdn2-tech at seadatanet.org 
<br />
&nbsp;&nbsp;Sent: Tuesday, April 03, 2012 9:31 AM
<br />
&nbsp;&nbsp;Subject: RE: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br /><br />&nbsp;&nbsp;Hi Upendra,
<br />
<br />&nbsp;&nbsp;I like the idea of a station dimension.  It goes a long way to resolving the issue raised in my response to Jim which was based on the tunnel vision of having pressure/depth as a dimension.  I have yet to look at the recently published NODC NetCDF templates.  Is this CTD encoding included in them?  If so, I'll bump up looking at them on my 'todo' list. I'd also recommend that Andrew and my colleagues in SeaDataNet take a look.
<br />
<br />&nbsp;&nbsp;Cheers, Roy.
<br />
<br /><br />------------------------------------------------------------------------------
<br />
&nbsp;&nbsp;From: cf-metadata-bounces at cgd.ucar.edu [cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Upendra Dadi [upendra.dadi at noaa.gov]
<br />
&nbsp;&nbsp;Sent: 02 April 2012 17:21
<br />
&nbsp;&nbsp;To: andrew walsh
<br />
&nbsp;&nbsp;Cc: Luke Callcut; cf-metadata at cgd.ucar.edu
<br />
&nbsp;&nbsp;Subject: Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br /><br />&nbsp;&nbsp;Hi Andrew,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;Either way it should be okay as far as CF compliance is concerned. But the dimensions - latitude, longitude and time are not really required.  If it is required to indicate that there is only one station(profile) in the file, there could be a dimension for number of stations instead, with a value of 1. Also, using a station dimension is the way to go if storing a collection of profiles in a single file. Here at NODC, we took the approach that we would use the same consistent representation whether there is a single instance or a collection in a file.
<br />
<br />&nbsp;&nbsp;Upendra
<br />
<br /><br /><br /><br /><br />&nbsp;&nbsp;On Mon, Apr 2, 2012 at 2:51 AM, andrew walsh &lt;awalsh at metoc.gov.au&gt; wrote:
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;Hi CF lis
<br />
&nbsp;&nbsp;&nbsp;&nbsp;We are working on coding up some 1000's netCDF files off CTD
<br />
&nbsp;&nbsp;&nbsp;&nbsp;instruments and want to make usre we are following the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;latest netCDF conventions (v1.6) OK. As background the CTD records
<br />
&nbsp;&nbsp;&nbsp;&nbsp;a profile pressure, temperature and salinity.
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;Here is a summarised CDL version (not all attributes+variables+qc flags there, just majors for now)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;of what we propose:
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;dimensions:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;TIME=1
<br />
&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE=729
<br />
&nbsp;&nbsp;&nbsp;&nbsp;LATITUDE=1
<br />
&nbsp;&nbsp;&nbsp;&nbsp;LONGITUDE=1
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;variables:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;double TIME(TIME) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIME:standard_name = &quot;time&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIME:units = &quot;days since 1950-01-01 00:00:00Z&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIME:axis = &quot;T&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIME:valid_min = 0. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIME:valid_max = 999999. ;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;double LATITUDE(LATITUDE) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LATITUDE:standard_name = &quot;latitude&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LATITUDE:units = &quot;degrees_north&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LATITUDE:axis = &quot;Y&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LATITUDE:valid_min = -90. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LATITUDE:valid_max = 90. ;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double LONGITUDE(LONGITUDE) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGITUDE:standard_name = &quot;longitude&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGITUDE:units = &quot;degrees_east&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGITUDE:axis = &quot;X&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGITUDE:valid_min = -180. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LONGITUDE:valid_max = 180. ;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double PRESSURE(PRESSURE) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE:standard_name = &quot;sea_water_pressure&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE:units = &quot;decibars&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE:axis = &quot;Z&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE:valid_min = 0. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE:valid_max = 12000. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRESSURE:positive = &quot;down&quot; ;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;double TEMPERATURE(PRESSURE) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEMPERATURE:standard_name = &quot;sea_water_temperature&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEMPERATURE:units = &quot;degrees_C&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEMPERATURE:_FillValue = -99.99 ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEMPERATURE:valid_min = -2. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TEMPERATURE:valid_max = 40. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;TEMPERATURE:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double SALINITY(PRESSURE) ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SALINITY:standard_name = &quot;sea_water_salinity&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SALINITY:units = &quot;psu&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SALINITY:_FillValue = -99.99 ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SALINITY:valid_min = 0. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SALINITY:valid_max = 40. ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;// global attributes:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:conventions = &quot;CF-1.6&quot; ;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:featureType = &quot;profile&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cdm_data_type = &quot;profile&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;+ several other attributes later for ISO19115 metadata generation
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;I am not sure  if I should have TEMPERATURE and SALINITY arrays with 4 dimensions
<br />
&nbsp;&nbsp;&nbsp;&nbsp;like TEMPERATURE(TIME,LATITUDE,LONGITUDE,PRESSURE) or just 1 dimension
<br />
&nbsp;&nbsp;&nbsp;&nbsp;like I have above i.e. TEMPERATURE(PRESSURE). ?
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;Any feedback on the above is greatly appreciated.
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;Andrew Walsh 
<br />
&nbsp;&nbsp;&nbsp;&nbsp;_______________________________________________
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CF-metadata mailing list
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CF-metadata at cgd.ucar.edu
<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><br /><br />&nbsp;&nbsp;-- 
<br />
&nbsp;&nbsp;This message (and any attachments) is for the recipient only. NERC 
<br />
&nbsp;&nbsp;is subject to the Freedom of Information Act 2000 and the contents 
<br />
&nbsp;&nbsp;of this email and any reply you make may be disclosed by NERC unless 
<br />
&nbsp;&nbsp;it is exempt from release under the Act. Any material supplied to 
<br />
&nbsp;&nbsp;NERC may be stored in an electronic records management system. 
<br />
-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120403/acb5757f/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120403/acb5757f/attachment-0001.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Mon Apr 02 2012 - 21:39:25 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4339">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4340.html" title="Next message in the list">Lowry, Roy K.: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4338.html" title="Previous message in the list">Lowry, Roy K.: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4340.html" title="Next message in this discussion thread">Lowry, Roy K.: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./4340.html" title="Message sent in reply to this message">Lowry, Roy K.: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<li><dfn>Reply</dfn>: <a href="./4345.html" title="Message sent in reply to this message">Upendra Dadi: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4339" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4339" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4339" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4339" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:01 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4338.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4340.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
