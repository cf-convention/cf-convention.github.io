<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] TR:  Ocean CTD data following CF Conventions v1.6 from Thierry Carval on 2012-04-04 (cf-metadata-mailman)</title>
<meta name="Author" content="Thierry Carval (Thierry.Carval)" />
<meta name="Subject" content="[CF-metadata] TR:  Ocean CTD data following CF Conventions v1.6" />
<meta name="Date" content="2012-04-04" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4352.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4354.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] TR:  Ocean CTD data following CF Conventions v1.6</h1>
<!-- received="Wed Apr  4 02:50:15 2012" -->
<!-- isoreceived="20120404015015" -->
<!-- sent="Wed, 4 Apr 2012 10:50:15 +0200" -->
<!-- isosent="20120404085015" -->
<!-- name="Thierry Carval" -->
<!-- email="Thierry.Carval" -->
<!-- subject="[CF-metadata] TR:  Ocean CTD data following CF Conventions v1.6" -->
<!-- id="000c01cd123f$f4584e80$dd08eb80$_at_ifremer.fr" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="40829B0E077C1145A6DE44D39B3830A9211B07989D_at_nerckwmb1.ad.nerc.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4353" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4354.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Next message</a> ]
[ <a href="./4352.html" title="andrew walsh: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Previous message</a> ]
[ <a href="./4337.html" title="Lowry, Roy K.: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./4341.html" accesskey="t" title="Nan Galbraith: &quot;[CF-metadata] Ocean CTD data following CF Conventions v1.6&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4353" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4353" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4353" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4353" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Thierry Carval &lt;<a href="mailto:Thierry.Carval?Subject=Re%3A%20%5BCF-metadata%5D%20TR%3A%20%20Ocean%20CTD%20data%20following%20CF%20Conventions%20v1.6">Thierry.Carval</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 4 Apr 2012 10:50:15 +0200</span><br />
</address>
<br />
Hello Roy and All,
<br />
<br />I am involved in Argo data-management, OceanSITES and the MyOcean EU
<br />
project.
<br />
<br />These 3 projects are intensive users of NetCDF CTD data files.
<br />
<br />&nbsp;
<br />
<br />Within these communities  :
<br />
<br />?         The natural  vertical reference for a CTD is pressure. This is
<br />
also true for Argo floats, gliders or sea-mammals.
<br />
<br />?         The natural vertical reference for XBTs, moorings and buoys is
<br />
depth.
<br />
<br />So the NetCDF files vertical reference can be either pressure or depth, but
<br />
not both.
<br />
<br />&nbsp;
<br />
<br />If another community wants an homogeneous vertical reference, a profile with
<br />
additional data (pressure or depth) ?could? be provided, as a product.
<br />
<br />BUT, this adds complexity; I feel more comfortable with data reported as
<br />
naturally as possible :
<br />
<br />?         If you add a vertical reference, you have to decide which one is
<br />
the Z axis (PRES:axis = &quot;Z&quot;  or DEPH:axis = &quot;Z&quot;  attribute).
<br />
<br />?         All the QC flags assigned to pressure should be transferred to
<br />
depth; but this is not straightforward.
<br />
If the salinity is bad or spiky, from a good pressure you will have a bad
<br />
depth.
<br />
<br />&nbsp;
<br />
<br />Here are links to different NetCDF user?s manual managing vertical profiles
<br />
with pressure or depth (but not both) vertical axes:
<br />
<br />?         Argo documentation &lt;<a href="http://www.argodatamgt.org/Documentation">http://www.argodatamgt.org/Documentation</a>&gt; ,
<br />
the user?s manual
<br />
&lt;<a href="http://www.argodatamgt.org/content/download/12096/80327/file/argo-dm-user-m">http://www.argodatamgt.org/content/download/12096/80327/file/argo-dm-user-m</a>
<br />
anual.pdf&gt;  : we are heading toward 1 million profiles
<br />
<br />?         OceanSITES &lt;<a href="http://www.oceansites.org/data/index.html">http://www.oceansites.org/data/index.html</a>&gt; , the
<br />
user?s manual
<br />
&lt;<a href="http://www.oceansites.org/docs/oceansites_user_manual_version1.2.pdf">http://www.oceansites.org/docs/oceansites_user_manual_version1.2.pdf</a>&gt;  :
<br />
1400 long time-series from mooring sites
<br />
<br />&nbsp;
<br />
<br />The EU MyOcean project &lt;<a href="http://www.myocean.eu.org/">http://www.myocean.eu.org/</a>&gt;  adopted the OceanSITES
<br />
implementation of NetCDF CF for oceanographic in-situ data.
<br />
<br />The last 3 years of in-situ observations are available in OceanSITES NetCDF
<br />
CF files (see the map of 3.4 million vertical profiles
<br />
&lt;<a href="http://www.coriolis.eu.org/Data-Services-Products/MyOcean-In-Situ-TAC/MyOce">http://www.coriolis.eu.org/Data-Services-Products/MyOcean-In-Situ-TAC/MyOce</a>
<br />
an-1-period-from-April-2009-to-April-2012&gt; ).
<br />
<br />&nbsp;
<br />
<br />This format is also used for EGO gliders
<br />
&lt;<a href="http://ego.dt.insu.cnrs.fr/dokuwiki/doku.php?id=start">http://ego.dt.insu.cnrs.fr/dokuwiki/doku.php?id=start</a>&gt; , where pressure is
<br />
the vertical axis.
<br />
<br />Example : Pheidippides glider data
<br />
&lt;<a href="http://www.ifremer.fr/co/ego/ego/pheidippides/">http://www.ifremer.fr/co/ego/ego/pheidippides/</a>&gt;  (NetCDF OceanSITES
<br />
vertical profiles) operating now around Cyprus island.
<br />
<br />&nbsp;
<br />
<br />The above user?s manuals for NetCDF-CF CTDs (and others)  files may be
<br />
enhanced with this ongoing v1.6 proposal.
<br />
<br />Best regards,
<br />
<br />&nbsp;
<br />
<br />Thierry
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />-----Message d'origine-----
<br />
De : cf-metadata-bounces at cgd.ucar.edu
<br />
[mailto:cf-metadata-bounces at cgd.ucar.edu] De la part de Lowry, Roy K.
<br />
Envoy? : mardi 3 avril 2012 12:56
<br />
? : Lowry, Roy K.; andrew walsh
<br />
Cc : Luke Callcut; cf-metadata at cgd.ucar.edu; Upendra Dadi;
<br />
sdn2-tech at seadatanet.org; greg at metoc.gov.au
<br />
Objet : Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />Hello again,
<br />
<br />&nbsp;
<br />
<br />It has been pointed out to me that in the current SeaDataNet format
<br />
specification (written and updated by me!) that the initial position of
<br />
insisting upon depth for the z co-ordinate was relaxed to allow either
<br />
pressure or depth. So, I guess we need to be relaxed and leave z co-ordinate
<br />
harmonisation to the the application tools.
<br />
<br />&nbsp;
<br />
<br />Yet another 'senior moment'......
<br />
<br />&nbsp;
<br />
<br />Cheers, Roy.
<br />
<br />&nbsp;
<br />
<br />________________________________________
<br />
<br />From: cf-metadata-bounces at cgd.ucar.edu [cf-metadata-bounces at cgd.ucar.edu] On
<br />
Behalf Of Lowry, Roy K. [rkl at bodc.ac.uk]
<br />
<br />Sent: 03 April 2012 06:46
<br />
<br />To: andrew walsh
<br />
<br />Cc: cf-metadata at cgd.ucar.edu; sdn2-tech at seadatanet.org; greg at metoc.gov.au;
<br />
Luke Callcut; Upendra Dadi
<br />
<br />Subject: Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />Hi again,
<br />
<br />&nbsp;
<br />
<br />The reason that I prefer depth to pressure as the dimension for CTD is that
<br />
the information required for pressure to depth conversion is virtually
<br />
always present in the CTD data.  However, in other oceanographic profiles -
<br />
say nutrient bottle data - it is quite possible to have depth present
<br />
without temperature and salinity, making the conversion to pressure
<br />
impossible.  Calculating depth from pressure at the time of standardised
<br />
formatting of CTD data is as you say is trivial.  So, why not make the CTD
<br />
data more compatible with bottle data for very little cost?
<br />
<br />&nbsp;
<br />
<br />SeaDataNet already mandate inclusion of depth in their other data formats
<br />
for CTD data delivery and so I can't see them switching to pressure for the
<br />
dimension in NetCDF.
<br />
<br />&nbsp;
<br />
<br />Cheers, Roy.
<br />
<br />&nbsp;
<br />
<br />________________________________________
<br />
<br />From: andrew walsh [awalsh at metoc.gov.au]
<br />
<br />Sent: 03 April 2012 06:15
<br />
<br />To: Lowry, Roy K.
<br />
<br />Cc: Jim Biard; Upendra Dadi; cf-metadata at cgd.ucar.edu; Luke Callcut;
<br />
greg at metoc.gov.au; sdn2-tech at seadatanet.org
<br />
<br />Subject: Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />Hi Roy/All,
<br />
<br />&nbsp;
<br />
<br />Agree totally it would be good to get this CTD netCDF done in an
<br />
interoperable way.
<br />
<br />&nbsp;
<br />
<br />Regarding having pressure vs. depth. We liked to use pressure because:
<br />
<br />&nbsp;
<br />
<br />1) It is the thing that is measured, let us store just that and calculate
<br />
depth if needed.
<br />
<br />&nbsp;
<br />
<br />2) Depth can later be easily be calculated on the fly using the 'Pressure to
<br />
Depth' algorithm in  &quot;UNESCO (1983) Techinical Papers in Marine Science 44,
<br />
Algorithms for Computation of fundamental properties of Seawater. One can
<br />
use the python seawater library (see <a href="http://packages.python.org/seawater/">http://packages.python.org/seawater/</a> )
<br />
and seawater.csiro.depth(p, lat) to get depth from pressure and
<br />
seawater.csiro.pres(depth, lat) to get pressure from depth.
<br />
<br />&nbsp;
<br />
<br />3) I noted that the ARGO project (10000's CTD like profiles) and others like
<br />
CSIRO Oceanography in Aust. make data available with just pressure.
<br />
<br />&nbsp;
<br />
<br />4) It makes our processing and QC a whole lot simpler. We don't have to
<br />
worry about calculating and managing the extra 'depth' variable.
<br />
<br />&nbsp;
<br />
<br />Is  there any problem with having the &quot;pressure&quot; as a co-ordinate which
<br />
isn't really a &quot;dimensional&quot;
<br />
<br />quantity like depth (z) in the 4-D sense i.e x,y,z,t ?
<br />
<br />&nbsp;
<br />
<br />However I note that pressure (decibar) is allowed as a vertical axis e.g see
<br />
section 4.3. Vertical (Height or Depth) Coordinate of CF v1.6 conventions
<br />
document which
<br />
<br />says:
<br />
<br />&nbsp;
<br />
<br />&quot;A vertical coordinate will be identifiable by:
<br />
<br />&nbsp;
<br />
<br />. units of pressure; or
<br />
<br />. the presence of the positive attribute with a value of up or down (case
<br />
insensitive).
<br />
<br />&quot;
<br />
<br />&nbsp;
<br />
<br />AND
<br />
<br />&nbsp;
<br />
<br />section 4.3.1. &quot;Dimensional Vertical Coordinate&quot; which says:
<br />
<br />&nbsp;
<br />
<br />&quot;The units attribute for dimensional coordinates will be a string formatted
<br />
as per the udunits.dat3 file. The acceptable units for vertical (depth or
<br />
height) coordinate variables are:
<br />
<br />&nbsp;
<br />
<br />. units of pressure as listed in the file udunits.dat. For vertical axes the
<br />
most commonly used of these include include bar, millibar, decibar,
<br />
atmosphere (atm), pascal (Pa), and hPa.
<br />
<br />...
<br />
<br />...&quot;?
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />Regards,
<br />
<br />&nbsp;
<br />
<br />Andrew
<br />
<br />&nbsp;
<br />
<br />----- Original Message -----
<br />
<br />From: Lowry, Roy K.
<br />
<br />To: andrew walsh
<br />
<br />Cc: Jim Biard ; Upendra Dadi ; cf-metadata at cgd.ucar.edu ; Luke Callcut ;
<br />
greg at metoc.gov.au ; sdn2-tech at seadatanet.org
<br />
<br />Sent: Tuesday, April 03, 2012 2:16 PM
<br />
<br />Subject: RE: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />Hi Andrew,
<br />
<br />&nbsp;
<br />
<br />SeaDataNet will very soon be considering how it is going to encode data,
<br />
including single CTD casts, in CF-compliant NetCDF and so I think the time
<br />
is ripe for agreeing how the significant numbers of us who indulge in this
<br />
practice for whatever reason do it.  That way we'll end up with
<br />
interoperable data.
<br />
<br />&nbsp;
<br />
<br />I think there are a number of people on this list who have already encoded
<br />
single CTDs into NetCDF and so it would be useful to start by asking for
<br />
descriptions (like Andrew's examples) of how this has been done and what
<br />
tools are dependent upon that encoding.
<br />
<br />&nbsp;
<br />
<br />The z co-ordinate parameter (pressure/depth) is also an issue worth
<br />
resolving.
<br />
<br />Whilst interconversions are relatively straightforward, agreement would make
<br />
life much easier.  My preference leans dowards having depth as the dimension
<br />
with pressure as an optional variable. That way we interoperate with other
<br />
kinds of oceanographic profile data such as bottle data.
<br />
<br />&nbsp;
<br />
<br />If we can get that far, we can then look at how to aggregate multiple CTDs
<br />
into a file according to the CF point data conventions.
<br />
<br />&nbsp;
<br />
<br />Cheers, Roy.
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />From: andrew walsh [awalsh at metoc.gov.au]
<br />
<br />Sent: 03 April 2012 04:39
<br />
<br />To: Lowry, Roy K.
<br />
<br />Cc: Jim Biard; Upendra Dadi; cf-metadata at cgd.ucar.edu; Luke Callcut;
<br />
greg at metoc.gov.au
<br />
<br />Subject: Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />Hello Roy, Upendra, Jim and CF list,
<br />
<br />&nbsp;
<br />
<br />Thanks for all your feedbacks.
<br />
<br />My proposal relates to single CTD profile data (a vertical profile of
<br />
pressure, Temp. Salinity) not a trajectory in x,y,z,t and I have put
<br />
:featureType = &quot;profile&quot; as recommended in the global attributes section. As
<br />
Roy has mentioned to Jim CTD data is usually processed and QC'ed as a single
<br />
profile per netCDF file so that's why I am doing it this way.
<br />
<br />&nbsp;
<br />
<br />Aggregations using multiple CTD profiles per netCDF file may be constructed
<br />
later at say national/international data centres and these aggregrations
<br />
would follow the CF conventions v1.6, Chapter 9 - Discrete Sampling
<br />
geometries and also the new netCDF templates provided by NODC, thanks NODC
<br />
-:)
<br />
<br />&nbsp;
<br />
<br />Roy,
<br />
<br />&nbsp;
<br />
<br />The recent NODC netCDF templates don't have an aggregation example for CTD
<br />
however the &quot;Profile/World Ocean Database Observed Level&quot; example comes
<br />
close (see  &lt;<a href="http://www.nodc.noaa.gov/data/formats/netcdf/">http://www.nodc.noaa.gov/data/formats/netcdf/</a>&gt;
<br />
<a href="http://www.nodc.noaa.gov/data/formats/netcdf/">http://www.nodc.noaa.gov/data/formats/netcdf/</a>) and click on Profile/World
<br />
Ocean Database Observed Level link. This example appears to be for ocean
<br />
station/bottle samples with vertical dimension of depth (z) (m) rather than
<br />
case of CTD which would use pressure (dbar) as the vertical (z) dimension.
<br />
<br />It would be useful I think to have a NODC netCDF template for an aggregation
<br />
of CTD casts.
<br />
<br />&nbsp;
<br />
<br />Upendra,
<br />
<br />&nbsp;
<br />
<br />Based on your responses and what I have seen at NODC and other places  it
<br />
seems there are 2 methods to do this:
<br />
<br />&nbsp;
<br />
<br />1) You can have dimensions for lat, long time i.e an array with a single
<br />
value. That is:
<br />
<br />&nbsp;
<br />
<br />dimensions:
<br />
<br />TIME=1
<br />
<br />PRESSURE=729
<br />
<br />LATITUDE=1
<br />
<br />LONGITUDE=1
<br />
<br />&nbsp;
<br />
<br />variables:
<br />
<br />&nbsp;
<br />
<br />double TIME(TIME) ;
<br />
<br />+ std. attrs.
<br />
<br />double LATITUDE(LATITUDE) ;
<br />
<br />+ std. attrs.
<br />
<br />double LONGITUDE(LONGITUDE) ;
<br />
<br />+ std. attrs.
<br />
<br />double PRESSURE(PRESSURE) ;
<br />
<br />+ std. attrs.
<br />
<br />&nbsp;
<br />
<br />double TEMPERATURE(PRESSURE) ;
<br />
<br />+ std. attrs.
<br />
<br />TEMPERATURE:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;
<br />
<br />double SALINITY(PRESSURE) ;
<br />
<br />+ std. attrs.
<br />
<br />SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;
<br />
<br />(2) Other way is to have Lat, long and time are single valued scalars:
<br />
<br />&nbsp;
<br />
<br />dimensions:
<br />
<br />&nbsp;
<br />
<br />PRESSURE=729
<br />
<br />&nbsp;
<br />
<br />variables:
<br />
<br />&nbsp;
<br />
<br />double LATITUDE ;
<br />
<br />+ std attrs
<br />
<br />&nbsp;
<br />
<br />double LONGITUDE ;
<br />
<br />+ std attrs
<br />
<br />&nbsp;
<br />
<br />double TIME ;
<br />
<br />+std attrs
<br />
<br />&nbsp;
<br />
<br />double PRESSURE(PRESSURE) ;
<br />
<br />+ std. attrs.
<br />
<br />&nbsp;
<br />
<br />double TEMPERATURE(PRESSURE) ;
<br />
<br />+ std. attrs.
<br />
<br />TEMPERATURE:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;
<br />
<br />double SALINITY(PRESSURE) ;
<br />
<br />+ std. attrs.
<br />
<br />SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;
<br />
<br />I can see Method 2 above is much simpler and I would prefer to use this.
<br />
<br />&nbsp;
<br />
<br />However I have another small concern about all of this. Given there is more
<br />
than
<br />
<br />1 way to treat dimensions does the netCDF plotting and visualising sofware
<br />
out there understand both approaches. That is can we expect something like
<br />
ncBrowse, IDV or ODV? give me a plot of say salinity vs. pressure and work
<br />
OK with BOTH approaches to coding the netCDF?
<br />
<br />&nbsp;
<br />
<br />Thanks and Regards All,
<br />
<br />&nbsp;
<br />
<br />Andrew Walsh
<br />
<br />----- Original Message -----
<br />
<br />From: Lowry, Roy K.
<br />
<br />To: Upendra Dadi ; andrew walsh
<br />
<br />Cc: Luke Callcut ; cf-metadata at cgd.ucar.edu ; sdn2-tech at seadatanet.org
<br />
<br />Sent: Tuesday, April 03, 2012 9:31 AM
<br />
<br />Subject: RE: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />Hi Upendra,
<br />
<br />&nbsp;
<br />
<br />I like the idea of a station dimension.  It goes a long way to resolving the
<br />
issue raised in my response to Jim which was based on the tunnel vision of
<br />
having pressure/depth as a dimension.  I have yet to look at the recently
<br />
published NODC NetCDF templates.  Is this CTD encoding included in them?  If
<br />
so, I'll bump up looking at them on my 'todo' list. I'd also recommend that
<br />
Andrew and my colleagues in SeaDataNet take a look.
<br />
<br />&nbsp;
<br />
<br />Cheers, Roy.
<br />
<br />&nbsp;
<br />
<br />From: cf-metadata-bounces at cgd.ucar.edu [cf-metadata-bounces at cgd.ucar.edu] On
<br />
Behalf Of Upendra Dadi [upendra.dadi at noaa.gov]
<br />
<br />Sent: 02 April 2012 17:21
<br />
<br />To: andrew walsh
<br />
<br />Cc: Luke Callcut; cf-metadata at cgd.ucar.edu
<br />
<br />Subject: Re: [CF-metadata] Ocean CTD data following CF Conventions v1.6
<br />
<br />&nbsp;
<br />
<br />&nbsp;
<br />
<br />Hi Andrew,
<br />
<br />&nbsp;&nbsp;Either way it should be okay as far as CF compliance is concerned. But the
<br />
dimensions - latitude, longitude and time are not really required.  If it is
<br />
required to indicate that there is only one station(profile) in the file,
<br />
there could be a dimension for number of stations instead, with a value of
<br />
1. Also, using a station dimension is the way to go if storing a collection
<br />
of profiles in a single file. Here at NODC, we took the approach that we
<br />
would use the same consistent representation whether there is a single
<br />
instance or a collection in a file.
<br />
<br />&nbsp;
<br />
<br />Upendra
<br />
<br />&nbsp;
<br />
<br />On Mon, Apr 2, 2012 at 2:51 AM, andrew walsh &lt; &lt;mailto:awalsh at metoc.gov.au&gt;
<br />
awalsh at metoc.gov.au&gt; wrote:
<br />
<br />&nbsp;
<br />
<br />Hi CF lis
<br />
<br />We are working on coding up some 1000's netCDF files off CTD instruments and
<br />
want to make usre we are following the latest netCDF conventions (v1.6) OK.
<br />
As background the CTD records a profile pressure, temperature and salinity.
<br />
<br />&nbsp;
<br />
<br />Here is a summarised CDL version (not all attributes+variables+qc flags
<br />
there, just majors for now) of what we propose:
<br />
<br />&nbsp;
<br />
<br />dimensions:
<br />
<br />TIME=1
<br />
<br />PRESSURE=729
<br />
<br />LATITUDE=1
<br />
<br />LONGITUDE=1
<br />
<br />&nbsp;
<br />
<br />variables:
<br />
<br />double TIME(TIME) ;
<br />
<br />TIME:standard_name = &quot;time&quot; ;
<br />
<br />TIME:units = &quot;days since 1950-01-01 00:00:00Z&quot; ;  TIME:axis = &quot;T&quot; ;
<br />
TIME:valid_min = 0. ;  TIME:valid_max = 999999. ;
<br />
<br />&nbsp;
<br />
<br />double LATITUDE(LATITUDE) ;
<br />
<br />LATITUDE:standard_name = &quot;latitude&quot; ;
<br />
<br />LATITUDE:units = &quot;degrees_north&quot; ;
<br />
<br />LATITUDE:axis = &quot;Y&quot; ;
<br />
<br />LATITUDE:valid_min = -90. ;
<br />
<br />LATITUDE:valid_max = 90. ;
<br />
<br />&nbsp;
<br />
<br />double LONGITUDE(LONGITUDE) ;
<br />
<br />LONGITUDE:standard_name = &quot;longitude&quot; ;  LONGITUDE:units = &quot;degrees_east&quot; ;
<br />
LONGITUDE:axis = &quot;X&quot; ;  LONGITUDE:valid_min = -180. ;  LONGITUDE:valid_max =
<br />
180. ;
<br />
<br />&nbsp;
<br />
<br />double PRESSURE(PRESSURE) ;
<br />
<br />PRESSURE:standard_name = &quot;sea_water_pressure&quot; ;  PRESSURE:units = &quot;decibars&quot;
<br />
;  PRESSURE:axis = &quot;Z&quot; ;  PRESSURE:valid_min = 0. ; PRESSURE:valid_max =
<br />
12000. ;  PRESSURE:positive = &quot;down&quot; ;
<br />
<br />&nbsp;
<br />
<br />double TEMPERATURE(PRESSURE) ;
<br />
<br />TEMPERATURE:standard_name = &quot;sea_water_temperature&quot; ;  TEMPERATURE:units =
<br />
&quot;degrees_C&quot; ;  TEMPERATURE:_FillValue = -99.99 ;  TEMPERATURE:valid_min =
<br />
-2. ;  TEMPERATURE:valid_max = 40. ; TEMPERATURE:coordinates=&quot;TIME LATITUDE
<br />
LONGITUDE PRESSURE&quot;
<br />
<br />&nbsp;
<br />
<br />double SALINITY(PRESSURE) ;
<br />
<br />SALINITY:standard_name = &quot;sea_water_salinity&quot; ;  SALINITY:units = &quot;psu&quot; ;
<br />
SALINITY:_FillValue = -99.99 ;  SALINITY:valid_min = 0. ;
<br />
SALINITY:valid_max = 40. ; SALINITY:coordinates=&quot;TIME LATITUDE LONGITUDE
<br />
PRESSURE&quot;
<br />
<br />&nbsp;
<br />
<br />// global attributes:
<br />
<br />:conventions = &quot;CF-1.6&quot; ;
<br />
<br />:featureType = &quot;profile&quot;
<br />
<br />:cdm_data_type = &quot;profile&quot;
<br />
<br />+ several other attributes later for ISO19115 metadata generation
<br />
<br />&nbsp;
<br />
<br />I am not sure  if I should have TEMPERATURE and SALINITY arrays with 4
<br />
dimensions like TEMPERATURE(TIME,LATITUDE,LONGITUDE,PRESSURE) or just 1
<br />
dimension like I have above i.e. TEMPERATURE(PRESSURE). ?
<br />
<br />&nbsp;
<br />
<br />Any feedback on the above is greatly appreciated.
<br />
<br />&nbsp;
<br />
<br />Andrew Walsh--
<br />
<br />This message (and any attachments) is for the recipient only. NERC is
<br />
subject to the Freedom of Information Act 2000 and the contents of this
<br />
email and any reply you make may be disclosed by NERC unless it is exempt
<br />
from release under the Act. Any material supplied to NERC may be stored in
<br />
an electronic records management system.
<br />
<br />_______________________________________________
<br />
<br />CF-metadata mailing list
<br />
<br />&nbsp;&lt;mailto:CF-metadata at cgd.ucar.edu&gt; CF-metadata at cgd.ucar.edu
<br />
<br />&nbsp;&lt;<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br />_______________________________________________
<br />
<br />CF-metadata mailing list
<br />
<br />&nbsp;&lt;mailto:CF-metadata at cgd.ucar.edu&gt; CF-metadata at cgd.ucar.edu
<br />
<br />&nbsp;&lt;<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<span id="received"><dfn>Received on</dfn> Wed Apr 04 2012 - 02:50:15 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4353">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4354.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4352.html" title="Previous message in the list">andrew walsh: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4337.html" title="Message to which this message replies">Lowry, Roy K.: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4341.html" title="Next message in this discussion thread">Nan Galbraith: "[CF-metadata] Ocean CTD data following CF Conventions v1.6"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4353" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4353" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4353" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4353" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:01 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4352.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4354.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
