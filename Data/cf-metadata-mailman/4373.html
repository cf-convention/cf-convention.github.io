<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Using add_offset &amp; scale_factor with coordinate variables from Randy Horne on 2012-04-11 (cf-metadata-mailman)</title>
<meta name="Author" content="Randy Horne (rhorne)" />
<meta name="Subject" content="[CF-metadata] Using add_offset &amp; scale_factor with coordinate variables" />
<meta name="Date" content="2012-04-11" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4372.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4374.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Using add_offset &amp; scale_factor with coordinate variables</h1>
<!-- received="Wed Apr 11 11:23:14 2012" -->
<!-- isoreceived="20120411102314" -->
<!-- sent="Wed, 11 Apr 2012 13:23:14 -0400" -->
<!-- isosent="20120411172314" -->
<!-- name="Randy Horne" -->
<!-- email="rhorne" -->
<!-- subject="[CF-metadata] Using add_offset &amp; scale_factor with coordinate variables" -->
<!-- id="7A2C3465-E639-46F6-B387-264740B0A8AC_at_excaliburlabs.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="9F78FD5B-07F4-4A76-A454-4DE86FBE6F0F_at_noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4373" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4374.html" accesskey="d" title="Etienne Tourigny: &quot;[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables&quot;">Next message</a> ]
[ <a href="./4372.html" title="Jim Biard: &quot;[CF-metadata] &#0034;one to many&#0034; relationships between data variables&quot;">Previous message</a> ]
[ <a href="./4371.html" title="Jim Biard: &quot;[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./4374.html" accesskey="t" title="Etienne Tourigny: &quot;[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4373" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4373" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4373" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4373" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Randy Horne &lt;<a href="mailto:rhorne?Subject=Re%3A%20%5BCF-metadata%5D%20Using%20add_offset%20%26%20scale_factor%20with%20coordinate%20variables">rhorne</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 11 Apr 2012 13:23:14 -0400</span><br />
</address>
<br />
Jim:
<br />
<br />In our use case, software is simplified, not because of the removal of a multiply and an addition, but as a result of the coordinate variable values always having values starting at 0, and ascending monotonically and sequentially (i.e. 0, 1, 2, 3 ?n), and just pulling specific add_offsets and scale_factors out of a table where the table has an entry for each type of product.
<br />
<br />vey respectfully,
<br />
<br />randy
<br />
<br /><br />On Apr 11, 2012, at 1:05 PM, Jim Biard wrote:
<br />
<br /><em class="quotelev1">&gt; Hi.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I'm not against expanding the use of scale and offset, per se, but the reasons that you would like to use them seem (to me) to not be generally applicable.  Argument 1) implies that you obtain some sort of measurable benefit from saving one multiplication and one addition in your production software.  If you have optimized your code so well that this represents a major improvement, you are to be congratulated, but that won't be true for most.  Argument 2) does not appear to be something you can count on in every circumstance, nor do I think it advisable to imbue the scale_factor attribute with any such interpretation as a general rule.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I am finding it often the case for swath data that coordinate variables end up occupying a larger portion of a file than data variables.  I think it's a great idea to address this issue.  I must admit I'm not sure what the best way is.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Grace and peace,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jim
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jim Biard
</em><br />
<em class="quotelev1">&gt; Research Scholar
</em><br />
<em class="quotelev1">&gt; Cooperative Institute for Climate and Satellites
</em><br />
<em class="quotelev1">&gt; Remote Sensing and Applications Division
</em><br />
<em class="quotelev1">&gt; National Climatic Data Center
</em><br />
<em class="quotelev1">&gt; 151 Patton Ave, Asheville, NC 28801-5001
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; jim.biard at noaa.gov
</em><br />
<em class="quotelev1">&gt; 828-271-4900
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On Apr 11, 2012, at 10:50 AM, Randy Horne wrote:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; The allure of using add_offset &amp; scale_factor with coordinate variables goes beyond saving space.   For example, in our use case ?
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; (1)
</em><br />
<em class="quotelev2">&gt;&gt; Makes the s/w producing the product simpler.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; (2)
</em><br />
<em class="quotelev2">&gt;&gt; The scale_factor also tells you what the horizontal spatial resolution is in a representation that aligns with the coordinate space.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; very respectfully,
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; randy
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; On Apr 10, 2012, at 3:11 PM, Etienne Tourigny wrote:
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; If netcdf-4 is an option for you, it might be simpler to compress
</em><br />
<em class="quotelev3">&gt;&gt;&gt; (deflate) the coordinate variables, this works transparently.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Etienne
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; On Tue, Apr 10, 2012 at 2:40 PM, David Hassell
</em><br />
<em class="quotelev3">&gt;&gt;&gt; &lt;d.c.hassell at reading.ac.uk&gt; wrote:
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Hello Randy,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; I, too, recently thought about this when working on some CF processing
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; software (cf-python), but couldn't think of a use case so didn't
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; pursue it - and now you have one!
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; It seems to me that the use of scale_factor and add_offset is intended
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; for (but not restricted to ...?) the reduction of dataset size
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; (chapter 8). Is the requirement in your example for space saving, or
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; some other convienience? I personally think that the latter case is
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; better served by an appropiate setting of the units attribute (such as
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; units=&quot;0.555555555555556 K _at_ 459.67&quot; if we have converted from Kelvin
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; to Fahrenheit).
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Anyway, I can't think of a reason not to allow these attributes on
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; coordinates - these variables can be very large, after all.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; All the best,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; David
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; ---- Original message from Randy Horne (01PM 05 Apr 12)
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Date: Thu, 5 Apr 2012 13:05:45 -0400
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; From: Randy Horne &lt;rhorne at excaliburlabs.com&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; X-Mailer: &lt;IMail v8.21&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Subject: [CF-metadata] Using add_offset &amp; scale_factor with coordinate
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; variables
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Folks:
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Appendix A, Table A.1 in the CF conventions state that add_offset and scale_factor can be used with data variables, but not coordinate variables.
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; For the data producing system I am working (GOES-R Ground Segment) it is particularly convenient to make use of add_offset and scale_factor with our coordinate variables.
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; Is there an issue with changing the conventions to allow this ?
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; very respectfully,
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; randy
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; ..............End of Message ...............................--&gt;
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt;&gt;&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; --
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; David Hassell
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; National Centre for Atmospheric Science (NCAS)
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Department of Meteorology, University of Reading,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Earley Gate, PO Box 243,
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Reading RG6 6BB, U.K.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Tel   : 0118 3785613
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; Fax   : 0118 3788316
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; E-mail: d.c.hassell at reading.ac.uk
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; ____________________________________
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; Randy C. Horne (rhorne at excaliburlabs.com)
</em><br />
<em class="quotelev2">&gt;&gt; Principal Engineer, Excalibur Laboratories Inc.
</em><br />
<em class="quotelev2">&gt;&gt; voice &amp; fax: (321) 952.5100
</em><br />
<em class="quotelev2">&gt;&gt; url: <a href="http://www.excaliburlabs.com">http://www.excaliburlabs.com</a>
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br /><br />____________________________________
<br />
<br />Randy C. Horne (rhorne at excaliburlabs.com)
<br />
Principal Engineer, Excalibur Laboratories Inc.
<br />
voice &amp; fax: (321) 952.5100
<br />
url: <a href="http://www.excaliburlabs.com">http://www.excaliburlabs.com</a>
<br />
<br /><br /><br /><br />-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120411/708a6153/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20120411/708a6153/attachment.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Wed Apr 11 2012 - 11:23:14 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4373">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4374.html" title="Next message in the list">Etienne Tourigny: "[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4372.html" title="Previous message in the list">Jim Biard: "[CF-metadata] &#0034;one to many&#0034; relationships between data variables"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4371.html" title="Message to which this message replies">Jim Biard: "[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4374.html" title="Next message in this discussion thread">Etienne Tourigny: "[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./4374.html" title="Message sent in reply to this message">Etienne Tourigny: "[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables"</a></li>
<li><dfn>Reply</dfn>: <a href="./4375.html" title="Message sent in reply to this message">Jonathan Gregory: "[CF-metadata] Using add_offset &#0038; scale_factor with coordinate variables"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4373" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4373" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4373" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4373" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:01 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4372.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4374.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
