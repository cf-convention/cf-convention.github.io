<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] code that does semantic checking of CF headers from Dave Allured on 2012-04-19 (cf-metadata-mailman)</title>
<meta name="Author" content="Dave Allured (dave.allured)" />
<meta name="Subject" content="[CF-metadata] code that does semantic checking of CF headers" />
<meta name="Date" content="2012-04-19" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4402.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4404.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] code that does semantic checking of CF headers</h1>
<!-- received="Thu Apr 19 14:11:42 2012" -->
<!-- isoreceived="20120419131142" -->
<!-- sent="Thu, 19 Apr 2012 14:11:42 -0600" -->
<!-- isosent="20120419201142" -->
<!-- name="Dave Allured" -->
<!-- email="dave.allured" -->
<!-- subject="[CF-metadata] code that does semantic checking of CF headers" -->
<!-- id="CALqwTFPuY=ZiGrF3QCK4qDR1f+69EOVudjrw_JM0Vsg=mNTXLA_at_mail.gmail.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="40829B0E077C1145A6DE44D39B3830A9213D4AB4A4_at_nerckwmb1.ad.nerc.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4403" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4404.html" accesskey="d" title="John Caron: &quot;[CF-metadata] code that does semantic checking of CF headers&quot;">Next message</a> ]
[ <a href="./4402.html" title="Seth McGinnis: &quot;[CF-metadata] code that does semantic checking of CF headers&quot;">Previous message</a> ]
[ <a href="./4396.html" title="Gaffney, Sean P.: &quot;[CF-metadata] code that does semantic checking of CF headers&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./4404.html" accesskey="t" title="John Caron: &quot;[CF-metadata] code that does semantic checking of CF headers&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4403" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4403" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4403" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4403" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Dave Allured &lt;<a href="mailto:dave.allured?Subject=Re%3A%20%5BCF-metadata%5D%20code%20that%20does%20semantic%20checking%20of%20CF%20headers">dave.allured</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 19 Apr 2012 14:11:42 -0600</span><br />
</address>
<br />
Sean,
<br />
<br />I run into this frequently, especially with files that do not come
<br />
from carefully crafted official archives.  I regard all flavors of
<br />
range attributes as frequently unreliable.  I think best practice is
<br />
to extract ranges directly from the coordinate values when plotting
<br />
data on the fly, and pay no attention to incorrect secondary metadata.
<br />
&nbsp;This should be simple to code and have no performance penalty.
<br />
<br />--Dave
<br />
<br />On Thu, Apr 19, 2012 at 9:13 AM, Gaffney, Sean P. &lt;sgaf at bodc.ac.uk&gt; wrote:
<br />
<em class="quotelev1">&gt; Hi all,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; My name is Sean Gaffney, from the British Oceanographic Data Centre, and I'm working on a project dealing with numerical model data that are in CF compliant NetCDF, so I thought I'd sign up to the community.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; The project I am working on aims to develop a web-based delivery system for oceanographic numerical model data and has a module which allows visualisation of the data. We've been using test CF data to fine-tune some of the technical aspects of this visualisation.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I have a particular issue at the moment which I hope someone out there might be able to assist me with.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; My problem started when I found that the test CF data were passing the BADC CF compliance checker, but not visualising properly. A check with the people who developed the visualisation module led to the discovery that, while the CF metadata were formatted correctly, the actual values within the metadata were incorrect e.g. the valid_min and valid_max attributes for both the latitude and longitude and dimensional variables had values which did not reflect the actual range of data in the file. The visualisation was setting itself up based on the values stored in the attributes and was therefore not displaying any data.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Has anyone in the CF community come across this sort of issue before and if so, what solutions would you recommend? My initial thoughts were that I'd have to develop some sort of code which interrogates the data file and compares the entries in the CF metadata header against the actual data values in the file, but I'd be interested to see what people think. Please bear in mind that I won't actually be generating model runs myself, but will be receiving data from people that have done so and need to know that I'm being given valid data and metadata.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Sorry for making my first message to the CF community so long.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Looking forward to your responses
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Yours
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Sean Gaffney
</em><br />
<em class="quotelev1">&gt; BODC
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; --------------------------------------------------------------------------------
</em><br />
<em class="quotelev1">&gt; Sean Gaffney
</em><br />
<em class="quotelev1">&gt; Data Scientist
</em><br />
<em class="quotelev1">&gt; British Oceanographic Data Centre
</em><br />
<em class="quotelev1">&gt; Joseph Proudman Building
</em><br />
<em class="quotelev1">&gt; 6 Brownlow Street
</em><br />
<em class="quotelev1">&gt; Liverpool
</em><br />
<em class="quotelev1">&gt; L3 5DA
</em><br />
<em class="quotelev1">&gt; UK
</em><br />
<em class="quotelev1">&gt; +44 (0)151 795 4950
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; --
</em><br />
<em class="quotelev1">&gt; This message (and any attachments) is for the recipient only. NERC
</em><br />
<em class="quotelev1">&gt; is subject to the Freedom of Information Act 2000 and the contents
</em><br />
<em class="quotelev1">&gt; of this email and any reply you make may be disclosed by NERC unless
</em><br />
<em class="quotelev1">&gt; it is exempt from release under the Act. Any material supplied to
</em><br />
<em class="quotelev1">&gt; NERC may be stored in an electronic records management system.
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<span id="received"><dfn>Received on</dfn> Thu Apr 19 2012 - 14:11:42 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4403">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4404.html" title="Next message in the list">John Caron: "[CF-metadata] code that does semantic checking of CF headers"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4402.html" title="Previous message in the list">Seth McGinnis: "[CF-metadata] code that does semantic checking of CF headers"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4396.html" title="Message to which this message replies">Gaffney, Sean P.: "[CF-metadata] code that does semantic checking of CF headers"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4404.html" title="Next message in this discussion thread">John Caron: "[CF-metadata] code that does semantic checking of CF headers"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./4404.html" title="Message sent in reply to this message">John Caron: "[CF-metadata] code that does semantic checking of CF headers"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4403" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4403" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4403" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4403" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:02 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4402.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4404.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
