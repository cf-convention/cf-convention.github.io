<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF calendars (was: problem with times in PSD dataset) from Jon Blower on 2012-12-09 (cf-metadata-mailman)</title>
<meta name="Author" content="Jon Blower (j.d.blower)" />
<meta name="Subject" content="[CF-metadata] CF calendars (was: problem with times in PSD dataset)" />
<meta name="Date" content="2012-12-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./4868.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4870.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF calendars (was: problem with times in PSD dataset)</h1>
<!-- received="Sun Dec  9 12:55:39 2012" -->
<!-- isoreceived="20121209125539" -->
<!-- sent="Sun, 9 Dec 2012 19:55:39 +0000" -->
<!-- isosent="20121209195539" -->
<!-- name="Jon Blower" -->
<!-- email="j.d.blower" -->
<!-- subject="[CF-metadata] CF calendars (was: problem with times in PSD dataset)" -->
<!-- id="7021DD495090AB4283DC3A92ED0CDD6C093E2734_at_vime-mbx5.rdg.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20121209154549.GA12214_at_met.reading.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start4869" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./4870.html" accesskey="d" title="Cathy Smith: &quot;[CF-metadata] CF calendars (was: problem with times in PSD dataset)&quot;">Next message</a> ]
[ <a href="./4868.html" title="Jonathan Gregory: &quot;[CF-metadata] CF calendars (was: problem with times in PSD dataset)&quot;">Previous message</a> ]
[ <a href="./4868.html" title="Jonathan Gregory: &quot;[CF-metadata] CF calendars (was: problem with times in PSD dataset)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./4875.html" accesskey="t" title="Seth McGinnis: &quot;[CF-metadata] CF calendars (was: problem with times in PSD dataset)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4869" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4869" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4869" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4869" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jon Blower &lt;<a href="mailto:j.d.blower?Subject=Re%3A%20%5BCF-metadata%5D%20CF%20calendars%20(was%3A%20problem%20with%20times%20in%20PSD%20dataset)">j.d.blower</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Sun, 9 Dec 2012 19:55:39 +0000</span><br />
</address>
<br />
Dear Jonathan, all,
<br />
<br />Just to repeat a remark that Steve Hankin made whose implications have not been explored in this discussion: different countries adopted the Gregorian calendar at different times.  (Greece didn't adopt it till 1923!)  So what is considered a valid Gregorian date varies from country to country (and some of those countries don't even exist any more, or at least the boundaries have changed...)
<br />
<br />This has two main implications:
<br />
<br />1. I don't agree with the proposal for a &quot;strict Gregorian&quot; calendar - the proposed switchover of 1582 is largely meaningless.
<br />
<br />2. The non-proleptic Gregorian calendar is extremely problematic for historical observations as well as for models (astronomers use the Julian calendar consistently for this reason).
<br />
<br />Also, there are a couple of ambiguities in CF, which have also been brought up before but not resolved.  Time axes are recorded as a sequence of numbers representing a certain number of intervals since a specified datum.  The datum is part of the units string of the time axis and is recorded in a kind of pseudo-ISO format (e.g. &quot;1970-1-1 0:0:0&quot;).  Should the datum always be interpreted as a date/time in the mixed Gregorian/Julian calendar (as specified by UDUNITS) or in the calendar system specified in the CF file (which would probably be more sensible)?  Also, should interval lengths (e.g. months and years) be interpreted as the UDUNITS lengths (this is specified in CF but is not always helpful) or should these vary by calendar (which is again perhaps sensible, and some data providers do this)?
<br />
<br />Hope this helps,
<br />
Jon
<br />
<br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Jonathan Gregory
<br />
Sent: 09 December 2012 15:46
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: [CF-metadata] CF calendars (was: problem with times in PSD dataset)
<br />
<br />Dear Cecilia
<br />
<br />Thanks for your posting. Are we in agreement? I think that we are.
<br />
<br /><em class="quotelev1">&gt; However, the current default is also problematic - reasons I see are:
</em><br />
<em class="quotelev1">&gt; 1) it does send a message to modelers who find the default unusable,
</em><br />
<em class="quotelev1">&gt; 2) because different calendar defaults are used on the modeling and 
</em><br />
<em class="quotelev1">&gt; data side, current tools are limited to particular calendars, 
</em><br />
<em class="quotelev1">&gt; affecting users, and 3) the mixed Julian-Gregorian calendar is an ugly 
</em><br />
<em class="quotelev1">&gt; beast to peg as the standard forevermore.
</em><br />
<br />I agree with these drawbacks. If CF only dealt with the real world, obviously the real-world calendar (mixed Julian-Gregorian) would be the default and only calendar it had to deal with. However, at its outset CF was for models, many of which do not use this calendar, which was nonetheless chosen as the default because of udunits. I agree with you and others that providing such an inconvenient default is unsatisfactory in retrospect. But here we are!
<br />
<br /><em class="quotelev1">&gt; it is a good idea to add another, strict Gregorian (error before 1582).
</em><br />
<br />Thanks for seeing it like that. Yes, perhaps we should define what I suggested as a new calendar: strict_gregorian, which is not allowed to have a ref date before 1582, or to use negative time coordinates, or to describe dates before
<br />
1582 (which would be impossible given the first two conditions). (Note, I am not personally the eponymous strict Gregory.)
<br />
<br />In that case, we could change the default in the next release from gregorian or standard to strict_gregorian. For software which is careful about versions, this would mean that dates in the default calendar before 1582 would give an error. This would be a safe failure, rather than a wrong answer.
<br />
<br /><em class="quotelev1">&gt; Some data sets would be CF compliant only under particular versions of CF.
</em><br />
<em class="quotelev1">&gt; Is this the first time that a change to CF would have such an impact?
</em><br />
<br />In the sense of old data becoming invalid in a *later* version, yes I think it is. Of course new features always allow datasets which are invalid in an
<br />
*earlier* version.
<br />
<br />In the failing cases, I think we agree that tools might offer the facility
<br />
<em class="quotelev1">&gt; to provide the calendar if none was found.
</em><br />
<br /><em class="quotelev1">&gt; However, I imagine most tools would continue to assume the current default.
</em><br />
Yes, I expect so. They would still be unsafe, if datasets have been wrongly coded with the default, but it would be no worse than now.
<br />
<br /><em class="quotelev1">&gt; This does not seem so bad to me.  The removal of the default solution 
</em><br />
<em class="quotelev1">&gt; should not produce the nastier kinds of errors that you would get if 
</em><br />
<em class="quotelev1">&gt; you changed the default.
</em><br />
<br />That's what I think, except that formally the above suggestion is a change to to the default - one which installs a fail-safe mechanism.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<span id="received"><dfn>Received on</dfn> Sun Dec 09 2012 - 12:55:39 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start4869">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./4870.html" title="Next message in the list">Cathy Smith: "[CF-metadata] CF calendars (was: problem with times in PSD dataset)"</a></li>
<li><dfn>Previous message</dfn>: <a href="./4868.html" title="Previous message in the list">Jonathan Gregory: "[CF-metadata] CF calendars (was: problem with times in PSD dataset)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./4868.html" title="Message to which this message replies">Jonathan Gregory: "[CF-metadata] CF calendars (was: problem with times in PSD dataset)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./4875.html" title="Next message in this discussion thread">Seth McGinnis: "[CF-metadata] CF calendars (was: problem with times in PSD dataset)"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./4875.html" title="Message sent in reply to this message">Seth McGinnis: "[CF-metadata] CF calendars (was: problem with times in PSD dataset)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg4869" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg4869" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg4869" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg4869" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:11 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./4868.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./4870.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
