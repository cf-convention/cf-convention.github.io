<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] valid_min and valid_max considered harmful? from Jim Biard on 2013-07-09 (cf-metadata-mailman)</title>
<meta name="Author" content="Jim Biard (jim.biard)" />
<meta name="Subject" content="[CF-metadata] valid_min and valid_max considered harmful?" />
<meta name="Date" content="2013-07-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./5621.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5623.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] valid_min and valid_max considered harmful?</h1>
<!-- received="Tue Jul  9 07:54:08 2013" -->
<!-- isoreceived="20130709065408" -->
<!-- sent="Tue, 9 Jul 2013 09:54:08 -0400" -->
<!-- isosent="20130709135408" -->
<!-- name="Jim Biard" -->
<!-- email="jim.biard" -->
<!-- subject="[CF-metadata] valid_min and valid_max considered harmful?" -->
<!-- id="FDB97A8C-2808-4B36-8D22-E76D671B6D71_at_noaa.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="7021DD495090AB4283DC3A92ED0CDD6C0962DFA7_at_vime-mbx5.rdg.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5622" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./5623.html" accesskey="d" title="Chris Barker - NOAA Federal: &quot;[CF-metadata] valid_min and valid_max considered harmful?&quot;">Next message</a> ]
[ <a href="./5621.html" title="Nan Galbraith: &quot;[CF-metadata] Fwd:  how to represent a non-standard error&quot;">Previous message</a> ]
[ <a href="./5620.html" title="Jon Blower: &quot;[CF-metadata] valid_min and valid_max considered harmful?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./5624.html" accesskey="t" title="Jon Blower: &quot;[CF-metadata] valid_min and valid_max considered harmful?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5622" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5622" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5622" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5622" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jim Biard &lt;<a href="mailto:jim.biard?Subject=Re%3A%20%5BCF-metadata%5D%20valid_min%20and%20valid_max%20considered%20harmful%3F">jim.biard</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 9 Jul 2013 09:54:08 -0400</span><br />
</address>
<br />
Jon,
<br />
<br />I appreciate the frustration of finding such problems, but isn't this more a problem of lazy processing than a flaw in the valid min/max  concept?
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br />Jim Biard
<br />
Research Scholar
<br />
Cooperative Institute for Climate and Satellites
<br />
Remote Sensing and Applications Division
<br />
National Climatic Data Center
<br />
151 Patton Ave, Asheville, NC 28801-5001
<br />
<br />jim.biard at noaa.gov
<br />
828-271-4900
<br />
<br /><br /><br />Follow us on Facebook!
<br />
<br />On Jul 9, 2013, at 8:42 AM, Jon Blower &lt;j.d.blower at reading.ac.uk&gt; wrote:
<br />
<br /><em class="quotelev1">&gt; Hi all,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On very numerous occasions, I have found problems with datasets where the valid_min and valid_max attributes are not set correctly, either because the original data files are wrong, or because some processing chain or aggregation machinery has resulted in incorrect values.  This is a particular problem in time coordinate arrays.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; In my experience, these occasions have outweighed the number of times when these attributes are actually useful - in most cases the user only has one missing value and this should be recorded as a _FillValue, as in section 2.5.1 of the CF documentation, or does not have a missing value at all.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I think this happens because data producers (with good intentions) feel obliged to populate their NetCDF files with as much metadata as possible and end up specifying some attributes that don't provide much value for their data.  Is it worth adding some text to the CF docs to say something along the lines of:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; &quot;The attributes valid_min, valid_max and valid_range should only be used when necessary [or should be used with caution], as they  can cause unexpected behaviour in situations such as aggregation.  If only one missing value is needed for a variable then we recommend strongly that this value be specified using the _FillValue attribute. &quot;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; The second sentence is already present in the standard.  We may need to define what &quot;when necessary&quot; means...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Cheers,
</em><br />
<em class="quotelev1">&gt; Jon
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; --
</em><br />
<em class="quotelev1">&gt; Dr Jon Blower
</em><br />
<em class="quotelev1">&gt; Technical Director, Reading e-Science Centre
</em><br />
<em class="quotelev1">&gt; School of Mathematical and Physical Sciences
</em><br />
<em class="quotelev1">&gt; University of Reading, UK
</em><br />
<em class="quotelev1">&gt; Tel: +44 (0)118 378 5213
</em><br />
<em class="quotelev1">&gt; Mob: +44 (0)7919 112687
</em><br />
<em class="quotelev1">&gt; <a href="http://www.resc.reading.ac.uk">http://www.resc.reading.ac.uk</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br />-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/0894ebe8/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/0894ebe8/attachment-0001.html</a>&gt;
<br />
-------------- next part --------------
<br />
A non-text attachment was scrubbed...
<br />
Name: CicsLogoTiny.png
<br />
Type: image/png
<br />
Size: 15784 bytes
<br />
Desc: not available
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/0894ebe8/attachment-0001.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/0894ebe8/attachment-0001.png</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Tue Jul 09 2013 - 07:54:08 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5622">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./5623.html" title="Next message in the list">Chris Barker - NOAA Federal: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<li><dfn>Previous message</dfn>: <a href="./5621.html" title="Previous message in the list">Nan Galbraith: "[CF-metadata] Fwd:  how to represent a non-standard error"</a></li>
<li><dfn>In reply to</dfn>: <a href="./5620.html" title="Message to which this message replies">Jon Blower: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./5624.html" title="Next message in this discussion thread">Jon Blower: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./5624.html" title="Message sent in reply to this message">Jon Blower: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5622" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5622" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5622" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5622" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:27 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./5621.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5623.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
