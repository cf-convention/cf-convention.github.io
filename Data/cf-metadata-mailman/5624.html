<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] valid_min and valid_max considered harmful? from Jon Blower on 2013-07-09 (cf-metadata-mailman)</title>
<meta name="Author" content="Jon Blower (j.d.blower)" />
<meta name="Subject" content="[CF-metadata] valid_min and valid_max considered harmful?" />
<meta name="Date" content="2013-07-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./5623.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5625.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] valid_min and valid_max considered harmful?</h1>
<!-- received="Tue Jul  9 10:04:39 2013" -->
<!-- isoreceived="20130709090439" -->
<!-- sent="Tue, 9 Jul 2013 16:04:39 +0000" -->
<!-- isosent="20130709160439" -->
<!-- name="Jon Blower" -->
<!-- email="j.d.blower" -->
<!-- subject="[CF-metadata] valid_min and valid_max considered harmful?" -->
<!-- id="7021DD495090AB4283DC3A92ED0CDD6C0962EB71_at_vime-mbx5.rdg.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="FDB97A8C-2808-4B36-8D22-E76D671B6D71_at_noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5624" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./5625.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata]  how to represent a non-standard error&quot;">Next message</a> ]
[ <a href="./5623.html" title="Chris Barker - NOAA Federal: &quot;[CF-metadata] valid_min and valid_max considered harmful?&quot;">Previous message</a> ]
[ <a href="./5622.html" title="Jim Biard: &quot;[CF-metadata] valid_min and valid_max considered harmful?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./5623.html" accesskey="t" title="Chris Barker - NOAA Federal: &quot;[CF-metadata] valid_min and valid_max considered harmful?&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5624" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5624" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5624" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5624" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jon Blower &lt;<a href="mailto:j.d.blower?Subject=Re%3A%20%5BCF-metadata%5D%20valid_min%20and%20valid_max%20considered%20harmful%3F">j.d.blower</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 9 Jul 2013 16:04:39 +0000</span><br />
</address>
<br />
Hi Jim,
<br />
<br />I think partly it's a problem that mechanisms for aggregation are not standardized, or understood by tool users.  This can lead to odd behaviour when some variables are aggregated.  Maybe the tools are badly coded in some cases, or maybe there isn't an obvious correct behaviour for the tool to follow, but in either case that's not the fault of the data creator.  Some guidance might help to flag the unintended consequences of certain actions, of which the data creators may not be aware.
<br />
<br />I agree it's not a flaw in the valid_min/max concept per se, but this shouldn't stop us from providing &quot;best practice&quot; guidance.
<br />
<br />Best wishes,
<br />
Jon
<br />
<br />From: Jim Biard [mailto:jim.biard at noaa.gov]
<br />
Sent: 09 July 2013 14:54
<br />
To: cf-metadata at cgd.ucar.edu List
<br />
Cc: Jon Blower
<br />
Subject: Re: [CF-metadata] valid_min and valid_max considered harmful?
<br />
<br />Jon,
<br />
<br />I appreciate the frustration of finding such problems, but isn't this more a problem of lazy processing than a flaw in the valid min/max  concept?
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br />Jim Biard
<br />
Research Scholar
<br />
Cooperative Institute for Climate and Satellites&lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;
<br />
Remote Sensing and Applications Division
<br />
National Climatic Data Center&lt;<a href="http://www.ncdc.noaa.gov/">http://www.ncdc.noaa.gov/</a>&gt;
<br />
151 Patton Ave, Asheville, NC 28801-5001
<br />
<br />jim.biard at noaa.gov&lt;mailto:jim.biard at noaa.gov&gt;
<br />
828-271-4900
<br />
<br /><br />[cid:image001.png at 01CE7CC6.65DE2830]
<br />
Follow us on Facebook&lt;<a href="https://www.facebook.com/cicsnc">https://www.facebook.com/cicsnc</a>&gt;!
<br />
<br />On Jul 9, 2013, at 8:42 AM, Jon Blower &lt;j.d.blower at reading.ac.uk&lt;mailto:j.d.blower at reading.ac.uk&gt;&gt; wrote:
<br />
<br /><br />Hi all,
<br />
<br />On very numerous occasions, I have found problems with datasets where the valid_min and valid_max attributes are not set correctly, either because the original data files are wrong, or because some processing chain or aggregation machinery has resulted in incorrect values.  This is a particular problem in time coordinate arrays.
<br />
<br />In my experience, these occasions have outweighed the number of times when these attributes are actually useful - in most cases the user only has one missing value and this should be recorded as a _FillValue, as in section 2.5.1 of the CF documentation, or does not have a missing value at all.
<br />
<br />I think this happens because data producers (with good intentions) feel obliged to populate their NetCDF files with as much metadata as possible and end up specifying some attributes that don't provide much value for their data.  Is it worth adding some text to the CF docs to say something along the lines of:
<br />
<br />&quot;The attributes valid_min, valid_max and valid_range should only be used when necessary [or should be used with caution], as they  can cause unexpected behaviour in situations such as aggregation.  If only one missing value is needed for a variable then we recommend strongly that this value be specified using the _FillValue attribute. &quot;
<br />
<br />The second sentence is already present in the standard.  We may need to define what &quot;when necessary&quot; means...
<br />
<br />Cheers,
<br />
Jon
<br />
<br /><pre>
--
Dr Jon Blower
Technical Director, Reading e-Science Centre
School of Mathematical and Physical Sciences
University of Reading, UK
Tel: +44 (0)118 378 5213
Mob: +44 (0)7919 112687
<a href="http://www.resc.reading.ac.uk">http://www.resc.reading.ac.uk</a>
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/e2923ba3/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/e2923ba3/attachment-0001.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 15784 bytes
Desc: image001.png
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/e2923ba3/attachment-0001.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130709/e2923ba3/attachment-0001.png</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Tue Jul 09 2013 - 10:04:39 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5624">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./5625.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata]  how to represent a non-standard error"</a></li>
<li><dfn>Previous message</dfn>: <a href="./5623.html" title="Previous message in the list">Chris Barker - NOAA Federal: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<li><dfn>In reply to</dfn>: <a href="./5622.html" title="Message to which this message replies">Jim Biard: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./5623.html" title="Next message in this discussion thread">Chris Barker - NOAA Federal: "[CF-metadata] valid_min and valid_max considered harmful?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5624" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5624" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5624" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5624" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:27 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./5623.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5625.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
