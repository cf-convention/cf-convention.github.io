<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell) from stephen.pascoe at stfc.ac.uk on 2013-09-17 (cf-metadata-mailman)</title>
<meta name="Author" content="stephen.pascoe at stfc.ac.uk (stephen.pascoe)" />
<meta name="Subject" content="[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)" />
<meta name="Date" content="2013-09-17" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./5692.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5694.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)</h1>
<!-- received="Tue Sep 17 05:56:41 2013" -->
<!-- isoreceived="20130917045641" -->
<!-- sent="Tue, 17 Sep 2013 11:56:41 +0000" -->
<!-- isosent="20130917115641" -->
<!-- name="stephen.pascoe at stfc.ac.uk" -->
<!-- email="stephen.pascoe" -->
<!-- subject="[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)" -->
<!-- id="BB40D553-32D4-428C-8114-FE101A4B9A8E_at_stfc.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="CAGOjYwr7BWZEqZE3umYHOBsXdAUd+Xi7xaYefnoAJB5zo8XtQQ_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5693" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./5694.html" accesskey="d" title="Jim Biard: &quot;[CF-metadata] Towards recognizing and exploiting hierarchical groups&quot;">Next message</a> ]
[ <a href="./5692.html" title="Bryan Lawrence: &quot;[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)&quot;">Previous message</a> ]
[ <a href="./5692.html" title="Bryan Lawrence: &quot;[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./5694.html" accesskey="t" title="Jim Biard: &quot;[CF-metadata] Towards recognizing and exploiting hierarchical groups&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5693" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5693" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5693" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5693" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: stephen.pascoe at stfc.ac.uk &lt;<a href="mailto:stephen.pascoe?Subject=Re%3A%20%5BCF-metadata%5D%20Towards%20recognizing%20and%20exploiting%20hierarchical%20groups%20(Charlie%20Zender%20-%20Steve%20Hankin%20-%20Richard%20Signell)">stephen.pascoe</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 17 Sep 2013 11:56:41 +0000</span><br />
</address>
<br />
Bryan has beaten me to the points I would have made. I think hierarchies are over rated at the interface level. Examples abound of where they have been abandoned: hierarchal vs relational DBs, XML databases and tools (save us from xquery for Netcdf!).
<br />
<br />Under the hood hierarchies are often necessary for scalability and we all use them as a crutch when no better tools exist.
<br />
<br />I would advocate keeping support for groups very simple. CF could treat any netcdf file containing groups as if it was a directory of netcdf files with attached metadata. IMO complex rules about inter-group relationships should be avoided. I guess attribute inheritance must be an exception here but I would urge caution. One of the CF data model tickets has got a detailed debate on interpretation of the current standard regarding variable attributes overriding global attributes. Lessons from that should be learned.
<br />
<br />Stephen.
<br />
<br /><pre>
--
Stephen Pascoe from iPhone
On 17 Sep 2013, at 10:10, &quot;Bryan Lawrence&quot; &lt;bryan.lawrence at ncas.ac.uk&lt;mailto:bryan.lawrence at ncas.ac.uk&gt;&gt; wrote:
Hi Folks
CMIP5 is illuminating in a number of ways ... not least because it is impossible to come up with a *natural* hierarchy for consumers of the data (as opposed to the producers). But even the producers have different ways of organising their material (running members of different ensembles all at once, or all members of one ensemble at once), then the data has to be published and versioned ... and all of a sudden there is no natural hierarchy for CMIP5 (although everyone will have their own idea of what it could be ... )
The advantage of a flat system of objects, which can be linked into multiple hierarchies by a layer of metadata/indirection (call it what you like) becomes obvious in that context ... you can do faceted browse (and faceted assemblage of groups). So it's not so obvious to me that Charlie's examples are so compelling ... (indeed, even the NASA examples aren't so compelling when you consider some of the data use, which immediately requires us to extract and replicate the data into smaller granules in some cases ...)
Which leads me naturally onto CF. I think there *is* a case for thinking about how we use hierarchical attributes in CF (indeed, we've just been arguing about it in another context with the concept of file attributes and variable attributes). We could resolve this once and for all by establishing a convention for CF which says how we *will* do group attributes as they become necessary. (I still think we will eventually want vector concepts more naturally represented in files, even though I think files should not be our one view of the world.)
However, the argument about file and field attributes applies here. What (I think) we're talking about (thus far) for groups is metadata aggregation and is simply a *file based convention* for simplifying storage, so that when the file gets unpacked, the data model says the attributes are owned by each individual group member.  If it's just that on the table, then I'm OK with this.
The scope issue on the other hand, opens a can of worms, and I hope I've demonstrated with the CMIP5 preamble, that' it wont be that obvious to resolve.
Bryan
On 17 September 2013 06:26, &lt;zender at uci.edu&lt;mailto:zender at uci.edu&gt;&gt; wrote:
Hi Russ,
Thanks for your input and link to an earlier presentation of yours.
Agree that the proposal only applies to group hierarchies, i.e., to
groups representable by the Common Data Model 2/extended/enhanced
which for practical purposes means groups exposed by the netCDF4 API.
Your way of putting it is better because it's more generic: we only
seek to define metadata inheritance for hierarchical groups, no matter
the external representation of the group.
Cheers,
cz
Le 16/09/2013 12:06, Russ Rew a ?crit :
&gt;&gt; Dear all,
&gt;
&gt; I'm also glad to see this discussion surface.  Since I first presented
&gt; &quot;Developing Conventions for netCDF-4&quot; at the 2007 GO-ESSP meeting:
&gt;
&gt;   <a href="http://www.unidata.ucar.edu/presentations/Rew/nc4-conventions.pdf">http://www.unidata.ucar.edu/presentations/Rew/nc4-conventions.pdf</a>
&gt;
&gt; I've been hoping that netCDF-4 feature adoption would begin to gain
&gt; traction in the community (see slides 19 and 20 of this 2010
&gt; presentation for my &quot;chicken-and-egg logjam&quot; illustration):
&gt;
&gt;    <a href="http://www.unidata.ucar.edu/presentations/Rew/agu_2010_nc4_Rew.pdf">http://www.unidata.ucar.edu/presentations/Rew/agu_2010_nc4_Rew.pdf</a>
&gt;
&gt; I like the Zender-Habermann-Leonard (ZHL?) proposal for Group
&gt; Attributes, but would like to point out a potential problem for its use
&gt; with HDF Groups: they aren't actually hierarchical.  In HDF5, Group A
&gt; can be a parent of Group B, which in turn can be a parent of Group A,
&gt; forming a cycle instead of a hierarchy.  The graph of the Group-subGroup
&gt; relation in HDF5 can form an arbitrary directed cyclic graph, though
&gt; this is not permitted in netCDF-4, in which only Group *hierarchies* can
&gt; be created through the netCDF-4 API.
&gt;
&gt; Without a restriction to hierarchies, attribute inheritance is not
&gt; useful, which is why we required group hierarchies for dimension
&gt; inheritance in netCDF-4.  So I think the proposal should include a
&gt; restriction to only hierarchical Group structures, which also has the
&gt; desirable property that each Group, except for the root, has a unique
&gt; parent Group.
&gt;
&gt; --Russ
&gt; _______________________________________________
&gt; CF-metadata mailing list
&gt; CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
&gt;
--
Charlie Zender, Earth System Sci. &amp; Computer Sci.
University of California, Irvine 949-891-2429 )'(
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
--
Scanned by iCritical.
--
--
Bryan Lawrence
University of Reading: Professor of Weather and Climate Computing.
National Centre for Atmospheric Science: Director of Models and Data.
STFC: Director of the Centre for Environmental Data Archival.
Ph: +44 118 3786507 or 1235 445012; Web:home.badc.rl.ac.uk/lawrence&lt;<a href="http://home.badc.rl.ac.uk/lawrence">http://home.badc.rl.ac.uk/lawrence</a>&gt;
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
-- 
Scanned by iCritical.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Sep 17 2013 - 05:56:41 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5693">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./5694.html" title="Next message in the list">Jim Biard: "[CF-metadata] Towards recognizing and exploiting hierarchical groups"</a></li>
<li><dfn>Previous message</dfn>: <a href="./5692.html" title="Previous message in the list">Bryan Lawrence: "[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./5692.html" title="Message to which this message replies">Bryan Lawrence: "[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./5694.html" title="Next message in this discussion thread">Jim Biard: "[CF-metadata] Towards recognizing and exploiting hierarchical groups"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./5694.html" title="Message sent in reply to this message">Jim Biard: "[CF-metadata] Towards recognizing and exploiting hierarchical groups"</a></li>
<li><dfn>Reply</dfn>: <a href="./5695.html" title="Message sent in reply to this message">Jim Biard: "[CF-metadata] Towards recognizing and exploiting hierarchical groups"</a></li>
<li><dfn>Reply</dfn>: <a href="./5700.html" title="Message sent in reply to this message">Charlie Zender: "[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5693" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5693" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5693" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5693" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:29 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./5692.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5694.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
