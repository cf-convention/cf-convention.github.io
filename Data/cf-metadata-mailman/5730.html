<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ) from Schultz, Martin on 2013-09-19 (cf-metadata-mailman)</title>
<meta name="Author" content="Schultz, Martin (m.schultz)" />
<meta name="Subject" content="[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)" />
<meta name="Date" content="2013-09-19" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./5729.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5731.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)</h1>
<!-- received="Thu Sep 19 15:58:18 2013" -->
<!-- isoreceived="20130919145818" -->
<!-- sent="Thu, 19 Sep 2013 21:58:18 +0000" -->
<!-- isosent="20130919215818" -->
<!-- name="Schultz, Martin" -->
<!-- email="m.schultz" -->
<!-- subject="[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)" -->
<!-- id="4A980E5ADF859E4E9007AA5514CF9C8E19AA8AFF_at_MBX2010-E01.ad.fz-juelich.de" -->
<!-- charset="US-ASCII" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5730" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./5731.html" accesskey="d" title="Bryan Lawrence: &quot;[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata?&quot;">Next message</a> ]
[ <a href="./5729.html" title="John Graybeal: &quot;[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)&quot;">Previous message</a> ]
<!-- unextthread="start" -->
[ <a href="./5739.html" accesskey="t" title="Charlie Zender: &quot;[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5730" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5730" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5730" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5730" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Schultz, Martin &lt;<a href="mailto:m.schultz?Subject=Re%3A%20%5BCF-metadata%5D%20Are%20ensembles%20a%20compelling%20use%20case%20for%20%22group-aware%22%20metadata%3F%20(CZ)">m.schultz</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 19 Sep 2013 21:58:18 +0000</span><br />
</address>
<br />
Hi Charlie,
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;very good and extensive explanation of the potential use for groups and group-aware metadata. Yet, I have a few remarks (which may in part reveal that I should probably read the preamble of the CF convention again ;-):
<br />
<br /><em class="quotelev1">&gt; Point 1: How does the user know she has all the realizations?
</em><br />
<br />Is this question best addressed with metadata in a (series of) file(s)? In a modern, interoperable architecture, I would think that this belongs into the realm of data discovery, which would be done via web catalogues using metadata facets. File-based metadata IMHO may be more prone to failure. Just imagine, ECMWF had first generated two ensemble members, and their metadata would say so (your &quot;page 2/2&quot; analogy). Now they run another two: do you really expect the metadata from the old files to be updated? A web catalogue would provide a more robust solution to this question, I believe.
<br />
<br />This doesn't mean that it may not be useful to have such information in a file! However, to come back to the suitcases: this can only be a packing list for the current trip and not an inventory of all the socks you may possibly own. Of course your young aspiring researcher may wish to express her knowledge about other ensemble members she found on the web but didn't include in the file (the suitcase). But will her supervisor or colleague on the other side of the world understand what she is talking about? I think, if you intend to go beyond the packing list, you open too many cans with too many worms.
<br />
<br /><em class="quotelev1">&gt; Point 2: Multiple and/or Non-numeric Ensemble axes
</em><br />
<br />Here, you have a  valid point, although - again - I would not connect this to knowing &quot; that she has all the models&quot;. Yet, within the packed file (the suitcase) you want to know which hierarchy model (packing order) was applied in order to be able to aggregate things (for example by computing ensemble averages). See also my use-case on aircraft data introduced below. Question: what happens to this kind of information when the files are flattened and re-packaged? It might well become meaningless, which would indicate that these are &quot;temporary&quot; metadata, and thus probably out of scope for CF. This actually reminds me a bit of my experiences with the history attribute when I use ncks -A. This command will preserve the history of one file, but discard the history of the other file, which is certainly not the behavior you would like to see in ungrouping/re-grouping software.
<br />
<br /><em class="quotelev1">&gt; Point 3: Weights and intentional reproducibility of MME statistics
</em><br />
<br />In my view this is actually just another viewing angle on your point #2.
<br />
<br /><pre>
--
Your use-case does however highlight the &quot;convenience&quot; of grouping data which somehow belong to each other into one file. In a world of flat files, one must check coordinates each time when you want to perform some sort of (ensemble) averaging operation. A hierarchical file will tell you that it is OK to average by placing the common coordinates on the upper level. IMPORTANT: again, this doesn't mean that this is the only or best way to do the grouping - yet, it seems a compelling advantage to have this coordinate-consistency problem eliminated somewhere along your processing steps. As others said already: there are reasons for why people use suitcases.
--
Now, here is another use case, which we haven't implemented yet - partly because we didn't see how it can be done in a CF consistent way:
While there has been a definition of a standard file layout for data from multiple stations (a contribution from Ben Domenico and Stefano Nativi if I am not mistaken), this concept cannot be applied to multiple aircraft flight data. The station data can be packaged together with help of a non-geophysical &quot;station&quot; coordinate, because all stations share the same time axis. With aircraft flights, the time axes often don't overlap, and forcing all data onto the superset of time would be a tremendous waste of space. Groups would seem as  the natural solution to this problem! Why not flat files? Because you might wish to retrieve all the aircraft data which were sampled in a given region during a specific period (a natural use case for a catalogue query it seems) in one entity, and not in N entities, where you cannot even predict N.
I would think the same applies to &quot;granules&quot; of satellite data which share a common calibration, for example.
--
As Nan said, we should try to come back to define what is really at stake for CF and what exactly shall be proposed. Now this is where my failure to re-read the convention preamble may show ;-). The main question is: is CF about files or about interoperability?  Unfortunately, my view on this is not entirely clear, because it seems to be a bit of both. The standard_names clearly have a bearing in the interoperable world, and this shows through various links to the CF standard_names in web catalogues or controlled vocabulary collections (e.g. SeaDataNet). The conventions themselves seem to be more file-oriented - even though the discussions about the data model always make a strong point to go beyond representation in a (single) file. [If someone disagrees and wishes to see the CF convention play a more important role in interoperability, then I would ask why it is not cast into an XML schema extending ISO19115 then. ] If CF is indeed &quot;file-oriented&quot;, then I do think that it makes a lot of sense to support &quot;modern&quot; file structures, which include groups and hierarchies, whether we like them or not. Therefore, I would advocate that we focus the discussion on two major points with a couple of sub-issues:
1. which parts of CF might fail when we have a hierarchical file? (and let's stick to the simple inheritance model of netcdf4 for now!)
1a. what would the current CF checker say if it is fed a hierarchical file?
1b. what happens to global attributes when flat files are grouped together?
1c. do we need to re-phrase some aspects of the convention to make them &quot;group-aware&quot;? (this does not include defining new rules - that is covered in point 2)
1d. anything else?
2. where do we need to extend the current CF concept?
2a. introduction of a new attribute &quot;level&quot; (equate &quot;global&quot; with &quot;root&quot;? What happens when hierarchical files are flattened? [please see the 3 varieties of flattening operations mentioned in an earlier post])
2b. specification of &quot;ensemble_...&quot; attributes? &quot;ensemble_axis&quot; may not be needed of these axes are defined on the group level (?) Something like &quot;ensemble_history&quot; or &quot;ensemble_structure&quot; to inform the user about the grouping principle?
2c. what other &quot;relations&quot; need to be expressed within a hierarchical file? The guiding principle here should be that additional rules are only needed if they avoid ambiguity and misinterpretation of the data. And here we get onto interoperability territory again (see my use case about aircraft data above).
Sorry for this long post -- this just somehow seems to be quite relevant!
Best regards,
Martin
--------------------------------------------------------------------------------
PD Dr. Martin G. Schultz
IEK-8, Forschungszentrum J?lich
D-52425 J?lich
Ph: +49 2461 61 2831
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
Forschungszentrum Juelich GmbH
52425 Juelich
Sitz der Gesellschaft: Juelich
Eingetragen im Handelsregister des Amtsgerichts Dueren Nr. HR B 3498
Vorsitzender des Aufsichtsrats: MinDir Dr. Karl Eugen Huthmacher
Geschaeftsfuehrung: Prof. Dr. Achim Bachem (Vorsitzender),
Karsten Beneke (stellv. Vorsitzender), Prof. Dr.-Ing. Harald Bolt,
Prof. Dr. Sebastian M. Schmidt
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
Das Forschungszentrum oeffnet seine Tueren am Sonntag, 29. September, von 10:00 bis 17:00 Uhr: <a href="http://www.tagderneugier.de">http://www.tagderneugier.de</a>
</pre>
<span id="received"><dfn>Received on</dfn> Thu Sep 19 2013 - 15:58:18 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5730">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./5731.html" title="Next message in the list">Bryan Lawrence: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata?"</a></li>
<li><dfn>Previous message</dfn>: <a href="./5729.html" title="Previous message in the list">John Graybeal: "[CF-metadata] Towards recognizing and exploiting hierarchical groups (Charlie Zender - Steve Hankin - Richard Signell)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./5739.html" title="Next message in this discussion thread">Charlie Zender: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./5739.html" title="Message sent in reply to this message">Charlie Zender: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<li><dfn>Reply</dfn>: <a href="./5764.html" title="Message sent in reply to this message">john caron: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5730" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5730" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5730" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5730" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:29 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./5729.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5731.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
