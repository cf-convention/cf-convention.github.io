<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ) from Cameron-smith, Philip on 2013-09-25 (cf-metadata-mailman)</title>
<meta name="Author" content="Cameron-smith, Philip (cameronsmith1)" />
<meta name="Subject" content="[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)" />
<meta name="Date" content="2013-09-25" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./5744.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5746.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)</h1>
<!-- received="Wed Sep 25 16:35:07 2013" -->
<!-- isoreceived="20130925153507" -->
<!-- sent="Wed, 25 Sep 2013 22:35:07 +0000" -->
<!-- isosent="20130925223507" -->
<!-- name="Cameron-smith, Philip" -->
<!-- email="cameronsmith1" -->
<!-- subject="[CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)" -->
<!-- id="298F51ABD432DA4288CE6B8C469A2AFC548B6A16_at_PRDEXMBX-08.the-lab.llnl.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="52433A8C.2010602_at_noaa.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5745" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./5746.html" accesskey="d" title="Jim Biard: &quot;[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)&quot;">Next message</a> ]
[ <a href="./5744.html" title="Steve Hankin: &quot;[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)&quot;">Previous message</a> ]
[ <a href="./5744.html" title="Steve Hankin: &quot;[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./5746.html" accesskey="t" title="Jim Biard: &quot;[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5745" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5745" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5745" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5745" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Cameron-smith, Philip &lt;<a href="mailto:cameronsmith1?Subject=Re%3A%20%5BCF-metadata%5D%20Are%20ensembles%20a%20compelling%20use%20case%20for%20%22group-aware%22%20metadata%3F%20(CZ)">cameronsmith1</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 25 Sep 2013 22:35:07 +0000</span><br />
</address>
<br />
Hi All,
<br />
<br />I think Steve's email (below) is a fair summary of how I see the current state of the discussion too.
<br />
<br />In order to move the discussion forward, I have put forward below a simple strawman suggestion that is very limited, but which I think would capture the most useful piece of hierarchies with minimal impact on CF.   Note that credit for many of the elements should go to other people who have previously proposed them - my main contribution is to stick my neck out and try to make the case :-).
<br />
<br />1) CF file structures stay 'flat'.
<br />
2) Allow an _optional_ hierarchy attribute for variables.
<br />
3) CF would define the attribute name  and the rules for the attribute.   I expect it would be something like: 'hierarchy = root.trunk.branch.leaf'
<br />
<br />Key comments:
<br />
a) Since the hierarchy attribute is optional, backwards and forwards compatibility should be automatic (except, possibly, for updating CF checkers), ie no change is necessary for people who don't want to.
<br />
b) An external tool could easily parse a CF file, or set of files, that contains the hierarchy attributes to generate an external hierarchy structure that can then be used to decide how to further process the data.
<br />
c) The external hierarchy could easily be regenerated to keep it consistent with the underlying data files.
<br />
c) The hierarchy metadata should be human readable.
<br />
d) All variable CF attributes would stay with the variables (as currently), ie no inheritance of CF attributes (to maintain compatibility).   The common attributes that I think inheritance would be most useful for are history attributes, and since CF doesn't control history attributes (AFAIK) this would be allowed.
<br />
e) So why not let individuals add their own such syntax? Defining the syntax of the hierarchy will allow general CF tools to be extended (if they want to), and set the stage for further expansion into hierarchies if experience shows that a lot of people are using the hierarchy syntax and start asking for more.
<br />
<br />In my opinion, the benefits of this extension would exceed the minimal costs of extending the CF standard.
<br />
<br />Let the slings and arrows fly ;-).
<br />
<br />Best wishes,
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;Philip
<br />
<br />-----------------------------------------------------------------------
<br />
Dr Philip Cameron-Smith, pjc at llnl.gov, Lawrence Livermore National Lab.
<br />
-----------------------------------------------------------------------
<br />
<br /><br />From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Steve Hankin
<br />
Sent: Wednesday, September 25, 2013 12:34 PM
<br />
To: Charlie Zender
<br />
Cc: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] Are ensembles a compelling use case for &quot;group-aware&quot; metadata? (CZ)
<br />
<br /><br />On 9/24/2013 9:45 PM, Charlie Zender wrote:
<br />
It is not my place to determine whether there is a consensus, or how close we are, but it's clear to me there is no consensus yet. Bryan Lawrence, Steve Hankin, Jonathan Gregory, Karl Taylor, and Philip Cameron-Smith are not &quot;on board&quot;. I hope they will speak-up and say if they concur that maintaining the status quo (flat files) is best (period), or whether they do wish to extend CF to hierarchies (starting now), or the additional information they would need to decide.
<br />
<br />Hi Charlie et. al.,
<br />
<br />Since you have asked ....  I have heard two points that seemed to bolster Bryan's pov that the multi-model use case is  &quot;great but not compelling&quot;.  (See a more positive spin at the end.)
<br />
<br />&nbsp;&nbsp;1.  file size.   Model outputs today are typically too large for even a single variable from a single model to be packaged in a single file.  Addressing a model ensemble multiplies the size barrier by the ensemble size, N.   Thus the use of groups to package a model ensemble applies only for the cases where user is interested in quite a small subset of the model domain, or perhaps in pre-processed, data-reduced versions of the models.   A gut-estimate is that single file solutions, like netCDF4 groups addresses 25% or less of the stated use case.   We could argue over that number, but it seems likely to remain on the low side of 50%.  (Issues of THREDDS-aggregating files bearing groups also deserve to be discussed and understood.  What works?  what doesn't?)
<br />
&nbsp;&nbsp;2.  The problems of the &quot;suitcase packing&quot; metaphor were invoked time and again, further narrowing the applicability of the use case.  The sweet spot that was identified is the case of a single user desiring a particular subset from a single data provider.   Essentially a multi-model ensemble encoded using netCDF4 groups would offer a standardized &quot;shopping basket&quot; with advantages that will be enjoyed by some high powered analysis users.
<br />
<br />For this narrower use case I couldn't help asking myself how the cost/benefit found through the use of netCDF4 groups compares with the cost/benefit of simply zip-packaging the individual CF model files.   There is almost no cost to this alternative.  Tools to pack and unpack zip files are universal, have UIs embedded into common OSes, and offer APIs that permit ensemble analysis to be done on the zip file as a unit at similar programming effort to the use of netCDF4 groups.  Comprehension and acceptance of the zip alternative  on the part of user communities would likely be instantaneous -- hardly even a point to generate discussion.  Zip files do not address more specialized use cases, like a desire to view the ensemble as a 2-level hierarchy of models each providing multiple scenarios, but the &quot;suitcase&quot; metaphor discussions have pointed out the diminishing returns that accrue as the packing strategy is made more complex.
<br />
The tipping point for me is not whether a particular group of users would find value in a particular enhancement.  It is whether the overall cost/benefit considerations -- the expanded complexity, the need to enhance applications, the loss of interoperabilty etc. versus the breadth of users and the benefits they will enjoy -- clearly motivate a change.   My personal vote is that thus far the arguments fall well short of this tipping point.  But maybe there are other use cases to be explored.  Perhaps in aggregate they may tip the cost/benefit analysis.  What about the &quot;group of satellite swaths&quot; scenario? -- a feature collection use case.  AFAIK CF remains weak at addressing this need thus far.  (If we pursue this line of discussion we should add the 'cf_satellite' list onto the thread.  That community may have new work on this topic to discuss.)
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;- Steve
<br />
-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130925/1a751fac/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20130925/1a751fac/attachment-0001.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Wed Sep 25 2013 - 16:35:07 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5745">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./5746.html" title="Next message in the list">Jim Biard: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<li><dfn>Previous message</dfn>: <a href="./5744.html" title="Previous message in the list">Steve Hankin: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./5744.html" title="Message to which this message replies">Steve Hankin: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./5746.html" title="Next message in this discussion thread">Jim Biard: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./5746.html" title="Message sent in reply to this message">Jim Biard: "[CF-metadata] Are ensembles a compelling use case for &#0034;group-aware&#0034; metadata? (CZ)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5745" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5745" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5745" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5745" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:30 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./5744.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5746.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
