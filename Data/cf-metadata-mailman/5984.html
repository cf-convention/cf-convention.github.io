<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files from Karl Taylor on 2014-01-15 (cf-metadata-mailman)</title>
<meta name="Author" content="Karl Taylor (taylor13)" />
<meta name="Subject" content="[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files" />
<meta name="Date" content="2014-01-15" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./5983.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5985.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files</h1>
<!-- received="Wed Jan 15 08:58:48 2014" -->
<!-- isoreceived="20140115085848" -->
<!-- sent="Wed, 15 Jan 2014 07:58:48 -0800" -->
<!-- isosent="20140115155848" -->
<!-- name="Karl Taylor" -->
<!-- email="taylor13" -->
<!-- subject="[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files" -->
<!-- id="52D6B037.2050001_at_llnl.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="4C353E6E4A08AE4792B350DAA392B5215B0C5FE2_at_EXCHMBX01.fed.cclrc.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start5984" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./5985.html" accesskey="d" title="jbiard: &quot;[CF-metadata] CF upgrade to netCDF variable names&quot;">Next message</a> ]
[ <a href="./5983.html" title="stephen.pascoe at stfc.ac.uk: &quot;[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files&quot;">Previous message</a> ]
[ <a href="./5983.html" title="stephen.pascoe at stfc.ac.uk: &quot;[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5984" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5984" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5984" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5984" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Karl Taylor &lt;<a href="mailto:taylor13?Subject=Re%3A%20%5BCF-metadata%5D%20Update%20on%20ncdismember%20(%2BCFchecker)%20for%20hierarchical%20files">taylor13</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 15 Jan 2014 07:58:48 -0800</span><br />
</address>
<br />
Hi Stephen, Charlie, and all,
<br />
<br />I was unaware that there was a cfchecker based on cdat.  Is that the one 
<br />
at the CF Trac site or the one at <a href="https://bitbucket.org/mde_/cfchecker">https://bitbucket.org/mde_/cfchecker</a> ?
<br />
<br />Does anyone know whether one of the cfcheckers is more 
<br />
complete/correct/robust than the other?
<br />
<br />If one is superior, we should make this known through the CF website.
<br />
<br />If folks have funding/free energy to develop checkers, I think there is 
<br />
a need to develop code that can check not only adherence to CF, but also 
<br />
other conditions imposed by specific projects (like CMIP), which often 
<br />
*require* certain CF-defined attributes and other metadata, that are not 
<br />
necessarily required by CF itself.  There may also be specific 
<br />
&quot;controlled vocabularies&quot;, filename constructs, non-CF-defined globsal 
<br />
attributes and the like that are required by this projects.  If someone 
<br />
came up with a configurable checker that could be adopted by CMIP, 
<br />
obs4MIPs, CORDEX and other projects to ensure conformance with their 
<br />
requirements, it would be very useful.   On the other hand, one should 
<br />
realize that a truly general code of this kind might either be too 
<br />
complex to work well, or too difficult to configure.
<br />
<br />[The cmor code used to write much of the CMIP3 and CMIP5 output, as well 
<br />
as CORDEX and obs4MIPs data, does perform a number of checks, which 
<br />
almost always ensures conformance with the project specifications, but 
<br />
not everyone uses this code to write there data.  That's why a checker 
<br />
would be useful.]
<br />
<br />Best regards,
<br />
Karl
<br />
<br /><br /><br /><br />On 1/15/14 7:04 AM, stephen.pascoe at stfc.ac.uk wrote:
<br />
<em class="quotelev1">&gt; It's great to hear there is another checker in active development.  The one based on cdat was developed some time ago and could really do with an update.  We would like to replace cdat entirely at some point and replace with python-netCDF4.  It's a pitty that both of our packages are called cfchecker though :-).  In the UK &quot;cfchecker&quot; is synonymous with the code available through the CF Trac site and available as a web service at the BADC and University of Reading.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; When we have time we will take a look at your package, and particularly the test suite to see if we can draw both test suites together.  This would allow us to identify gaps in either tool and hopefully move towards a single way forward.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Stephen.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On 13 Jan 2014, at 16:48, Charlie Zender wrote:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Hello Stephen,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; ncdismember uses the cfchecker code developed by Michael Decker and
</em><br />
<em class="quotelev2">&gt;&gt; Martin Schultz and distributed at <a href="https://bitbucket.org/mde_/cfchecker">https://bitbucket.org/mde_/cfchecker</a>
</em><br />
<em class="quotelev2">&gt;&gt; ncdismember makes no changes to that code. Is that the same as yours?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; The ncdismember script is at <a href="http://nco.sf.net/nco.html#ncdismember">http://nco.sf.net/nco.html#ncdismember</a>
</em><br />
<em class="quotelev2">&gt;&gt; The part involving CFChecker is very straightforward.
</em><br />
<em class="quotelev2">&gt;&gt; We would welcome any changes that improve the user experience.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Are there multiple codes named &quot;CFChecker&quot;?
</em><br />
<em class="quotelev2">&gt;&gt; We'd be happy to accept a patch that allows ncdismember to use more
</em><br />
<em class="quotelev2">&gt;&gt; than one &quot;CFChecker&quot;, or to exploit other options of the checker.
</em><br />
<em class="quotelev2">&gt;&gt; AFAICT we currently use all the options except the one that allows
</em><br />
<em class="quotelev2">&gt;&gt; explicit specifications of which tests to perform.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Charlie
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Le 13/01/2014 01:42, stephen.pascoe at stfc.ac.uk a ?crit :
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Hi Charlie,
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; I'm interested in how you are using the CFChecker code.  Are you using the code form the CF SVN [1] or the packaging I maintain based on the same codebase [2], or is this independent code?  Have you applied any patches to the version you use in ncdismember? It would be good to keep any improvements to the code in the main line.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Thanks,
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Stephen.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; [1]: <a href="https://cf-pcmdi.llnl.gov/trac/browser/cf-checker">https://cf-pcmdi.llnl.gov/trac/browser/cf-checker</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt; [2]: <a href="https://pypi.python.org/pypi/cfchecker">https://pypi.python.org/pypi/cfchecker</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; ---
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Stephen Pascoe  +44 (0)1235 445980
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Centre of Environmental Data Archival
</em><br />
<em class="quotelev3">&gt;&gt;&gt; STFC Rutherford Appleton Laboratory, Harwell Oxford, Didcot OX11 0QX, UK
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; -----Original Message-----
</em><br />
<em class="quotelev3">&gt;&gt;&gt; From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Charlie Zender
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Sent: 09 January 2014 22:53
</em><br />
<em class="quotelev3">&gt;&gt;&gt; To: CF Metadata Mail List
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Subject: [CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Hello CFers,
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; A few months ago I introduced ncdismember, a script that uses the netCDF Operators (NCO) to dismember hierarchical netCDF-compliant files into netCDF3-compliant (flat-) files, then calls CFChecker on those. It is a simple (one-line) procedure that checks CF-compliance of all groups in hierarchical netCDF4/HDF5 files.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; The recent releases of NCO 4.4.0 and netCDF 4.3.1-rc7 bring significant new features to ncdismember...
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 1. Works on all groups in netCDF4/HDF5 files. Not only leaf groups.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 2. Works on HDF4 files. No prior conversion to netCDF necessary.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 3. Automatically translates input to netCDF3-supported types (e.g.,
</em><br />
<em class="quotelev3">&gt;&gt;&gt;    nc_string-&gt;nc_char, nc_ubyte-&gt;nc_short).
</em><br />
<em class="quotelev3">&gt;&gt;&gt; 4. Is faster: Uses CFChecker batch mode and avoids temporary output.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Example input (*.nc, *.hdf, *.h5, *.he5) and output (*.txt):
</em><br />
<em class="quotelev3">&gt;&gt;&gt; <a href="http://dust.ess.uci.edu/diwg">http://dust.ess.uci.edu/diwg</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; For more information see
</em><br />
<em class="quotelev3">&gt;&gt;&gt; <a href="http://nco.sf.net/nco.html#dismember">http://nco.sf.net/nco.html#dismember</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Feedback welcome on relevant NCO SourceForge forum <a href="https://sourceforge.net/p/nco/discussion">https://sourceforge.net/p/nco/discussion</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Enjoy,
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Charlie
</em><br />
<em class="quotelev3">&gt;&gt;&gt; --
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Charlie Zender, Earth System Sci. &amp; Computer Sci.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; University of California, Irvine 949-891-2429 )'( _______________________________________________
</em><br />
<em class="quotelev3">&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; -- 
</em><br />
<em class="quotelev2">&gt;&gt; Charlie Zender, Earth System Sci. &amp; Computer Sci.
</em><br />
<em class="quotelev2">&gt;&gt; University of California, Irvine 949-891-2429 )'(
</em><br />
<br />-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140115/6e5ef5a3/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140115/6e5ef5a3/attachment.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Wed Jan 15 2014 - 08:58:48 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start5984">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./5985.html" title="Next message in the list">jbiard: "[CF-metadata] CF upgrade to netCDF variable names"</a></li>
<li><dfn>Previous message</dfn>: <a href="./5983.html" title="Previous message in the list">stephen.pascoe at stfc.ac.uk: "[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files"</a></li>
<li><dfn>In reply to</dfn>: <a href="./5983.html" title="Message to which this message replies">stephen.pascoe at stfc.ac.uk: "[CF-metadata] Update on ncdismember (+CFchecker) for hierarchical files"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg5984" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg5984" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg5984" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg5984" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:34 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./5983.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./5985.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
