<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Vertical datums (again) from Andrew Walsh on 2014-02-16 (cf-metadata-mailman)</title>
<meta name="Author" content="Andrew Walsh (awalsh)" />
<meta name="Subject" content="[CF-metadata] Vertical datums (again)" />
<meta name="Date" content="2014-02-16" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6073.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6075.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Vertical datums (again)</h1>
<!-- received="Sun Feb 16 16:48:45 2014" -->
<!-- isoreceived="20140216164845" -->
<!-- sent="Mon, 17 Feb 2014 10:48:45 +1100" -->
<!-- isosent="20140216234845" -->
<!-- name="Andrew Walsh" -->
<!-- email="awalsh" -->
<!-- subject="[CF-metadata] Vertical datums (again)" -->
<!-- id="005f01cf2b71$a2d21710$e8764530$_at_metoc.gov.au" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="52FFACB5.20600_at_ucsd.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6074" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6075.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] Vertical datums (again)&quot;">Next message</a> ]
[ <a href="./6073.html" title="Jonathan Gregory: &quot;[CF-metadata] Vertical datums (again)&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6074" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6074" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6074" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6074" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Andrew Walsh &lt;<a href="mailto:awalsh?Subject=Re%3A%20%5BCF-metadata%5D%20Vertical%20datums%20(again)">awalsh</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 17 Feb 2014 10:48:45 +1100</span><br />
</address>
<br />
Hi John/List,
<br />
<br />&nbsp;
<br />
<br />Attached is a useful picture showing the various tidal vertical datums and
<br />
relations
<br />
<br />to geodetic and geoidal datums.
<br />
<br />&nbsp;
<br />
<br />Andrew Walsh
<br />
<br />Oceanographic Data Manager
<br />
<br />RAN-METOC
<br />
<br />&nbsp;
<br />
<br />From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of
<br />
John Helly
<br />
Sent: Sunday, 16 February 2014 5:07 AM
<br />
To: toyoda at gfd-dennou.org; Jim Biard
<br />
Cc: cf-metadata at cgd.ucar.edu; Jonathan Gregory
<br />
Subject: Re: [CF-metadata] Vertical datums (again)
<br />
<br />&nbsp;
<br />
<br />Hi.
<br />
<br />Sorry to come into this late, but I've just come back from sea with limited
<br />
Internet access.
<br />
<br />The discussion is important and treacherous because there are challenging
<br />
semantic and technical issues here that took a few of my colleagues and
<br />
myself some years to sort out in a big data integration project.  For what
<br />
it's worth, here are some of the lessons-learned and a slide that I often
<br />
refer to to keep things straight. It's worth spending time on this because
<br />
it has the potential to create much more confusion than it removes.
<br />
<br />1. If you are trying to integrate (i.e., fuse) data containing a vertical
<br />
earth reference (Z), it is necessary to understand the differences among and
<br />
between the various datums (i.e, NAVD88, NAVD27), the parameterizations used
<br />
for map projections and the concepts related to epochs. The
<br />
parameterizations are important because they tell you explicitly what
<br />
controls the computation of Z for any particular projection but also in a
<br />
general way.  Epochs are important because they provide a sliding window of
<br />
validity of any given datum.
<br />
<br />2. Numerous datums are only loosely tied to a vertical reference using a
<br />
model of some sort (e.g., ellipsoid, geoid) as opposed to measurements. This
<br />
is a big source of regional/local-scale errors and, if you are planning to
<br />
work at cloud-resolving scales (for example), this source of error should be
<br />
considered.
<br />
<br />3. Ultimately, IMHO, language is inadequate for this type of precision
<br />
especially between loosely-coupled disciplines and colleagues. Is there a
<br />
convention in CF for using equations as well as language? This is what we
<br />
ultimately came to in order to minimize confusion.
<br />
<br />4. Here is a slide that came from Dave Doyle (retired Chief Geodescist,
<br />
NGS). He was very helpful in getting us to properly understand these
<br />
reference systems.
<br />
<br />5. It occurs to me to think that, to include the atmosphere in an
<br />
earth-referenced system, there may be something to learn from the
<br />
terminology used in orbital mechanics.  I have not looked at that in years
<br />
but will do so.
<br />
<br />J.
<br />
<br /><br /><br /><pre>
-- 
John Helly, University of California, San Diego / San Diego Supercomputer
Center / Scripps Institution of Oceanography / 760 840 8660 mobile /
stonesteps (Skype) / stonesteps7 (iChat) / <a href="http://www.sdsc.edu/~hellyj">http://www.sdsc.edu/~hellyj</a>
On 2/14/14 5:13 PM, Eizi TOYODA wrote:
Hi Jim and all,
Basically I support your findings on the word usage.  If asked, the
geometric height in meteorology should be the orthometric height in geodesy,
but I'm also aware that most meteorologists won't mind to mix it up the
concept with the geodetic height.
The difference of geopotential and geometric height is the scale which is
proportional to gravity acceleration, so the third digit may be different.
The difference between geodetic and  orthometric height is origin.
Best,
Eizi
-- 
TOYODA Eizi, Japan Meteorological Agency
2014/02/15 5:39 &quot;Jim Biard&quot; &lt;jbiard at cicsnc.org&gt;:
Hi. 
 
So, I went through and looked more closely at the standard name table, and I
have a few comments.  But first, the results of some googling that I did.
 
When you look at the geodesy literature, there are multiple kinds of
heights.  Geoidal height is the height of a point on a geoid relative to a
reference ellipsoid.  Geodetic height is the height of a point on the
surface relative to a reference ellipsoid.  Orthometric height is the height
of a point on the surface relative to a reference geoid.  Geodesists also
use the word elevation when referring to geodetic or orthometric heights.
They don't usually talk about heights above the surface, but that's not
their area of interest.  I found that in meteorology, geometric height (as
opposed to geopotential height) appears to be what geodesists call
orthometric height, or height relative to a geoid.  I also discovered that
in aviation, they often use height to mean &quot;height above the surface&quot;, and
altitude to mean &quot;height above the vertical reference&quot;.
 
In addition to all of the above, I found that there appears to be no
consensus on specific meanings for height, elevation, and altitude.  Height
appears to be generally accepted (outside of aviation) as any measure of
vertical distance.  Elevation and altitude both tend to be heights measured
relative to a reference surface.  Geodesists use the three terms
interchangeably.  Because the word height does not usually invoke any
particular reference frame, it is mostly used with qualifiers (orthometric,
above sea level, etc).
 
In CF, the standard name table has defined altitude and height.  Height is
defined to be &quot;height above the surface&quot;.  Not my preference, but it's a
done deal.  Altitude is defined as orthometric height.  It uses the word
&quot;geometric&quot;, which seems to be the way meteorologists tend to refer to it.
We then have a lot of qualified height names, some of which are themselves
definitions of measures from geodesy, some of which use height in the sense
of &quot;height above the surface&quot;, and some of which use height in the sense of
&quot;height above a vertical reference&quot;.  Interestingly, we don't have standard
names &quot;elevation&quot; or &quot;height_above_geoid&quot;.  This all makes sense for a
system that appears to have grown from one where vertical datums weren't
really considered (horizontal ones, either!), into one where questions of
reference frames have become more important.
 
Given all the confusion of usage both within CF and in the community at
large, I guess there's no reason not to continue to proliferate height
qualifiers in standard names.  We already have several.
 
I'd be interested to know how often people have used the standard name
&quot;height&quot; to mark vertical coordinates, when the values they have almost
certainly are not &quot;height above the surface&quot;.
 
Grace and peace,
 
Jim
 
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites NC
North Carolina State University
NOAA's National Climatic Data Center
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org
o: +1 828 271 4900
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;  
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;  
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;  
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; On Feb 12, 2014, at 11:42 AM, Jonathan Gregory
&lt;j.m.gregory at reading.ac.uk&gt; wrote:
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Dear Jim
I think the same as Karl. The reason is that I regard height above geoid and
height above reference ellipsoid as different geophysical quantities, as are
height above bedrock (the example I gave in an earlier email, to Rich) and
height (in the sense of the CF standard_name table i.e. above the ground).
If
I am standing on the summit of Mount Everest, the height above ground of
my crampons is about 0 m, but their altitude is about 8848 m. In fact in
your
email you referred to them as different &quot;sorts&quot; of height. That sounds to me
like different geophysical quantities. Conversion between them is possible
but
it is a non-trivial operation involving geophysical data. Similarly
conversion
is possible between altitude and geopotential height but they are different
geophysical quantities with different standard names.
The geoid and reference ellipsoid definition, however, are fine in the grid
mapping, because they do not define the geophysical quantity. They just make
it numerically precise.
Best wishes
Jonathan
----- Forwarded message from Jim Biard &lt;jbiard at cicsnc.org&gt; -----
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; From: Jim Biard &lt;jbiard at cicsnc.org&gt;
Date: Tue, 11 Feb 2014 13:51:56 -0500
To: CF metadata &lt;cf-metadata at cgd.ucar.edu&gt;
X-Mailer: Apple Mail (2.1827)
CC: Karl Taylor &lt;taylor13 at llnl.gov&gt;
Subject: Re: [CF-metadata] Vertical datums (again)
Karl,
My point is that putting the reference surface in the standard name
(potentially) proliferates standard names for things that (like temperatures
in different units) are not different except for their reference frame.  I
agree that we don?t want to put the datum information in the units, but the
place for this sort of information already exists - it?s the grid_mapping
variable.  We don?t have the appropriate attributes defined yet, but that is
where the information should go.  The definition of the standard name can
state a requirement for the information to present in a grid_mapping
variable.  I thought that the point of standard names was to assist in
identifying variables that are of the same kind or class, and that the goal
was to avoid putting implementation details into standard_names.  By tacking
on CRS details, it seems to me that we are moving away from that goal.
Grace and peace,
Jim
Visit us on
Facebook Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites NC
North Carolina State University
NOAA's National Climatic Data Center
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org
o: +1 828 271 4900
On Feb 11, 2014, at 1:44 PM, Karl Taylor &lt;taylor13 at llnl.gov&gt; wrote:
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Hi all,
for temperature, the units imply a zero point, but for height they don't.
For time, we specifically include the zero point in the units (e.g., &quot;days
since 20010101&quot;) and we also distinguish among various calendars with the
&quot;calendar&quot; attribute.  For height I wouldn't advocate that approach, but
rather the already proposed hybrid approach:  the standard name (roughly)
specifies the reference surface, which can then be more precisely defined in
another place (e.g., within the grid_mapping).  
best regards,
Karl
On 2/11/14, 10:05 AM, Jim Biard wrote:
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Hi.
It seems to me that tacking on a description of the datum in the standard
name isn?t a good plan.  It creates a linkage between standard names and
grid mappings / WKT blocks.  The nature of the height of the sea surface is 
not altered by the choice of datum.  The values will be different, depending
on what sort of height, but you can (most of the time!) translate heights
from one CRS to another.  It is definitely more complicated, but tacking on
a datum description appears to me to be akin to having different standard
names for ?temperature_in_C? and ?temperature_in_K?.  If you have properly
specified your CRS, the question of where the zero in your height scale is
located is completely unambiguous.
Grace and peace,
Jim
Visit us on
Facebook Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites NC
North Carolina State University
NOAA's National Climatic Data Center
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org
o: +1 828 271 4900
On Feb 11, 2014, at 11:43 AM, Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt;
wrote:
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Dear Rich
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Thanks for the detailed explanation (and analogy)
of why it's useful
to tack on the &quot;_above_geoid&quot; or &quot;_above_ellipsoid&quot; or
&quot;_above_tidal_datum&quot; to the standard-name.
So we do that and then specify the geoid, ellipsoid or tidal datum
elsewhere in the grid_mapping variable, right?
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
Yes, that is the way we've been proceeding up to now. In fact we do not have
any stdnames yet referring to tidal datum, but you're welcome to propose
them
if they're needed now, of course.
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; geoid:  NAVD88, GEOID93, GEOID96, USGG2009, etc
ellipsoid: WGS84, Airy 1830, Airy Modified 1849, etc
tidal_datum: MLLW, MLW, MTL, MHW, MHHW, etc
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
Thanks for these useful lists! I would tend to think that we should
give different standard names for the various different tidal datums, since
I would regard those as different geophysical quantities - would you agree?
If there was data which referred to a tidal datum but didn't actually know
which one it was, I suppose it might still be useful (if imprecise) and it
could have a standard name that referred to &quot;tidal datum&quot; generically. But
if you know it's mean_high_water (for instance), I would spell that out in
the standard name.
However I think the various geoids are all different estimates of the same
geophysical quantity, so they should *not* have different standard names.
Likewise the ref ellipsoid is the &quot;best&quot; ellipsoid approximating the geoid -
again, that is a single geophysical concept, with many alternative versions.
So we need a place to name the geoid, if that is the vertical datum. It
would
be good to have a similar treatment to CRS WKT for this, but I don't see a
place in WKT where the geoid can be identified. Can anyone help? Is the
geoid
implied by, or identical to, the vertical datum name, perhaps? How does one
know, in WKT, whether the vertical datum is a geoid or a ref ellipsoid?
Best wishes
Jonathan
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;  
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; _______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
----- End forwarded message -----
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;  
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; _______________________________________________
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; CF-metadata mailing list
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; CF-metadata at cgd.ucar.edu
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; 
 &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140217/cb244228/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140217/cb244228/attachment-0001.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Vertical_Datums.bmp
Type: image/bmp
Size: 1039974 bytes
Desc: not available
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140217/cb244228/attachment-0001.bmp">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140217/cb244228/attachment-0001.bmp</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Sun Feb 16 2014 - 16:48:45 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6074">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6075.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] Vertical datums (again)"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6073.html" title="Previous message in the list">Jonathan Gregory: "[CF-metadata] Vertical datums (again)"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6074" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6074" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6074" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6074" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:36 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6073.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6075.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
