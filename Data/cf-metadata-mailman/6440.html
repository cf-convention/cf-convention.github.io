<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Days of rain from Hollis, Dan on 2014-09-04 (cf-metadata-mailman)</title>
<meta name="Author" content="Hollis, Dan (dan.hollis)" />
<meta name="Subject" content="[CF-metadata] Days of rain" />
<meta name="Date" content="2014-09-04" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6439.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6441.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Days of rain</h1>
<!-- received="Thu Sep  4 03:58:27 2014" -->
<!-- isoreceived="20140904025827" -->
<!-- sent="Thu, 4 Sep 2014 09:58:27 +0000" -->
<!-- isosent="20140904095827" -->
<!-- name="Hollis, Dan" -->
<!-- email="dan.hollis" -->
<!-- subject="[CF-metadata] Days of rain" -->
<!-- id="D7D1372D480AEE41B3C1276C9A15404B07EDA76C_at_EXXCMPD1DAG1.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20140903125713.GA16369_at_met.reading.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6440" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6441.html" accesskey="d" title="Hollis, Dan: &quot;[CF-metadata] Days of rain&quot;">Next message</a> ]
[ <a href="./6439.html" title="John Graybeal: &quot;[CF-metadata] searching CF-Metadata list&quot;">Previous message</a> ]
[ <a href="./6436.html" title="Jonathan Gregory: &quot;[CF-metadata] Days of rain&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6440" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6440" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6440" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6440" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hollis, Dan &lt;<a href="mailto:dan.hollis?Subject=Re%3A%20%5BCF-metadata%5D%20Days%20of%20rain">dan.hollis</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 4 Sep 2014 09:58:27 +0000</span><br />
</address>
<br />
Hi Jonathan,
<br />
<br /><em class="quotelev1">&gt; when considering thresholds we have continuous quantities in mind
</em><br />
<br />This is an interesting point - the only reason that there is a significant difference between statistics that include/exclude values equal to the threshold is _because_ the data have been quantized. It follows that if the data have been quantized then it is important to indicate whether threshold values are included. However setting the threshold value in the way you describe does not unambiguously indicate the level of quantization and therefore does not make it clear which values are included/excluded. For example a threshold of 1.75 could mean 'greater than or equal to 1.8' if the data were rounded to 1 decimal place, but it could also mean 'greater than or equal to 2.0' if the data were rounded to the nearest 0.5. On that basis my preference is still for one of the other suggestions that have been made elsewhere in this thread ('at_or_above' or a boolean attribute), although admittedly neither of these options tells the user anything about the level of quantization either...
<br />
<br />Regards,
<br />
<br />Dan
<br />
<br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Jonathan Gregory
<br />
Sent: 03 September 2014 13:57
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] Days of rain
<br />
<br />Dear Dan
<br />
<br />Thanks for your email. I suppose that the problem is that the data has been
<br />
quantised, whereas when considering thresholds we have continuous quantities in
<br />
mind. We didn't put &quot;greater than or equal to&quot; because the probability of a
<br />
continuous quantity exactly equalling the threshold is infinitesimal. A
<br />
possible solution would be to interpret &quot;above threshold&quot; as meaning &quot;above or
<br />
exactly equal to the threshold&quot;. If that is a good idea, we should say it in
<br />
the definition of the quantity.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br />----- Forwarded message from &quot;Hollis, Dan&quot; &lt;dan.hollis at metoffice.gov.uk&gt; -----
<br />
<br /><em class="quotelev1">&gt; For manually-read rain gauges the advice to the observer is simply to record the measurement to one decimal place. For the thresholds of interest this seems to me to be equivalent to saying the values have been rounded. Therefore 0.2 mm does mean 0.15-0.25 mm, 1.0 mm means 0.95-1.05 mm, and 10 mm means 9.95-10.05 mm.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; In contrast automated sites use a tipping bucket gauge (in the UK at least) which constrains the observations to be multiples of the bucket size. I believe that for all the data we use this is a nominal 0.2 mm i.e. precipitation totals can be 0.0 mm, 0.2 mm, 0.4 mm etc, and values such as 0.1 mm, 0.3 mm, 0.5 mm cannot be reported. Given that all we know is that the bucket has tipped (i.e. has become full and caused the mechanism to tip and empty the bucket) this implies that an observation of 0.2 mm actually means 0.2 &lt;= true value &lt; 0.4 (because the bucket has not yet tipped a second time).
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; For our gridded climate datasets (rainfall total, days of rain etc) we use data from both types of gauge without correction or adjustment. I think we can be fairly confident that uncertainties in the interpolation process will be quite a bit larger than either the observation uncertainty or the differences between the two observation types i.e. these types of subtlety are probably 'in the noise' and to be honest not something I'd given much thought to.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; In conclusion I'm slightly reluctant to specify a threshold that tries to reflect how the observations have been gathered, partly because this is not the same for all sites and partly because it could change in the future (e.g. if we were to adopt a different type of rain gauge). Personally I'd prefer to describe what we do to the data once it has been collected, which in the case of the 'days of rain' variables is to test if the value is greater than or equal to a threshold.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Thoughts?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Regards,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dan
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; -----Original Message-----
</em><br />
<em class="quotelev1">&gt; From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Jonathan Gregory
</em><br />
<em class="quotelev1">&gt; Sent: 01 September 2014 17:42
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: [CF-metadata] Days of rain
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dear Dan
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; We have several variables that we describe loosely as 'days of rain'. Strictly speaking they are a count (e.g. for a calendar month) of the number of days when the 24-hour precipitation total was greater than or equal to a threshold. We currently generate grids for three thresholds - 0.2mm, 1.0mm and 10.0mm. My intention is to use the following existing standard name:
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; number_of_days_with_lwe_thickness_of_precipitation_amount_above_threshold
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; My only slight problem is that the definition implies 'greater than' whereas our variables are 'greater than or equal to' the threshold. Assuming the observations have a precision of 0.1 mm ...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I think it depends on how the data have been treated. Are they rounded to the
</em><br />
<em class="quotelev1">&gt; nearest 0.1 mm? If so, a recorded value of 0.0 mm means an actual value in the
</em><br />
<em class="quotelev1">&gt; range 0.00-0.05 mm, 0.1 mm means 0.05-0.15 mm, 0.2 mm means 0.15-0.25 mm, etc.,
</em><br />
<em class="quotelev1">&gt; and your threshold of 0.2 mm in recorded precipitation is actually a threshold
</em><br />
<em class="quotelev1">&gt; of 0.15 mm. That is therefore what I would suggest as the coordinate value for
</em><br />
<em class="quotelev1">&gt; the threshold.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br />----- End forwarded message -----
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<span id="received"><dfn>Received on</dfn> Thu Sep 04 2014 - 03:58:27 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6440">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6441.html" title="Next message in the list">Hollis, Dan: "[CF-metadata] Days of rain"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6439.html" title="Previous message in the list">John Graybeal: "[CF-metadata] searching CF-Metadata list"</a></li>
<li><dfn>In reply to</dfn>: <a href="./6436.html" title="Message to which this message replies">Jonathan Gregory: "[CF-metadata] Days of rain"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6440" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6440" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6440" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6440" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:45 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6439.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6441.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
