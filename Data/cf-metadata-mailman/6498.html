<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Days of rain from Hollis, Dan on 2014-09-18 (cf-metadata-mailman)</title>
<meta name="Author" content="Hollis, Dan (dan.hollis)" />
<meta name="Subject" content="[CF-metadata] Days of rain" />
<meta name="Date" content="2014-09-18" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6497.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6499.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Days of rain</h1>
<!-- received="Thu Sep 18 08:19:06 2014" -->
<!-- isoreceived="20140918071906" -->
<!-- sent="Thu, 18 Sep 2014 14:19:06 +0000" -->
<!-- isosent="20140918141906" -->
<!-- name="Hollis, Dan" -->
<!-- email="dan.hollis" -->
<!-- subject="[CF-metadata] Days of rain" -->
<!-- id="D7D1372D480AEE41B3C1276C9A15404B07EE2B08_at_EXXCMPD1DAG1.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="36AF4CD8-2AF4-424B-9673-0A15D50813D5_at_marinexplore.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6498" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6499.html" accesskey="d" title="Hollis, Dan: &quot;[CF-metadata] Return periods&quot;">Next message</a> ]
[ <a href="./6497.html" title="Signell, Richard: &quot;[CF-metadata] Why &#0034;surface_altitude&#0034; instead of &#0034;platform_altitude&#0034;?&quot;">Previous message</a> ]
[ <a href="./6447.html" title="John Graybeal: &quot;[CF-metadata] Days of rain&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./6501.html" accesskey="t" title="John Graybeal: &quot;[CF-metadata] Days of rain&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6498" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6498" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6498" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6498" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hollis, Dan &lt;<a href="mailto:dan.hollis?Subject=Re%3A%20%5BCF-metadata%5D%20Days%20of%20rain">dan.hollis</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 18 Sep 2014 14:19:06 +0000</span><br />
</address>
<br />
Hi all,
<br />
<br />Clearly there are pros and cons of both options. However after some discussion with colleagues here we decided that we'd go with the option of requesting a new standard name. I'd therefore like to request:
<br />
<br />number_of_days_with_lwe_thickness_of_precipitation_amount_at_or_above_threshold&lt;javascript:void(0)&gt;
<br />
<br />with the following definition:
<br />
<br />&quot;Amount&quot; means mass per unit area. The construction lwe_thickness_of_X_amount or _content means the vertical extent of a layer of liquid water having the same mass per unit area. &quot;lwe&quot; means liquid water equivalent. A variable whose standard name has the form number_of_days_with_X_at_or_below|above_threshold is a count of the number of days on which the condition X_at_or_below|above_threshold is satisfied. It must have a coordinate variable or scalar coordinate variable with the a standard name of X to supply the threshold(s). It must have a climatological time variable, and a cell_methods entry for within days which describes the processing of quantity X before the threshold is applied. A number_of_days is an extensive quantity in time, and the cell_methods entry for over days should be &quot;sum&quot;.
<br />
<br /><br />I hope that's acceptable but let me know if anyone spots any problems with this.
<br />
<br />Thanks,
<br />
<br />Dan
<br />
<br /><br />________________________________
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of John Graybeal
<br />
Sent: 04 September 2014 17:21
<br />
To: Gregory, Jonathan
<br />
Cc: CF Metadata List
<br />
Subject: Re: [CF-metadata] Days of rain
<br />
<br />I don't really agree with your mathematical argument (and if that argument is valid, then the boolean attribute _doesn't_ &quot;in effect carry part of the definition of the standard name&quot;).
<br />
<br />But I'm fine with that approach, because users could always choose to add the boolean attribute on their own, if it makes sense to them. It doesn't have to be a part of the standard.  But we would still need to add the explanatory text for what the name really means.
<br />
<br />Or, we can add the new standard names. I guess Dan's call at this point as to whether he wants to request that?
<br />
<br />John
<br />
<br />On Sep 4, 2014, at 06:03, Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&lt;mailto:j.m.gregory at reading.ac.uk&gt;&gt; wrote:
<br />
<br />Dear Dan, John et al.
<br />
<br />I'm not comfortable with a boolean attribute that in effect carries part
<br />
of the definition of the standard_name. This isn't consistent with the usual
<br />
treatment of standard_names, which completely define the quantity except for
<br />
those parts which are dealt with by coordinates or statistical reduction. (You
<br />
could maybe argue that a boolean attribute was like a scalar coord variable
<br />
supplying a reference value, as is required by some standard names, but that
<br />
feels like stretching a point to me.)
<br />
<br />If we really need to distinguish .gt. from .ge. I think we should have distinct
<br />
standard names for them. But I still don't think we really need to distinguish
<br />
them. If the data were quantised, .gt. can include .eq. if the threshold is a
<br />
multiple of the quantum; if the data were continuous, it strictly means .gt.
<br />
Dan's data are anyway a mixture of quantised (for which a threshold of 0.2 mm
<br />
really means 0.2 mm) and rounded (for which 0.2 mm means 0.15 mm) so it's not
<br />
possible to be strict about how the threshold is applied.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br /><br />----- Forwarded message from &quot;Hollis, Dan&quot; &lt;dan.hollis at metoffice.gov.uk&lt;mailto:dan.hollis at metoffice.gov.uk&gt;&gt; -----
<br />
<br />From: &quot;Hollis, Dan&quot; &lt;dan.hollis at metoffice.gov.uk&lt;mailto:dan.hollis at metoffice.gov.uk&gt;&gt;
<br />
To: 'John Graybeal' &lt;john.graybeal at marinexplore.com&lt;mailto:john.graybeal at marinexplore.com&gt;&gt;, Alison Pamment
<br />
&lt;alison.pamment at stfc.ac.uk&lt;mailto:alison.pamment at stfc.ac.uk&gt;&gt;, CF Metadata List
<br />
&lt;cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;&gt;, &quot;Gregory, Jonathan&quot;
<br />
&lt;j.m.gregory at reading.ac.uk&lt;mailto:j.m.gregory at reading.ac.uk&gt;&gt;
<br />
Subject: RE: [CF-metadata] Days of rain
<br />
Date: Thu, 4 Sep 2014 10:12:32 +0000
<br />
<br />On balance the boolean attribute looks like the better option to me, partly for the reasons of discoverability that John highlights below, but also because it can be applied to all similar variables. Although there may only be nine 'threshold' names so far, and I would only need one more to be added, it nevertheless still seems better to choose a solution that works for all variables, both now and in the future. The boolean attribute seems to fit the bill.
<br />
<br />Regards,
<br />
<br />Dan
<br />
<br />-----Original Message-----
<br />
From: John Graybeal [mailto:john.graybeal at marinexplore.com]
<br />
Sent: 03 September 2014 17:28
<br />
To: Alison Pamment
<br />
Cc: Hollis, Dan; Gregory, Jonathan; CF Metadata List
<br />
Subject: Re: [CF-metadata] Days of rain
<br />
<br />While I agree it is not a big problem to use at_or_above_threshold in this and whatever other standard names eventually are needed, discoverability would be better with the boolean attribute (&quot;comparison_includes_equality&quot;?). As a practical matter, people looking for, e.g., number_of_days_with_lwe_thickness_of_precipitation_amount_above_threshold data will want to discover data that is at_or_above_threshold too, but may not think (or want) to search for the additional term using at_or_above_threshold, even if they know of that possibility.
<br />
<br />That said, it's a minor point, I'm OK with either approach. I definitely think names should not rely on a particular observation technology or approach (e.g., quantization, rounding, measurement accuracy or technique).
<br />
<br />Will start a new thread re archives.
<br />
<br />john
<br />
<br /><br /><br /><br />On Sep 3, 2014, at 06:52, alison.pamment at stfc.ac.uk&lt;mailto:alison.pamment at stfc.ac.uk&gt; wrote:
<br />
<br />Dear Dan,
<br />
<br />I agree that setting a threshold depending on how the data were collected does not seem very satisfactory and it wouldn't allow you to combine readings from a variety of instruments into a single data product. The definition of 'greater|less than or equal to' is clearly not the same as 'greater|less than' so I would argue that they are different quantities and should have different standard names. Currently we have only nine 'threshold' names in the table and personally I don't think it's a big problem to add one more of the form
<br />
number_of_days_with_lwe_thickness_of_precipitation_amount_at_or_above_threshold. The definition would of course need to make clear the difference from the existing name and in fact the definitions should cross-reference one another to make users aware of both. Do others agree?
<br />
<br />Regarding searching the mailing list archives, if I want to find a very specific phrase within the email text I download the plain text file for the appropriate year (available from the main archive page <a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/</a>) and use my browser's 'Find' function. It takes a few minutes to download but it can be a useful way of pinpointing the thing you're looking for.
<br />
<br />Best wishes,
<br />
Alison
<br />
<br />------
<br />
Alison Pamment                          Tel: +44 1235 778065
<br />
NCAS/British Atmospheric Data Centre    Email: alison.pamment at stfc.ac.uk&lt;mailto:alison.pamment at stfc.ac.uk&gt;
<br />
STFC Rutherford Appleton Laboratory
<br />
R25, 2.22
<br />
Harwell Oxford, Didcot, OX11 0QX, U.K.
<br />
<br /><br /><br />-----Original Message-----
<br />
From: Hollis, Dan [mailto:dan.hollis at metoffice.gov.uk]
<br />
Sent: 03 September 2014 12:55
<br />
To: Gregory, Jonathan; cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
<br />
Subject: Re: [CF-metadata] Days of rain
<br />
<br />Hi Jonathan,
<br />
<br />For manually-read rain gauges the advice to the observer is simply to record
<br />
the measurement to one decimal place. For the thresholds of interest this
<br />
seems to me to be equivalent to saying the values have been rounded.
<br />
Therefore 0.2 mm does mean 0.15-0.25 mm, 1.0 mm means 0.95-1.05 mm,
<br />
and 10 mm means 9.95-10.05 mm.
<br />
<br />In contrast automated sites use a tipping bucket gauge (in the UK at least)
<br />
which constrains the observations to be multiples of the bucket size. I
<br />
believe that for all the data we use this is a nominal 0.2 mm i.e.
<br />
precipitation totals can be 0.0 mm, 0.2 mm, 0.4 mm etc, and values such as
<br />
0.1 mm, 0.3 mm, 0.5 mm cannot be reported. Given that all we know is that
<br />
the bucket has tipped (i.e. has become full and caused the mechanism to tip
<br />
and empty the bucket) this implies that an observation of 0.2 mm actually
<br />
means 0.2 &lt;= true value &lt; 0.4 (because the bucket has not yet tipped a
<br />
second time).
<br />
<br />For our gridded climate datasets (rainfall total, days of rain etc) we use data
<br />
from both types of gauge without correction or adjustment. I think we can
<br />
be fairly confident that uncertainties in the interpolation process will be
<br />
quite a bit larger than either the observation uncertainty or the differences
<br />
between the two observation types i.e. these types of subtlety are probably
<br />
'in the noise' and to be honest not something I'd given much thought to.
<br />
<br />In conclusion I'm slightly reluctant to specify a threshold that tries to reflect
<br />
how the observations have been gathered, partly because this is not the
<br />
same for all sites and partly because it could change in the future (e.g. if we
<br />
were to adopt a different type of rain gauge). Personally I'd prefer to
<br />
describe what we do to the data once it has been collected, which in the
<br />
case of the 'days of rain' variables is to test if the value is greater than or
<br />
equal to a threshold.
<br />
<br />Thoughts?
<br />
<br />Regards,
<br />
<br />Dan
<br />
<br /><br /><br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf
<br />
Of Jonathan Gregory
<br />
Sent: 01 September 2014 17:42
<br />
To: cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
<br />
Subject: [CF-metadata] Days of rain
<br />
<br />Dear Dan
<br />
<br />We have several variables that we describe loosely as 'days of rain'.
<br />
Strictly speaking they are a count (e.g. for a calendar month) of the number
<br />
of days when the 24-hour precipitation total was greater than or equal to a
<br />
threshold. We currently generate grids for three thresholds - 0.2mm, 1.0mm
<br />
and 10.0mm. My intention is to use the following existing standard name:
<br />
<br /><br />number_of_days_with_lwe_thickness_of_precipitation_amount_above_thr
<br />
eshold
<br />
<br />My only slight problem is that the definition implies 'greater than'
<br />
whereas our variables are 'greater than or equal to' the threshold. Assuming
<br />
the observations have a precision of 0.1 mm ...
<br />
<br />I think it depends on how the data have been treated. Are they rounded to
<br />
the
<br />
nearest 0.1 mm? If so, a recorded value of 0.0 mm means an actual value in
<br />
the
<br />
range 0.00-0.05 mm, 0.1 mm means 0.05-0.15 mm, 0.2 mm means 0.15-0.25
<br />
mm, etc.,
<br />
and your threshold of 0.2 mm in recorded precipitation is actually a
<br />
threshold
<br />
of 0.15 mm. That is therefore what I would suggest as the coordinate value
<br />
for
<br />
the threshold.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<pre>
--
Scanned by iCritical.
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
----- End forwarded message -----
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140918/f6de4fd3/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20140918/f6de4fd3/attachment-0001.html</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Thu Sep 18 2014 - 08:19:06 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6498">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6499.html" title="Next message in the list">Hollis, Dan: "[CF-metadata] Return periods"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6497.html" title="Previous message in the list">Signell, Richard: "[CF-metadata] Why &#0034;surface_altitude&#0034; instead of &#0034;platform_altitude&#0034;?"</a></li>
<li><dfn>In reply to</dfn>: <a href="./6447.html" title="Message to which this message replies">John Graybeal: "[CF-metadata] Days of rain"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./6501.html" title="Next message in this discussion thread">John Graybeal: "[CF-metadata] Days of rain"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./6501.html" title="Message sent in reply to this message">John Graybeal: "[CF-metadata] Days of rain"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6498" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6498" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6498" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6498" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:46 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6497.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6499.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
