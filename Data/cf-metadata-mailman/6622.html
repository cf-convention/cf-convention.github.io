<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] string valued coordinates from Hedley, Mark on 2014-10-31 (cf-metadata-mailman)</title>
<meta name="Author" content="Hedley, Mark (mark.hedley)" />
<meta name="Subject" content="[CF-metadata] string valued coordinates" />
<meta name="Date" content="2014-10-31" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6621.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6623.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] string valued coordinates</h1>
<!-- received="Fri Oct 31 09:04:52 2014" -->
<!-- isoreceived="20141031090452" -->
<!-- sent="Fri, 31 Oct 2014 15:04:52 +0000" -->
<!-- isosent="20141031150452" -->
<!-- name="Hedley, Mark" -->
<!-- email="mark.hedley" -->
<!-- subject="[CF-metadata] string valued coordinates" -->
<!-- id="7819C496F4E10E47BCEFBE74551AAC9606F3F6CA_at_EXXCMPD1DAG3.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="CAEDreLkRuXmrhO7RnucF08t7koLLMnUPoPiBAVuHgSbAziC-2w_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6622" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6623.html" accesskey="d" title="Jim Biard: &quot;[CF-metadata] string valued coordinates&quot;">Next message</a> ]
[ <a href="./6621.html" title="Hedley, Mark: &quot;[CF-metadata] realization | x of n&quot;">Previous message</a> ]
[ <a href="./6619.html" title="Eizi TOYODA: &quot;[CF-metadata] string valued coordinates&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./6623.html" accesskey="t" title="Jim Biard: &quot;[CF-metadata] string valued coordinates&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6622" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6622" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6622" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6622" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hedley, Mark &lt;<a href="mailto:mark.hedley?Subject=Re%3A%20%5BCF-metadata%5D%20string%20valued%20coordinates">mark.hedley</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 31 Oct 2014 15:04:52 +0000</span><br />
</address>
<br />
Thank you for all the responses, it sounds like 'all of the above' is the preferred response to my suggestions of plausible next steps.  I will pursue all of these.
<br />
<br />Eizi's point about having no_unit in udunits is sound; I suggest we request udunits use
<br />
&nbsp;&nbsp;'no_unit'
<br />
as a representation of
<br />
'?'
<br />
such that the behaviour is consistent; 'no_unit' should always raise an exception when used in the udunits processing rules, exactly as '?' does.
<br />
<br />With regard to meaning, I have found the wikipedia entry useful:
<br />
<a href="http://en.wikipedia.org/wiki/Dimensionless_quantity">http://en.wikipedia.org/wiki/Dimensionless_quantity</a>
<br />
`In dimensional analysis&lt;<a href="http://en.wikipedia.org/wiki/Dimensional_analysis">http://en.wikipedia.org/wiki/Dimensional_analysis</a>&gt;, a dimensionless quantity or quantity of dimension one is a quantity&lt;<a href="http://en.wikipedia.org/wiki/Quantity">http://en.wikipedia.org/wiki/Quantity</a>&gt; without an associated physical dimension&lt;<a href="http://en.wikipedia.org/wiki/Dimensional_analysis">http://en.wikipedia.org/wiki/Dimensional_analysis</a>&gt;. It is thus a &quot;pure&quot; number, and as such always has a dimension of 1.[1]&lt;<a href="http://en.wikipedia.org/wiki/Dimensionless_quantity#cite_note-1">http://en.wikipedia.org/wiki/Dimensionless_quantity#cite_note-1</a>&gt;'
<br />
which it has sourced from
<br />
&quot;1.8 (1.6) quantity of dimension one dimensionless quantity&quot;&lt;<a href="http://www.iso.org/sites/JCGM/VIM/JCGM_200e_FILES/MAIN_JCGM_200e/01_e.html#L_1_8">http://www.iso.org/sites/JCGM/VIM/JCGM_200e_FILES/MAIN_JCGM_200e/01_e.html#L_1_8</a>&gt;. International vocabulary of metrology ? Basic and general concepts and associated terms (VIM). ISO&lt;<a href="http://en.wikipedia.org/wiki/International_Organization_for_Standardization">http://en.wikipedia.org/wiki/International_Organization_for_Standardization</a>&gt;. 2008. Retrieved 2011-03-22.
<br />
<br />This is a good enough source for me.
<br />
<br />I will wait to give space for more comments, then,  if people are content, I will raise a change request with udunits.
<br />
Assuming this is accepted and processed I will raise a change request for CF to add some text to 3.1.
<br />
Finally I will request a change for any standard_names which appear not to follow this approach (I have only 'area_type' so far).
<br />
<br />I hope this seems like a reasonable response.
<br />
<br />________________________________
<br />
From: Eizi TOYODA [toyoda at gfd-dennou.org]
<br />
Sent: 31 October 2014 08:44
<br />
To: John Graybeal
<br />
Cc: Hedley, Mark; CF Metadata List
<br />
Subject: Re: [CF-metadata] string valued coordinates
<br />
<br />Hi John
<br />
<br /><em class="quotelev1">&gt; I think '?' is not a definition that is helpful to most users -- it is more like an indication that the string -- the empty string in this case for example -- has not provided a meaningful indication of what the units are.
</em><br />
<br />I share the same impression.   I was thinking it would be nicer for maintener of udunits.  We should ask modifying udunits so that it would refuse processing &quot;no_units&quot; otherwise ut_multiply(&quot;no_units&quot;, &quot;no_units&quot;) returns &quot;no_units 2&quot;.   If I remember right the unit string &quot;?&quot; causes immediate error, so we don't have to change udunits.
<br />
<br />But I'm okay if the majority here agrees that sort of thing is not a responsibility of udunits.
<br />
<br />Best,
<br />
Eizi
<br />
<br /><br /><br />Best Regards,
<br />
<pre>
--
Eiji (aka Eizi) TOYODA
<a href="http://www.google.com/profiles/toyoda.eizi">http://www.google.com/profiles/toyoda.eizi</a>
On Fri, Oct 31, 2014 at 9:45 AM, John Graybeal &lt;john.graybeal at marinexplore.com&lt;mailto:john.graybeal at marinexplore.com&gt;&gt; wrote:
Thanks for summing this up so neatly Mark!
We could take the view that the conventions would benefit from the addition of some text into 3.1 to explicitly make the point about quantities which are not dimensioned or dimensionless.
We could alternatively defer to udunits as most unit questions do, which already exhibits this behaviour, and just patch the 'area_type' and any similar names with erroneous canonical units.
We could also request that udunits be updated with a clearer string for this case, given the need for it, such as including the term 'no_units' as a valid udunits term to mean there are no units here: this is not dimensionless, this is not dimensioned.
Why is the first option exclusive to the others? Seems useful to improve the documentation regardless.
So I agree that '1' makes no sense for area_type. I'm wondering if someone can crisply describe what is meant when we (or UDUNITS) say a unit is dimensionless? I'm not entirely sure I get it.
In any case, I think '?' is not a definition that is helpful to most users -- it is more like an indication that the string -- the empty string in this case for example -- has not provided a meaningful indication of what the units are.
So my ideal solution has CF well aligned with UDUNITS, and a clear concept and definition. Which I think suggests asking UDUNITS for a term 'no_units', defined as &quot;the values do not have units; values are neither dimensioned nor dimensionless.&quot;
John
On Oct 30, 2014, at 11:06, Hedley, Mark &lt;mark.hedley at metoffice.gov.uk&lt;mailto:mark.hedley at metoffice.gov.uk&gt;&gt; wrote:
&gt; The unit of '1' is generally used to indicate fractions and the like. In cases where I am storing a raw binary value, I leave off the units attribute, as the 'number' isn't something that should be treated as a decimal quantity.
This is the same behaviour as I was looking to adopt, but CF 3.1 makes this incorrect, I believe, as a lack of a units attribute is to be interpreted as a units of '1'.
I think a clear way to define that a quantity is not dimensioned and is not dimensionless is required.  I would have liked to use the lack of a unit for this purpose, but this has already been taken, so something else is needed.
&gt; My preference is that one explicitly puts in the units. For dimensionless, &quot;1&quot; or &quot;&quot; is ok for udunits.
udunits2 treats '1' and '' differently.
  a unit of '1' has a definition of '1'
  a unit of '' has a definition of '?'
The CF conventions description of units (3.1) states that an absence of a units attribute is deemed to be equivalent to dimensionless, a unit of '1'.  This is the convention, and it has been in force a long time.
However CF makes no statement that I can find regarding a unit of ''.  Thus I believe we defer back to udunits, which CF states is how units are defined.  Udunits states that a unit of '' is undefined, the quantity is not dimensioned and is not dimensionless.  We could adopt this to use for the cases in question.
&gt; area_type is given in the standard_name table as having a unit of 1. It is a categorical string-valued quantity.
On the basis of the discussion, I would suggest that this is an error.  If area_type is a categorical string-valued quantity, it is not dimensionless, it is not continuous and numerical, it is not a pure number and should not be treated as such.  I think we should fix this.
We could take the view that the conventions would benefit from the addition of some text into 3.1 to explicitly make the point about quantities which are not dimensioned or dimensionless.
We could alternatively defer to udunits as most unit questions do, which already exhibits this behaviour, and just patch the 'area_type' and any similar names with erroneous canonical units.
We could also request that udunits be updated with a clearer string for this case, given the need for it, such as including the term 'no_units' as a valid udunits term to mean there are no units here: this is not dimensionless, this is not dimensioned.
I don't mind which route is preferred, I'm happy to put a change together and pursue it; whichever way seems better to people.
cheers
mark
________________________________
From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;] on behalf of Jim Biard [jbiard at cicsnc.org&lt;mailto:jbiard at cicsnc.org&gt;]
Sent: 30 October 2014 16:12
To: cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
Subject: Re: [CF-metadata] string valued coordinates
CF says that if the units attribute is missing, then the quantity has no units.
The Conventions document, section 3.1 says:
The units attribute is required for all variables that represent dimensional quantities (except for boundary variables defined in Section 7.1, ?Cell Boundaries? &lt;<a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.6/build/cf-conventions.html#cell-boundaries">http://cfconventions.org/Data/cf-conventions/cf-conventions-1.6/build/cf-conventions.html#cell-boundaries</a>&gt; and climatology variables defined in Section 7.4, ?Climatological Statistics? &lt;<a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.6/build/cf-conventions.html#climatological-statistics">http://cfconventions.org/Data/cf-conventions/cf-conventions-1.6/build/cf-conventions.html#climatological-statistics</a>&gt; ).
and
Units are not required for dimensionless quantities. A variable with no units attribute is assumed to be dimensionless. However, a units attribute specifying a dimensionless unit may optionally be included. The Udunits package defines a few dimensionless units, such as percent , but is lacking commonly used units such as ppm (parts per million). This convention does not support the addition of new dimensionless units that are not udunits compatible. The conforming unit for quantities that represent fractions, or parts of a whole, is &quot;1&quot;. The conforming unit for parts per million is &quot;1e-6&quot;. Descriptive information about dimensionless quantities, such as sea-ice concentration, cloud fraction, probability, etc., should be given in the long_name or standard_name attributes (see below) rather than the units.
The unit of '1' is generally used to indicate fractions and the like. In cases where I am storing a raw binary value, I leave off the units attribute, as the 'number' isn't something that should be treated as a decimal quantity.
Grace and peace,
Jim
On 10/30/14, 11:35 AM, John Caron wrote:
My preference is that one explicitly puts in the units. For dimensionless, &quot;1&quot; or &quot;&quot; is ok for udunits. If the units attribute isnt there, I assume that the user forgot to specify it, so the units are unknown.
Im not sure what CF actually says, but it would be good to clarify.
John
On Thu, Oct 30, 2014 at 2:37 AM, Hedley, Mark &lt;mark.hedley at metoffice.gov.uk&lt;mailto:mark.hedley at metoffice.gov.uk&gt;&gt; wrote:
Hello CF
&gt; From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;] on behalf of Jonathan Gregory [j.m.gregory at reading.ac.uk&lt;mailto:j.m.gregory at reading.ac.uk&gt;]
&gt; Yes, there are some standard names which imply string values, as Karl says. If the standard_name table says 1, that means the quantity is dimensionless, so it's also fine to omit the units, as Jim says.
I would like to raise question about this statement.  Omitting the units and stating that the units are '1' are two very different things;
    dimensionless != no_unit
is an important statement which should be clear to data consumers and producers.
If the standard name table defines a canonical unit for a standard_name of '1' then I expect this quantity to be dimensionless, with a unit of '1' or some multiple there of.
If the standard name states that the canonical unit for a standard_name is '' then I expect that quantity to have no unit stated.
Any deviation from this behaviour is a break with the conventions.  I have code which explicitly checks this for data sets.
Are people aware of examples of the pattern of use described by Jonathan, such as a categorical quantities identified by a standard_name with a canonical unit of '1'?
thank you
mark
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
--
&lt;iiagagce.png&gt;&lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;Visit us on
Facebook&lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt;        Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
NOAA's National Climatic Data Center &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org&lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20141031/83944ff8/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20141031/83944ff8/attachment-0001.html</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Fri Oct 31 2014 - 09:04:52 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6622">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6623.html" title="Next message in the list">Jim Biard: "[CF-metadata] string valued coordinates"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6621.html" title="Previous message in the list">Hedley, Mark: "[CF-metadata] realization | x of n"</a></li>
<li><dfn>In reply to</dfn>: <a href="./6619.html" title="Message to which this message replies">Eizi TOYODA: "[CF-metadata] string valued coordinates"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./6623.html" title="Next message in this discussion thread">Jim Biard: "[CF-metadata] string valued coordinates"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./6623.html" title="Message sent in reply to this message">Jim Biard: "[CF-metadata] string valued coordinates"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6622" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6622" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6622" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6622" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:49 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6621.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6623.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
