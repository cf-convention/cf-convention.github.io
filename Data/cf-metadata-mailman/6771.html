<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Editing/publishing workflow update from Hattersley, Richard on 2015-01-29 (cf-metadata-mailman)</title>
<meta name="Author" content="Hattersley, Richard (richard.hattersley)" />
<meta name="Subject" content="[CF-metadata] Editing/publishing workflow update" />
<meta name="Date" content="2015-01-29" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6770.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6772.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Editing/publishing workflow update</h1>
<!-- received="Thu Jan 29 03:34:26 2015" -->
<!-- isoreceived="20150129033426" -->
<!-- sent="Thu, 29 Jan 2015 10:34:26 +0000" -->
<!-- isosent="20150129103426" -->
<!-- name="Hattersley, Richard" -->
<!-- email="richard.hattersley" -->
<!-- subject="[CF-metadata] Editing/publishing workflow update" -->
<!-- id="21A2C87797FA6042B162A8A0A11A15DB07029FB6_at_EXXCMPD1DAG2.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="54C7C87B.5000603_at_llnl.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6771" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6772.html" accesskey="d" title="Hattersley, Richard: &quot;[CF-metadata] Editing/publishing workflow update&quot;">Next message</a> ]
[ <a href="./6770.html" title="Hattersley, Richard: &quot;[CF-metadata] Editing/publishing workflow update&quot;">Previous message</a> ]
[ <a href="./6764.html" title="Jeffrey F. Painter: &quot;[CF-metadata] Editing/publishing workflow update&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./6773.html" accesskey="t" title="Jeffrey F. Painter: &quot;[CF-metadata] Editing/publishing workflow update&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6771" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6771" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6771" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6771" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hattersley, Richard &lt;<a href="mailto:richard.hattersley?Subject=Re%3A%20%5BCF-metadata%5D%20Editing%2Fpublishing%20workflow%20update">richard.hattersley</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 29 Jan 2015 10:34:26 +0000</span><br />
</address>
<br />
Hi Jeff,
<br />
<br />Thanks for taking a look. I'm greatly relieved to know that you find the AsciiDoc version readable!
<br />
<br /><em class="quotelev1">&gt; 1. ... Do we want to keep the policy on provisional changes?  If so, how do we want to mark the changes?
</em><br />
<br />There were some excellent comments made on this topic back in March last year. For me they made a clear case for moving from the current process to a more conventional beta -&gt; release -&gt; bug-fix model. I would heartily support such a change!
<br />
<br />But from a purely technical point of view, it is entirely possible to preserve the current highlight/strikeout styles.
<br />
<br /><em class="quotelev1">&gt; 2. ... the color-coded tables of chapter 9, are not reproduced in the AsciiDoc-based html page
</em><br />
<br />Well spotted! Rest assured though, it can be done. I saw such features as high-risk, so before attempting the automated conversion I prepared a small, hand-crafted sample to check what was possible:
<br />
&nbsp;- <a href="http://cf-metadata.github.io/cf.html#ortho_multi">http://cf-metadata.github.io/cf.html#ortho_multi</a>
<br />
<br /><br />Regards,
<br />
Richard
<br />
<br /><br />-----Original Message-----
<br />
From: Jeffrey F. Painter [mailto:painter1 at llnl.gov] 
<br />
Sent: 27 January 2015 17:19
<br />
To: Hattersley, Richard; Gregory, Jonathan; cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] Editing/publishing workflow update
<br />
<br />I've briefly looked at Richard's html example and AsciiDoc source.
<br />
<br />I'm impressed by the readability of the AsciiDoc source, something which is lacking in DocBook.  This would make it much more practical for 
<br />
people to edit it without special software.   We badly need that 
<br />
capability.  And in most respects the newly generated version of the document looks good!
<br />
<br />At first glance I noticed two features which seem to be missing in the html example.  I'm not sure whether they are essential features, and I don't know whether they can be supported with AsciiDoc.  But if moving to AsciiDoc means dropping them, I think we need a community consensus in favor of that.
<br />
<br />1. Most important, it has long been policy that all changes to the CF Conventions document are provisional and are to be marked as such.  The example html document has no such markings.  In the existing system, changes are marked with a highlighting system which I find annoying to read and some trouble to implement.  So far, no change has been promoted beyond provisional status.  Do we want to keep the policy on provisional changes?  If so, how do we want to mark the changes?
<br />
<br />2. Some semi-graphical features of the standard document, notably the color-coded tables of chapter 9, are not reproduced in the AsciiDoc-based html page which I see.  But in the source code I can see an attempt to reproduce them.  If this is just a small bug somewhere, then we can fix it.  If reproducing such features requires major work, or is impossible with AsciiDoc, we need to decide whether they are important to us.
<br />
<br />- Jeff
<br />
<br />On 1/27/15 8:50 AM, Hattersley, Richard wrote:
<br />
<em class="quotelev1">&gt; Jonathan,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Thanks for the rapid feedback.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Not all the formatting is quite right, as I am sure you know e.g. in the examples, and especially in Appendix D.
</em><br />
<em class="quotelev1">&gt; Quite so. If this idea has wings then we'll need to record all these deficiencies.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I see that the doc doesn't say which version it is.
</em><br />
<em class="quotelev1">&gt; It does at the top, but it's quite small. This is just the default rendering style though so could be changed. I'm guessing normal books don't care about the version that much!
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I expect you're still working on it.
</em><br />
<em class="quotelev1">&gt; That remains to be seen... but I suspect so. ;-)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; In the &quot;official&quot; version there is markup for changed text, as you know. Is there a way to do this?
</em><br />
<em class="quotelev1">&gt; There is, but my current pipeline explicitly removes such things to show the document in its &quot;finalised&quot; form.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Jeff Painter's opinion would be valuable.
</em><br />
<em class="quotelev1">&gt; Absolutely!
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; My main concern is review.
</em><br />
<em class="quotelev1">&gt; I see no reason why the current trac process couldn't remain for now. Once the changes have been finalised on trac then someone (probably either the originator or a maintainer) could submit those changes via GitHub, with reference to the trac original.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; However, there is the potential for even greater benefit if the trac tickets themselves are moved to GitHub. This would allow inline reviewing of proposed changes.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Either way, one or more people (e.g. Jeff) would need to be given 
</em><br />
<em class="quotelev1">&gt; merge rights to the GitHub repo. (To be clear, I am not trying to get 
</em><br />
<em class="quotelev1">&gt; myself on that list!)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Regards,
</em><br />
<em class="quotelev1">&gt; Richard
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -----Original Message-----
</em><br />
<em class="quotelev1">&gt; From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf 
</em><br />
<em class="quotelev1">&gt; Of Jonathan Gregory
</em><br />
<em class="quotelev1">&gt; Sent: 27 January 2015 16:32
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: [CF-metadata] Editing/publishing workflow update
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Dear Richard
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Thank you very much for trying this out. It looks really good. Not all the formatting is quite right, as I am sure you know e.g. in the examples, and especially in Appendix D. I see that the doc doesn't say which version it is.
</em><br />
<em class="quotelev1">&gt; I expect you're still working on it.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; If this is easier than using docbook to generate the html and pdf then it sounds attractive. I have never used docbook. Jeff Painter's opinion would be valuable.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; In the &quot;official&quot; version there is markup for changed text, as you know. Is there a way to do this? In fact there is a question, which we've discussed before, about whether we should alter the rules for updates so we don't have to mark so many changes as provisional. At the moment, all changes ever since the first version are still shown as provisional because we have no rule for accepting them as permanent. If we change the rules, however, we might still want to show changes for a while, so a way to do it would be helpful.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; My main concern is review. CF changes are agreed in trac tickets, and the trac ticket should say exactly what text change is to be made. Once we reach that stage, we then have to decide who is going to make that change in the document source, when they are going to make it, and who will check that it has been done correctly. Up to now, one person (currently Jeff) has made all the changes, at once, and others have informally reviewed the html, for each version. These are governance issues, rather than software issues.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; ----- Forwarded message from &quot;Hattersley, Richard&quot; 
</em><br />
<em class="quotelev1">&gt; &lt;richard.hattersley at metoffice.gov.uk&gt; -----
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Date: Tue, 27 Jan 2015 16:03:48 +0000
</em><br />
<em class="quotelev2">&gt;&gt; From: &quot;Hattersley, Richard&quot; &lt;richard.hattersley at metoffice.gov.uk&gt;
</em><br />
<em class="quotelev2">&gt;&gt; To: CF Metadata List &lt;cf-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Subject: [CF-metadata] Editing/publishing workflow update
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Dear all,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Summary for the time-pressed reader:
</em><br />
<em class="quotelev2">&gt;&gt; - Some of us would like to simplify the workflow for editing the CF conventions.
</em><br />
<em class="quotelev2">&gt;&gt; - I've made a work-in-progress demo here: <a href="http://cf-metadata.github.io/cf-conventions.html">http://cf-metadata.github.io/cf-conventions.html</a>.
</em><br />
<em class="quotelev2">&gt;&gt; - The demo is automatically built from AsciiDoc sources here:
</em><br />
<em class="quotelev2">&gt;&gt; <a href="https://github.com/cf-metadata/cf-conventions-asciidoc">https://github.com/cf-metadata/cf-conventions-asciidoc</a>
</em><br />
<em class="quotelev2">&gt;&gt; - Feedback welcome! What's the appetite for exploring further?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I've recently delved back into the options for simplifying and automating the workflow for modifying the CF conventions document. This is in the light of some useful discussion early last year, and a friendly nudge from Rich Signell (thanks Rich!).
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; In general, this has been an encouraging exploration. Fortunately we are not at the technological vanguard of the publishing world - others with greater resources (e.g. O'Reilly) have already paved the way. As a result I believe we can achieve a very workable solution based around the AsciiDoc format&lt;<a href="http://asciidoctor.org/docs/what-is-asciidoc/">http://asciidoctor.org/docs/what-is-asciidoc/</a>&gt;.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; There are three main problems I've been looking at:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; 1.       How to get from the current DocBook sources to AsciiDoc?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; 2.       How to make the authoring/reviewing process easier?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; 3.       How to convert AsciiDoc to HTML and PDF?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; To get from DocBook to AsciiDoc I have extended an existing solution&lt;<a href="https://github.com/rhattersley/docbook2asciidoc">https://github.com/rhattersley/docbook2asciidoc</a>&gt; from O'Reilly. They use the AsciiDoc format in their Atlas publishing platform so they have already done most of the hard work. Where possible I'd like to get my extensions merged into their original.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; The authoring/reviewing process relies on GitHub pull requests and their built-in support for rendering AsciiDoc. This provides a good preview of the document (although some features of the final HTML output are not rendered), and an inline reviewing system. (NB. I've split the document into multiple files, but that is not essential.) Once a change has been accepted the corresponding HTML (and eventually PDF) is automatically rebuilt and pushed to the demo website.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; To get from AsciiDoc to HTML/PDF I have used the excellent asciidoctor&lt;<a href="http://asciidoctor.org/">http://asciidoctor.org/</a>&gt; software for HTML and a sister project for PDF. The HTML support is excellent but the PDF solution is less mature (there is an alternative which might do better). That said, both projects are under active support/development and are open to contribution.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Questions, feedback, encouragement, offers of assistance and/or beer 
</em><br />
<em class="quotelev2">&gt;&gt; ... they're all welcome! ;-)
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Richard Hattersley  AVD  Expert Software Developer Met Office  
</em><br />
<em class="quotelev2">&gt;&gt; FitzRoy Road  Exeter  Devon  EX1 3PB  United Kingdom
</em><br />
<em class="quotelev2">&gt;&gt; Tel: +44 (0)1392 885702  Fax: +44 (0)1392 885681
</em><br />
<em class="quotelev2">&gt;&gt; Email:
</em><br />
<em class="quotelev2">&gt;&gt; richard.hattersley at metoffice.gov.uk&lt;mailto:richard.hattersley at metoffi
</em><br />
<em class="quotelev2">&gt;&gt; c e.gov.uk&gt;  Website: 
</em><br />
<em class="quotelev2">&gt;&gt; www.metoffice.gov.uk&lt;<a href="http://www.metoffice.gov.uk/">http://www.metoffice.gov.uk/</a>&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; ----- End forwarded message -----
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<span id="received"><dfn>Received on</dfn> Thu Jan 29 2015 - 03:34:26 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6771">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6772.html" title="Next message in the list">Hattersley, Richard: "[CF-metadata] Editing/publishing workflow update"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6770.html" title="Previous message in the list">Hattersley, Richard: "[CF-metadata] Editing/publishing workflow update"</a></li>
<li><dfn>In reply to</dfn>: <a href="./6764.html" title="Message to which this message replies">Jeffrey F. Painter: "[CF-metadata] Editing/publishing workflow update"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./6773.html" title="Next message in this discussion thread">Jeffrey F. Painter: "[CF-metadata] Editing/publishing workflow update"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./6773.html" title="Message sent in reply to this message">Jeffrey F. Painter: "[CF-metadata] Editing/publishing workflow update"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6771" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6771" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6771" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6771" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:51 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6770.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6772.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
