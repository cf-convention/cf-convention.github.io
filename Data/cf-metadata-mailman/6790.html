<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Editing/publishing workflow update from Hattersley, Richard on 2015-02-13 (cf-metadata-mailman)</title>
<meta name="Author" content="Hattersley, Richard (richard.hattersley)" />
<meta name="Subject" content="[CF-metadata] Editing/publishing workflow update" />
<meta name="Date" content="2015-02-13" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6789.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6791.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Editing/publishing workflow update</h1>
<!-- received="Fri Feb 13 01:49:10 2015" -->
<!-- isoreceived="20150213014910" -->
<!-- sent="Fri, 13 Feb 2015 08:49:10 +0000" -->
<!-- isosent="20150213084910" -->
<!-- name="Hattersley, Richard" -->
<!-- email="richard.hattersley" -->
<!-- subject="[CF-metadata] Editing/publishing workflow update" -->
<!-- id="21A2C87797FA6042B162A8A0A11A15DB0704F1F3_at_EXXCMPD1DAG2.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="21A2C87797FA6042B162A8A0A11A15DB0702D23D_at_EXXCMPD1DAG2.cmpd1.metoffice.gov.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6790" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6791.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] Standard Names for: Ocean Kinetic Energy and Relative Vorticity&quot;">Next message</a> ]
[ <a href="./6789.html" title="Napoleon Cornejo: &quot;[CF-metadata] Standard Names for: Ocean Kinetic Energy and Relative Vorticity&quot;">Previous message</a> ]
[ <a href="./6778.html" title="Hattersley, Richard: &quot;[CF-metadata] Editing/publishing workflow update&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./7326.html" accesskey="t" title="Seth McGinnis: &quot;[CF-metadata] Editing/publishing workflow update&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6790" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6790" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6790" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6790" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hattersley, Richard &lt;<a href="mailto:richard.hattersley?Subject=Re%3A%20%5BCF-metadata%5D%20Editing%2Fpublishing%20workflow%20update">richard.hattersley</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 13 Feb 2015 08:49:10 +0000</span><br />
</address>
<br />
re: <a href="http://cf-metadata.github.io/cf-conventions.html">http://cf-metadata.github.io/cf-conventions.html</a>
<br />
<br />I've been tinkering in the evenings and now the AsciiDoc form of the conventions is somewhere near &quot;alpha release&quot; quality. It still has some small quirks here and there but the big issues should all be fixed.
<br />
<br />As ever, feedback/bug reports are very welcome.
<br />
<br />Regards,
<br />
Richard
<br />
<br /><br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Hattersley, Richard
<br />
Sent: 04 February 2015 09:04
<br />
To: CF Metadata List
<br />
Subject: Re: [CF-metadata] Editing/publishing workflow update
<br />
<br />Dear all,
<br />
<br />I have a created a GitHub project to encapsulate the DocBook-&gt;AsciiDoc conversion.
<br />
&nbsp;- <a href="https://github.com/cf-metadata/convert">https://github.com/cf-metadata/convert</a>
<br />
<br />All contributions to this effort are very welcome. For example, it would be very helpful to compare the existing HTML version of the CF conventions[1] to the version generated from AsciiDoc[2] and record any flaws as GitHub issues[3]. Or if you would like to get involved at a technical level, then please feel free to submit pull requests updating the conversion process.
<br />
<br />[1] - <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/build/cf-conventions.html">http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/build/cf-conventions.html</a>
<br />
[2] - <a href="http://cf-metadata.github.io/cf-conventions.html">http://cf-metadata.github.io/cf-conventions.html</a>
<br />
[3] - <a href="https://github.com/cf-metadata/convert/issues">https://github.com/cf-metadata/convert/issues</a>
<br />
<br /><br />Regards,
<br />
Richard Hattersley
<br />
<br /><br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Hattersley, Richard
<br />
Sent: 29 January 2015 10:21
<br />
To: Signell, Richard
<br />
Cc: CF Metadata List
<br />
Subject: Re: [CF-metadata] Editing/publishing workflow update
<br />
<br /><em class="quotelev1">&gt; there is still a fair amount of work left to be done converting the document.
</em><br />
<em class="quotelev1">&gt; Is that something that will improve with your improvements to the 
</em><br />
<em class="quotelev1">&gt; conversion tool, or will some community manual editing help be required?
</em><br />
<br />My current plan is to improve the conversion rather than use manual editing. That way the AsciiDoc version can be regarded as just another &quot;rendered&quot; version of the DocBook sources. I'd like to avoid having two &quot;definitive&quot; versions of the conventions at the same time.
<br />
<br />If all goes well (e.g. no technical hurdles) and a consensus for change can be reached then the final switch from DocBook to AsciiDoc should be relatively quick.
<br />
<br /><em class="quotelev1">&gt; Also, will there be a way to get nice syntax highlighting in blocks of 
</em><br />
<em class="quotelev1">&gt; code like example 21?
</em><br />
<br />Yes, but ... I don't think any of the normal syntax highlighting packages (e.g. pygments) have a specific mode for CDL. So either we pretend the example is in another language (which might well give excellent results) or we knock up an extension for CDL.
<br />
<br /><br />Regards,
<br />
Richard
<br />
<br /><br />From: Signell, Richard [mailto:rsignell at usgs.gov]
<br />
Sent: 27 January 2015 17:13
<br />
To: Hattersley, Richard
<br />
Cc: Filipe Pires Alvarenga Fernandes; CF Metadata List
<br />
Subject: Re: [CF-metadata] Editing/publishing workflow update
<br />
<br />Richard,
<br />
Wow, thanks for doing all this hard work for the CF community! ?
<br />
<br />I think Asciidoc is okay since it renders in Github and, as you say, has a richer model more analogous to docbook.
<br />
<br />Looking at:
<br />
<a href="http://cf-metadata.github.io/cf-conventions.html">http://cf-metadata.github.io/cf-conventions.html</a>
<br />
it looks like there is still a fair amount of work left to be done converting the document. ? ?Is that something that will improve with your improvements to the conversion tool, or will some community manual editing help be required?
<br />
<br />Also, will there be a way to get nice syntax highlighting in blocks of code like example 21?
<br />
<br />On Tue, Jan 27, 2015 at 11:33 AM, Hattersley, Richard &lt;richard.hattersley at metoffice.gov.uk&gt; wrote:
<br />
Hi Filipe,
<br />
?
<br />
Thanks for the encouragement!
<br />
?
<br />
I choose AsciiDoc because it has a much richer data model than Markdown, and because that data model was deliberately aligned with that of DocBook. In the words of the great oracle of Wikipedia: ?AsciiDoc is a human-readable document format, semantically equivalent to DocBook XML?. This makes the conversion from DocBook relatively straightforward (although admittedly DocBook has a lot of features!) and avoids it being lossy.
<br />
?
<br />
As for the offer of help ... thank you! If this idea gets enough support, my current plan is to collate the limitations/failures in the current conversion processes and start hacking at code. For now I?m not planning on editing the AsciiDoc files by hand. This is because I?m currently assuming that automatic conversion from DocBook to AsciiDoc is a Good Thing (tm) so we can re-use the same conversion to port all the prior versions to GitHub if necessary or if the latest DocBook version is updated in the meantime.
<br />
?
<br />
Richard
<br />
?
<br />
?
<br />
From: Filipe Pires Alvarenga Fernandes [mailto:ocefpaf at gmail.com]
<br />
Sent: 27 January 2015 16:21
<br />
To: Hattersley, Richard
<br />
Cc: CF Metadata List
<br />
Subject: Re: [CF-metadata] Editing/publishing workflow update
<br />
?
<br />
These are wonderful news!? The editing, tracking, and publishing workflow will be extremely easy if this is adopted.? Not to say that it will be more democratic as well thanks to GitHub PRs.
<br />
?
<br />
I have one question and two offer.
<br />
?
<br />
Question: ?Why Asciidoc instead of Markdown? ?(I noticed that, like for markdon source, GitHub renders HTML from the Asciidoc source.? This is nice for quick visualization.)
<br />
?
<br />
Offers: ?I am available to help and to pay a beer ;-)
<br />
?
<br />
PS: Loved the travis trick to push to gh-pages!
<br />
?
<br />
On Tue, Jan 27, 2015 at 1:03 PM, Hattersley, Richard &lt;richard.hattersley at metoffice.gov.uk&gt; wrote:
<br />
Dear all,
<br />
?
<br />
Summary for the time-pressed reader:
<br />
- Some of us would like to simplify the workflow for editing the CF conventions.
<br />
- I?ve made a work-in-progress demo here: <a href="http://cf-metadata.github.io/cf-conventions.html">http://cf-metadata.github.io/cf-conventions.html</a>.
<br />
- The demo is automatically built from AsciiDoc sources here: <a href="https://github.com/cf-metadata/cf-conventions-asciidoc">https://github.com/cf-metadata/cf-conventions-asciidoc</a>
<br />
- Feedback welcome! What?s the appetite for exploring further?
<br />
?
<br />
I?ve recently delved back into the options for simplifying and automating the workflow for modifying the CF conventions document. This is in the light of some useful discussion early last year, and a friendly nudge from Rich Signell (thanks Rich!).
<br />
?
<br />
In general, this has been an encouraging exploration. Fortunately we are not at the technological vanguard of the publishing world ? others with greater resources (e.g. O?Reilly) have already paved the way. As a result I believe we can achieve a very workable solution based around the AsciiDoc format.
<br />
?
<br />
There are three main problems I?ve been looking at: 
<br />
1.?????? How to get from the current DocBook sources to AsciiDoc?
<br />
2.?????? How to make the authoring/reviewing process easier?
<br />
3.?????? How to convert AsciiDoc to HTML and PDF?
<br />
?
<br />
To get from DocBook to AsciiDoc I have extended an existing solution from O?Reilly. They use the AsciiDoc format in their Atlas publishing platform so they have already done most of the hard work. Where possible I?d like to get my extensions merged into their original.
<br />
?
<br />
The authoring/reviewing process relies on GitHub pull requests and their built-in support for rendering AsciiDoc. This provides a good preview of the document (although some features of the final HTML output are not rendered), and an inline reviewing system. (NB. I?ve split the document into multiple files, but that is not essential.) Once a change has been accepted the corresponding HTML (and eventually PDF) is automatically rebuilt and pushed to the demo website.
<br />
?
<br />
To get from AsciiDoc to HTML/PDF I have used the excellent asciidoctor software for HTML and a sister project for PDF. The HTML support is excellent but the PDF solution is less mature (there is an alternative which might do better). That said, both projects are under active support/development and are open to contribution.
<br />
?
<br />
Questions, feedback, encouragement, offers of assistance and/or beer ... they?re all welcome! ;-)
<br />
?
<br />
?
<br />
Richard Hattersley? AVD? Expert Software Developer Met Office? FitzRoy Road? Exeter? Devon? EX1 3PB? United Kingdom
<br />
Tel: +44 (0)1392 885702? Fax: +44 (0)1392 885681
<br />
Email: richard.hattersley at metoffice.gov.uk? Website: www.metoffice.gov.uk
<br />
?
<br />
<br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
?
<br />
<br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><br /><br /><pre>
--
Dr. Richard P. Signell ? (508) 457-2229
USGS, 384 Woods Hole Rd.
Woods Hole, MA 02543-1598
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</pre>
<span id="received"><dfn>Received on</dfn> Fri Feb 13 2015 - 01:49:10 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6790">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6791.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] Standard Names for: Ocean Kinetic Energy and Relative Vorticity"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6789.html" title="Previous message in the list">Napoleon Cornejo: "[CF-metadata] Standard Names for: Ocean Kinetic Energy and Relative Vorticity"</a></li>
<li><dfn>In reply to</dfn>: <a href="./6778.html" title="Message to which this message replies">Hattersley, Richard: "[CF-metadata] Editing/publishing workflow update"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./7326.html" title="Next message in this discussion thread">Seth McGinnis: "[CF-metadata] Editing/publishing workflow update"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./7326.html" title="Message sent in reply to this message">Seth McGinnis: "[CF-metadata] Editing/publishing workflow update"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6790" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6790" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6790" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6790" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:52 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6789.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6791.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
