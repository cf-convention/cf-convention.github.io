<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Calendars labels and temporal notation. Was: CF-metadata Digest, Vol 144, Issue 14 from Little, Chris on 2015-04-28 (cf-metadata-mailman)</title>
<meta name="Author" content="Little, Chris (chris.little)" />
<meta name="Subject" content="[CF-metadata] Calendars labels and temporal notation. Was: CF-metadata Digest, Vol 144, Issue 14" />
<meta name="Date" content="2015-04-28" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6898.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6900.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Calendars labels and temporal notation. Was: CF-metadata Digest, Vol 144, Issue 14</h1>
<!-- received="Tue Apr 28 09:51:37 2015" -->
<!-- isoreceived="20150428085137" -->
<!-- sent="Tue, 28 Apr 2015 15:51:37 +0000" -->
<!-- isosent="20150428155137" -->
<!-- name="Little, Chris" -->
<!-- email="chris.little" -->
<!-- subject="[CF-metadata] Calendars labels and temporal notation. Was: CF-metadata Digest, Vol 144, Issue 14" -->
<!-- id="3DAD8A5A545D7644A066C4F2E82072883E153396_at_EXXCMPD1DAG4.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="mailman.944.1430235321.6842.cf-metadata_at_cgd.ucar.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6899" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6900.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Next message</a> ]
[ <a href="./6898.html" title="Jim Biard: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6899" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6899" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6899" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6899" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Little, Chris &lt;<a href="mailto:chris.little?Subject=Re%3A%20%5BCF-metadata%5D%20Calendars%20labels%20and%20temporal%20notation.%20Was%3A%20CF-metadata%20Digest%2C%20Vol%20144%2C%20Issue%2014">chris.little</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 28 Apr 2015 15:51:37 +0000</span><br />
</address>
<br />
Dear CF experts,
<br />
<br />Can I chip in here, without having read all of the back story, please?
<br />
<br />I am busy with producing an OGC Best Practice for handling Time with geospatial data.
<br />
<br />One of the fundamental problems is that international standards bodies have produced inconsistent standards.
<br />
<br />E.g. ISO8601 defines a notation that uses the Gregorian calendar, with leap seconds;
<br />
IETF specifies an RFC for timestamps on the Internet according to ISO8601
<br />
ECMA specifies standard JavaScript to use ISO8601 but specifies explicitly 'ignore leap seconds'
<br />
<br />And, of course, GPS time is tied to TAI, Atomic time, not the Gregorian calendar.
<br />
<br />One problem is that people are using ISO8601 incorrectly, either knowingly or from ignorance, therefore need another label/attribute to state this.
<br />
<br />Another problem is using coordinates and calendars interchangeably, when they are not.
<br />
<br />The OGC, for example, hosts a registry of defined temporal coordinate systems, but it does not have registry of calendar definitions. The BIPM and IERS in Paris do not seem interested in registries and variations of definitions.
<br />
<br />HTH, Chris
<br />
<br /><br />Chris Little
<br />
Chair, OGC Temporal Domain Working Group
<br />
Co-Chair, OGC Meteorology &amp; Oceanography Domain Working Group
<br />
<br />IT Fellow - Operational Infrastructures
<br />
Met Office? FitzRoy Road? Exeter? Devon? EX1 3PB? United Kingdom
<br />
Tel: +44(0)1392 886278? Fax: +44(0)1392 885681? Mobile: +44(0)7753 880514
<br />
E-mail: chris.little at metoffice.gov.uk? <a href="http://www.metoffice.gov.uk">http://www.metoffice.gov.uk</a>
<br />
<br />I am normally at work Tuesday, Wednesday and Thursday each week
<br />
<br /><br /><br /><br /><br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of cf-metadata-request at cgd.ucar.edu
<br />
Sent: Tuesday, April 28, 2015 4:35 PM
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: CF-metadata Digest, Vol 144, Issue 14
<br />
<br />Send CF-metadata mailing list submissions to
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf-metadata at cgd.ucar.edu
<br />
<br />To subscribe or unsubscribe via the World Wide Web, visit
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
or, via email, send a message with subject or body 'help' to
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf-metadata-request at cgd.ucar.edu
<br />
<br />You can reach the person managing the list at
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf-metadata-owner at cgd.ucar.edu
<br />
<br />When replying, please edit your Subject line so it is more specific than &quot;Re: Contents of CF-metadata digest...&quot;
<br />
<br /><br />Today's Topics:
<br />
<br />&nbsp;&nbsp;&nbsp;1.  How to define time coordinate in GPS? (Jonathan Gregory)
<br />
&nbsp;&nbsp;&nbsp;2. Re: How to define time coordinate in GPS? (Jim Biard)
<br />
<br /><br />----------------------------------------------------------------------
<br />
<br />Message: 1
<br />
Date: Mon, 27 Apr 2015 18:07:39 +0100
<br />
From: Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt;
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: [CF-metadata]  How to define time coordinate in GPS?
<br />
Message-ID: &lt;20150427170739.GA7214 at met.reading.ac.uk&gt;
<br />
Content-Type: text/plain; charset=us-ascii
<br />
<br />Dear Jim
<br />
<br /><em class="quotelev1">&gt; I don't think calendars are the right place to encode this. We could 
</em><br />
<em class="quotelev1">&gt; add a new &quot;time_system&quot; attribute where you would declare whether your 
</em><br />
<em class="quotelev1">&gt; time stamps and elapsed times were based on UTC, GPS, TAI, etc.
</em><br />
<em class="quotelev1">&gt; If we take this route, we should require the elapsed times to encode 
</em><br />
<em class="quotelev1">&gt; leap seconds if the time system is UTC, and state that the default 
</em><br />
<em class="quotelev1">&gt; time system is UTC.
</em><br />
<br />I think this is a calendar issue because the calendar is the set of rules which translate between components of time (YMDhms) and elapsed time (in fixed time units) since the reference time. Your later email seems to me to be consistent with that. In the real world, the elapsed interval (expressed e.g. as the number of seconds) between the ref YMDhms and the actual YMDhs depends on whether your calendar includes leap seconds (UTC) or not (GPS).
<br />
It seems that GPS is the calendar likely to have been assumed in existing CF datasets, so it would be logical to say that the default is the real- world calendar without leap seconds. Have I misunderstood something? If we regard this as a property of the calendar, we don't need a new attribute.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br /><br />------------------------------
<br />
<br />Message: 2
<br />
Date: Tue, 28 Apr 2015 11:35:16 -0400
<br />
From: Jim Biard &lt;jbiard at cicsnc.org&gt;
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] How to define time coordinate in GPS?
<br />
Message-ID: &lt;553FA8B4.8000006 at cicsnc.org&gt;
<br />
Content-Type: text/plain; charset=&quot;windows-1252&quot;; Format=&quot;flowed&quot;
<br />
<br />Jonathan,
<br />
<br />I see where you are coming from, and there's validity in that line of thought. Leap seconds represent a finer-grained adjustment to the overall date/time system being used. I still think it makes good sense to add a new attribute to declare whether or not leap second handling was used or strengthen our standards for time variables so that problems are averted.
<br />
<br />&nbsp;From a human understandability perspective, a calendar attribute of &quot;GPS&quot; or &quot;UTC&quot; will be somewhat confusing. In my experience, people don't speak of the UTC calendar, it's UTC time. Further, TAI and GPS time don't really concern themselves with anything but counts of seconds since an epoch date &amp; time. People convert the counts to time stamps for convenience, but they are actually more equivalent to the Julian Day Number (JDN) than they are to the Gregorian or Julian calendar. TAI and GPS time have different epochs, and TAI is more accurate, but they both are running counts of seconds that aren't tied to the motions of the Earth. As a result, I think that it's improper to talk about a GPS calendar or TAI calendar.
<br />
<br />What is being exposed by this discussion is the reality that any of us (myself included) have often ignored or been unaware of the fact that the time calculators (time handling software) we used when filling our time variables with elapsed times weren't giving us true counts of seconds since the epochs we wrote into our units attributes. If you are working at a resolution of days or hours, this will probably never cause a problem. If you are working at a resolution of minutes or less and working over a time span of greater than two years, it may well have caused at least occasional small problems. If you are working with full-resolution polar-orbiting satellite data, one second represents ~7 km of satellite motion, so such errors can produce significant geolocation errors.
<br />
<br />A set of elapsed seconds since a Gregorian/UTC epoch that were calculated from Gregorian/UTC time stamps without regard for leap seconds and which crossed a leap second boundary are not &quot;GPS&quot; seconds. 
<br />
Nor are they &quot;UTC&quot; seconds. They are, strictly speaking, elapsed times into which one or more step errors have been introduced. As I mentioned in a previous email, as long as you use the same time calculator to extract time stamps as you did to get elapsed times from input time stamps, you won't notice anything. You may notice a problem if you are taking differences between elapsed times and a leap second boundary gets involved.
<br />
<br />As I've considered all of this more, I'm tending to favor the second option I suggested.
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;We could also be more strict, and say the epoch time stamp in the units
<br />
&nbsp;&nbsp;&nbsp;&nbsp;attribute must always be in UTC. The question would then be reduced to
<br />
&nbsp;&nbsp;&nbsp;&nbsp;whether or not leap seconds were counted into the elapsed times stored
<br />
&nbsp;&nbsp;&nbsp;&nbsp;in the time variable. In this case, we could add a &quot;leap_seconds&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;attribute which would have a value of &quot;UTC&quot; if UTC leap seconds were
<br />
&nbsp;&nbsp;&nbsp;&nbsp;counted into the elapsed times, and &quot;none&quot; if not. This would also allow
<br />
&nbsp;&nbsp;&nbsp;&nbsp;for some other system of leap seconds to be used. (I don't know if there
<br />
&nbsp;&nbsp;&nbsp;&nbsp;are others.) For backward compatibility, considering history, the
<br />
&nbsp;&nbsp;&nbsp;&nbsp;default value for this attribute would probably be &quot;UTC&quot;.
<br />
<br />Clearly, having epoch time stamps with time zone offsets from UTC, as described in the CF conventions, would be OK as well. I'm also open to other namings for the new attribute and for its possible values. The leap seconds only become an issue in certain rather specific instances, so I think that such an attribute, along with a bit of discussion in the document, would likely be sufficient to warn those people that may find themselves negatively affected by improper leap second handling.
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br /><br />On 4/27/15 1:07 PM, Jonathan Gregory wrote:
<br />
<em class="quotelev1">&gt; Dear Jim
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I don't think calendars are the right place to encode this. We could 
</em><br />
<em class="quotelev2">&gt;&gt; add a new &quot;time_system&quot; attribute where you would declare whether 
</em><br />
<em class="quotelev2">&gt;&gt; your time stamps and elapsed times were based on UTC, GPS, TAI, etc.
</em><br />
<em class="quotelev2">&gt;&gt; If we take this route, we should require the elapsed times to encode 
</em><br />
<em class="quotelev2">&gt;&gt; leap seconds if the time system is UTC, and state that the default 
</em><br />
<em class="quotelev2">&gt;&gt; time system is UTC.
</em><br />
<em class="quotelev1">&gt; I think this is a calendar issue because the calendar is the set of 
</em><br />
<em class="quotelev1">&gt; rules which translate between components of time (YMDhms) and elapsed 
</em><br />
<em class="quotelev1">&gt; time (in fixed time units) since the reference time. Your later email 
</em><br />
<em class="quotelev1">&gt; seems to me to be consistent with that. In the real world, the elapsed 
</em><br />
<em class="quotelev1">&gt; interval (expressed e.g. as the number of seconds) between the ref 
</em><br />
<em class="quotelev1">&gt; YMDhms and the actual YMDhs depends on whether your calendar includes leap seconds (UTC) or not (GPS).
</em><br />
<em class="quotelev1">&gt; It seems that GPS is the calendar likely to have been assumed in 
</em><br />
<em class="quotelev1">&gt; existing CF datasets, so it would be logical to say that the default 
</em><br />
<em class="quotelev1">&gt; is the real- world calendar without leap seconds. Have I misunderstood 
</em><br />
<em class="quotelev1">&gt; something? If we regard this as a property of the calendar, we don't need a new attribute.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br /><pre>
--
CICS-NC &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; 	*Jim Biard*
*Research Scholar*
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt; North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt; NOAA National Centers for Environmental Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt; /formerly NOAA?s National Climatic Data Center/
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
/We will be updating our social media soon. Follow our current Facebook (NOAA National Climatic Data Center &lt;<a href="https://www.facebook.com/NOAANationalClimaticDataCenter">https://www.facebook.com/NOAANationalClimaticDataCenter</a>&gt; and NOAA National Oceanographic Data Center &lt;<a href="https://www.facebook.com/noaa.nodc">https://www.facebook.com/noaa.nodc</a>&gt;)
and Twitter (_at_NOAANCDC &lt;<a href="https://twitter.com/NOAANCDC">https://twitter.com/NOAANCDC</a>&gt; and @NOAAOceanData
&lt;<a href="https://twitter.com/NOAAOceanData">https://twitter.com/NOAAOceanData</a>&gt;) accounts for the latest information./
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150428/2f99a006/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150428/2f99a006/attachment.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CicsLogoTiny.png
Type: image/png
Size: 15784 bytes
Desc: not available
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150428/2f99a006/attachment.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150428/2f99a006/attachment.png</a>&gt;
------------------------------
Subject: Digest Footer
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
------------------------------
End of CF-metadata Digest, Vol 144, Issue 14
********************************************
</pre>
<span id="received"><dfn>Received on</dfn> Tue Apr 28 2015 - 09:51:37 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6899">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6900.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6898.html" title="Previous message in the list">Jim Biard: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6899" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6899" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6899" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6899" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:54 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6898.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6900.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
