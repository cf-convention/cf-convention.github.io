<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF-metadata Digest, Vol 144, Issue 20 from Little, Chris on 2015-04-29 (cf-metadata-mailman)</title>
<meta name="Author" content="Little, Chris (chris.little)" />
<meta name="Subject" content="[CF-metadata] CF-metadata Digest, Vol 144, Issue 20" />
<meta name="Date" content="2015-04-29" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6911.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6913.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF-metadata Digest, Vol 144, Issue 20</h1>
<!-- received="Wed Apr 29 11:28:40 2015" -->
<!-- isoreceived="20150429102840" -->
<!-- sent="Wed, 29 Apr 2015 17:28:40 +0000" -->
<!-- isosent="20150429172840" -->
<!-- name="Little, Chris" -->
<!-- email="chris.little" -->
<!-- subject="[CF-metadata] CF-metadata Digest, Vol 144, Issue 20" -->
<!-- id="3DAD8A5A545D7644A066C4F2E82072883E153CF6_at_EXXCMPD1DAG4.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="mailman.984.1430315774.6842.cf-metadata_at_cgd.ucar.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6912" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6913.html" accesskey="d" title="Jim Biard: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Next message</a> ]
[ <a href="./6911.html" title="Jim Biard: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Previous message</a> ]
<!-- unextthread="start" -->
[ <a href="./6915.html" accesskey="t" title="Jim Biard: &quot;[CF-metadata] CF-metadata Digest, Vol 144, Issue 20&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6912" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6912" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6912" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6912" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Little, Chris &lt;<a href="mailto:chris.little?Subject=Re%3A%20%5BCF-metadata%5D%20CF-metadata%20Digest%2C%20Vol%20144%2C%20Issue%2020">chris.little</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 29 Apr 2015 17:28:40 +0000</span><br />
</address>
<br />
Dear Temporal CF enthusiasts,
<br />
<br />I agree &quot;proleptic_gregorian_utc&quot; is a good label for something. I express no view as to what! ;-)
<br />
<br />There is a danger in using phrases like 'UTC Timestamps'. UTC is a timescale usually used in conjunction with the Gregorian calendar (and proleptic Gregorian) and with leap seconds included by definition if not in practice.
<br />
<br />'Timestamps' may be in a variety of formats, and one of the ISO8601 options is common. However, a number of groups, the IETF in particular, have taken great pains to ensure that such timestamps make an well ordered sequence, *without inferring any duration or calculations*. So 'timestamps' should be taken as that - a fully ordered sequence of labels. However, different computers systems may have different clocks, so in total, they become a set of partially ordered labels, depending on the any epochs or datums that can be established, such as by NNTP protocols etc. 
<br />
<br />Any calculations on timestamps, whether fully or partially ordered, must make calendrical assumptions to perform calculations, unless the full details are known. 
<br />
<br />HTH, but it may not help achieve consensus, Chris
<br />
<br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of cf-metadata-request at cgd.ucar.edu
<br />
Sent: Wednesday, April 29, 2015 2:56 PM
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: CF-metadata Digest, Vol 144, Issue 20
<br />
<br />Send CF-metadata mailing list submissions to
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf-metadata at cgd.ucar.edu
<br />
<br />To subscribe or unsubscribe via the World Wide Web, visit
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
or, via email, send a message with subject or body 'help' to
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf-metadata-request at cgd.ucar.edu
<br />
<br />You can reach the person managing the list at
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cf-metadata-owner at cgd.ucar.edu
<br />
<br />When replying, please edit your Subject line so it is more specific than &quot;Re: Contents of CF-metadata digest...&quot;
<br />
<br /><br />Today's Topics:
<br />
<br />&nbsp;&nbsp;&nbsp;1. Re: How to define time coordinate in GPS? (Jonathan Gregory)
<br />
&nbsp;&nbsp;&nbsp;2. Re: How to define time coordinate in GPS? (Jim Biard)
<br />
<br /><br />----------------------------------------------------------------------
<br />
<br />Message: 1
<br />
Date: Wed, 29 Apr 2015 14:39:50 +0100
<br />
From: Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt;
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] How to define time coordinate in GPS?
<br />
Message-ID: &lt;20150429133950.GA5242 at met.reading.ac.uk&gt;
<br />
Content-Type: text/plain; charset=us-ascii
<br />
<br />Dear Jim, Chris et al.
<br />
<br />I'm using the word &quot;calendar&quot; in a CF-consistent way, I believe. Maybe it's not the best word for the concept, but nonetheless we have an attribute called &quot;calendar&quot;, and its sole function is indicate which algorithm is used to translate between components of time (YMDhms) and elapsed time (in units of time since a reference time). So perhaps that is consistent with &quot;calendar&quot;
<br />
being a collection of algorithms, in Chris's text, but it's more specific than that. It has a particular function in the interpretation of CF time values (usually coordinates). CF sect 4.4.1 says &quot;In order to calculate a new date and time given a base date, base time and a time increment one must know what calendar to use.&quot;
<br />
and I think that is the sense in which I am using &quot;calendar&quot;.
<br />
<br /><em class="quotelev1">&gt; In the &quot;real&quot; world, we often start with UTC timestamps that have leap 
</em><br />
<em class="quotelev1">&gt; seconds accounted for, yet convert them to elapsed times using 
</em><br />
<em class="quotelev1">&gt; calculators that don't account for leap seconds. This can actually 
</em><br />
<em class="quotelev1">&gt; lead to elapsed time values that encode a time discontinuity and 
</em><br />
<em class="quotelev1">&gt; cannot be counted on to produce accurate differences between every 
</em><br />
<em class="quotelev1">&gt; pair of values.
</em><br />
<br />This is a problem, I agree. We should avoid that problem for future data by making the conventions more precise about which calculator should be used (which calendar, in the CF sense). We can't decide for sure what was done when encoding past data, but the conventions string records the version of CF used.
<br />
<br /><em class="quotelev1">&gt; I'm suggesting that we need to do two things. One is to more precisely 
</em><br />
<em class="quotelev1">&gt; define what sorts of times can be used in the time reference part of 
</em><br />
<em class="quotelev1">&gt; the units attribute. I just reread section 4.4, and it actually says 
</em><br />
<em class="quotelev1">&gt; that the time is UTC or a time zone offset from it. I think it should 
</em><br />
<em class="quotelev1">&gt; stay that way and the wording strengthened to make it clearer.
</em><br />
<br />Yes, it does say that. It's a quote from the udunits man page. However I don't think the issue of leap seconds has been carefully considered before, so we don't have to assume that's what it meant exactly, especially as udunits does not support lead seconds. As previously said, and I think you may agree, it is likely that nearly all existing time values have been encoded *without* leap seconds, and therefore *not* UTC strictly. Therefore my alternative suggestion is that we should add some text here that says we don't necessarily imply leap seconds are included by mentioning UTC. This must be the case, because the same format of time unit is used for calendars that definitely do not ever include leap seconds i.e. all the non-real-world ones. UTC is mentioned simply as a way to refer to the time-zone which contains the Greenwich meridian, without summer time.
<br />
<br /><em class="quotelev1">&gt; The other thing I think we need to do is provide a way to indicate 
</em><br />
<em class="quotelev1">&gt; that the elapsed times in a time variable are true elapsed times that 
</em><br />
<em class="quotelev1">&gt; are certain to be free of leap second discontinuities, or are possibly 
</em><br />
<em class="quotelev1">&gt; contaminated with leap second discontinuities. In connection with this 
</em><br />
<em class="quotelev1">&gt; we would need to add clarifying language in the CF conventions to 
</em><br />
<em class="quotelev1">&gt; educate people on the importance of using time calculators that are 
</em><br />
<em class="quotelev1">&gt; aware of leap seconds when moving between UTC timestamps and elapsed 
</em><br />
<em class="quotelev1">&gt; time values. This could be handled by adding a modifier to a calendar 
</em><br />
<em class="quotelev1">&gt; name in the calendar attribute, or it could be handled by adding a new 
</em><br />
<em class="quotelev1">&gt; attribute to hold this information. I think that coming up with one or 
</em><br />
<em class="quotelev1">&gt; more new calendar names is a more confusing and less useful way to 
</em><br />
<em class="quotelev1">&gt; accomplish this.
</em><br />
<br />I don't think we should define a new attribute, because this distinction is one which applies only to the real-world calendar. It's therefore more robust and simpler to indicate it as a modifier to the name when applicable in the the calendar att, so making a new calendar name, in effect. But given this discussion I agree that calling it just &quot;UTC&quot; may not be clear enough. The real-world calendar is called &quot;standard&quot; or &quot;gregorian&quot;. I would propose a new possibility &quot;proleptic_gregorian_utc&quot;, meaning the proleptic Gregorian calendar with leap seconds inserted as applicable since 1958.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br /><br />------------------------------
<br />
<br />Message: 2
<br />
Date: Wed, 29 Apr 2015 09:56:07 -0400
<br />
From: Jim Biard &lt;jbiard at cicsnc.org&gt;
<br />
To: &quot;Arctur, David K&quot; &lt;david.arctur at utexas.edu&gt;,
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;cf-metadata at cgd.ucar.edu&quot; &lt;cf-metadata at cgd.ucar.edu&gt;
<br />
Subject: Re: [CF-metadata] How to define time coordinate in GPS?
<br />
Message-ID: &lt;5540E2F7.2090507 at cicsnc.org&gt;
<br />
Content-Type: text/plain; charset=&quot;utf-8&quot;; Format=&quot;flowed&quot;
<br />
<br />Randall, are you lurking out there? :-)
<br />
<br />On 4/29/15 9:37 AM, Arctur, David K wrote:
<br />
<em class="quotelev1">&gt; Please pardon this digression, but is xkcd following this thread? 
</em><br />
<em class="quotelev1">&gt; <a href="http://xkcd.com/1514/">http://xkcd.com/1514/</a> - just came out last week? ;-)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Cheers,
</em><br />
<em class="quotelev1">&gt; David Arctur
</em><br />
<em class="quotelev1">&gt; ?
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On Apr 28, 2015, at 4:41 PM, Jim Biard &lt;jbiard at cicsnc.org 
</em><br />
<em class="quotelev1">&gt; &lt;mailto:jbiard at cicsnc.org&gt;&gt; wrote:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jonathan,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; As I've mentioned in other emails, I don't think TAI and GPS are 
</em><br />
<em class="quotelev1">&gt; calendars, but I understand where you are coming from.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; When you are working in the model domain you are generating your own 
</em><br />
<em class="quotelev1">&gt; timestamps, so you are self-consistent and have no problems. As far as 
</em><br />
<em class="quotelev1">&gt; that goes, there are models that use no_leap or all_leap calendars, 
</em><br />
<em class="quotelev1">&gt; and they are again self-consistent and have no problems. In the &quot;real&quot;
</em><br />
<em class="quotelev1">&gt; world, we often start with UTC timestamps that have leap seconds 
</em><br />
<em class="quotelev1">&gt; accounted for, yet convert them to elapsed times using calculators 
</em><br />
<em class="quotelev1">&gt; that don't account for leap seconds. This can actually lead to elapsed 
</em><br />
<em class="quotelev1">&gt; time values that encode a time discontinuity and cannot be counted on 
</em><br />
<em class="quotelev1">&gt; to produce accurate differences between every pair of values. I'm not 
</em><br />
<em class="quotelev1">&gt; sure what we should call that, but I don't like the idea of naming it 
</em><br />
<em class="quotelev1">&gt; with a calendar.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; It is true that a large majority of files &quot;in the wild&quot; probably 
</em><br />
<em class="quotelev1">&gt; either use time at a resolution that is coarse enough that none of 
</em><br />
<em class="quotelev1">&gt; this matters or managed to avoid having any leap seconds creep in to 
</em><br />
<em class="quotelev1">&gt; their elapsed time values.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I'm not suggesting that we add anything to the units attribute. I am 
</em><br />
<em class="quotelev1">&gt; suggesting that we need to do two things. One is to more precisely 
</em><br />
<em class="quotelev1">&gt; define what sorts of times can be used in the time reference part of 
</em><br />
<em class="quotelev1">&gt; the units attribute. I just reread section 4.4, and it actually says 
</em><br />
<em class="quotelev1">&gt; that the time is UTC or a time zone offset from it. I think it should 
</em><br />
<em class="quotelev1">&gt; stay that way and the wording strengthened to make it clearer. Since 
</em><br />
<em class="quotelev1">&gt; there are no leap seconds defined before the TAI epoch date, I think 
</em><br />
<em class="quotelev1">&gt; there would be no problem with saying that times in years before Jan 
</em><br />
<em class="quotelev1">&gt; 1, 1958 are assumed to have no leap seconds. (Call it proleptic UTC if 
</em><br />
<em class="quotelev1">&gt; you like.)
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; The other thing I think we need to do is provide a way to indicate 
</em><br />
<em class="quotelev1">&gt; that the elapsed times in a time variable are true elapsed times that 
</em><br />
<em class="quotelev1">&gt; are certain to be free of leap second discontinuities, or are possibly 
</em><br />
<em class="quotelev1">&gt; contaminated with leap second discontinuities. In connection with this 
</em><br />
<em class="quotelev1">&gt; we would need to add clarifying language in the CF conventions to 
</em><br />
<em class="quotelev1">&gt; educate people on the importance of using time calculators that are 
</em><br />
<em class="quotelev1">&gt; aware of leap seconds when moving between UTC timestamps and elapsed 
</em><br />
<em class="quotelev1">&gt; time values. This could be handled by adding a modifier to a calendar 
</em><br />
<em class="quotelev1">&gt; name in the calendar attribute, or it could be handled by adding a new 
</em><br />
<em class="quotelev1">&gt; attribute to hold this information. I think that coming up with one or 
</em><br />
<em class="quotelev1">&gt; more new calendar names is a more confusing and less useful way to 
</em><br />
<em class="quotelev1">&gt; accomplish this.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; It seems to me that the historical default for existing datasets is 
</em><br />
<em class="quotelev1">&gt; that the leap second handling has to be &quot;unknown&quot;. For most (maybe
</em><br />
<em class="quotelev1">&gt; all) of the model datasets, the actual situation is &quot;no leap second 
</em><br />
<em class="quotelev1">&gt; discontinuities&quot;. (Do you actually have any models where time in the 
</em><br />
<em class="quotelev1">&gt; output has a resolution fine enough and span wide enough for it to 
</em><br />
<em class="quotelev1">&gt; matter anyway?) For many &quot;real world&quot; datasets, the actual situation 
</em><br />
<em class="quotelev1">&gt; is &quot;possibly contaminated with leap second discontinuities&quot;, since the 
</em><br />
<em class="quotelev1">&gt; times started as UTC timestamps and were converted to elapsed times 
</em><br />
<em class="quotelev1">&gt; using calculators that didn't consider leap seconds. (But as I 
</em><br />
<em class="quotelev1">&gt; mentioned, most of them probably aren't affected by the error.) We 
</em><br />
<em class="quotelev1">&gt; have two communities that have different defaults, so we shouldn't 
</em><br />
<em class="quotelev1">&gt; pick one over the other.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Grace and peace,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jim
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On 4/28/15 12:52 PM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev2">&gt;&gt; Dear Jim
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I agree that TAI and GPS aren't distinct CF calendars if they differ 
</em><br />
<em class="quotelev2">&gt;&gt; only because of the epoch. In CF and udunits, the reference time is 
</em><br />
<em class="quotelev2">&gt;&gt; part of the the units, as you know; it's not a property of the 
</em><br />
<em class="quotelev2">&gt;&gt; calendar. I referred to GPS calendar just to contrast it with UTC.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Unlike you, I don't live only in the real world. :-) Many models use 
</em><br />
<em class="quotelev2">&gt;&gt; the default CF calendar (called standard or gregorian) as an 
</em><br />
<em class="quotelev2">&gt;&gt; approximation to the real world. In these models there are no leap 
</em><br />
<em class="quotelev2">&gt;&gt; seconds, and it would not be correct to call this UTC, or to include 
</em><br />
<em class="quotelev2">&gt;&gt; the leap seconds in the encoding and decoding of time cooordinates. 
</em><br />
<em class="quotelev2">&gt;&gt; In any case, as we understand, most software doesn't allow for leap 
</em><br />
<em class="quotelev2">&gt;&gt; seconds. For those two reasons, I propose that we more precisely 
</em><br />
<em class="quotelev2">&gt;&gt; define the default (standard, gregorian) calendar to say explicitly 
</em><br />
<em class="quotelev2">&gt;&gt; that it does not include leap seconds i.e. every day is 86400 s long 
</em><br />
<em class="quotelev2">&gt;&gt; exactly. This is probably correct for most of the data which has been written with this calendar.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I call UTC a calendar because it affects the encoding, since it 
</em><br />
<em class="quotelev2">&gt;&gt; implies leap seconds.  You suggest, I think, that the treatment of 
</em><br />
<em class="quotelev2">&gt;&gt; leap seconds should be indicated in the reference time in the units 
</em><br />
<em class="quotelev2">&gt;&gt; string. This doesn't seem quite right to me because the units doesn't 
</em><br />
<em class="quotelev2">&gt;&gt; say anything about the encoding. We use the same format of units 
</em><br />
<em class="quotelev2">&gt;&gt; string for all calendars. udunits does mention UTC in respect of the 
</em><br />
<em class="quotelev2">&gt;&gt; format of this string because of wanting to talk about time zones, 
</em><br />
<em class="quotelev2">&gt;&gt; not because of leap seconds. Time zones could be used in models too 
</em><br />
<em class="quotelev2">&gt;&gt; (though I don't know of a case). Hence I still propose that we should 
</em><br />
<em class="quotelev2">&gt;&gt; regard UTC as a calendar, if it's correct that the leap seconds in 
</em><br />
<em class="quotelev2">&gt;&gt; use in the real world are part of the definition of UTC. This means 
</em><br />
<em class="quotelev2">&gt;&gt; we should define a a new calendar, which is not the default, in which 
</em><br />
<em class="quotelev2">&gt;&gt; time units have just the same format as usual i.e. udunits, but the 
</em><br />
<em class="quotelev2">&gt;&gt; encoding and decoding of values is done including leap seconds 
</em><br />
<em class="quotelev2">&gt;&gt; according to UTC. The same value, with the same units string, may 
</em><br />
<em class="quotelev2">&gt;&gt; translate into a different date-time (by a number of
</em><br />
<em class="quotelev2">&gt;&gt; seconds) according to whether the calendar is default (standard, 
</em><br />
<em class="quotelev2">&gt;&gt; gregorian) or utc. It wouldn't make sense to use this calendar for 
</em><br />
<em class="quotelev2">&gt;&gt; dates before the introduction of UTC, so it should be illegal to do 
</em><br />
<em class="quotelev2">&gt;&gt; so. We could do this by prohibiting reference times earlier than the 
</em><br />
<em class="quotelev2">&gt;&gt; start of UTC and negative values of time in this calendar.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Maybe I haven't grasped your point properly?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Best wishes
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Jonathan
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; ----- Forwarded message from Jim Biard &lt;jbiard at cicsnc.org-----
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Date: Tue, 28 Apr 2015 11:35:16 -0400
</em><br />
<em class="quotelev2">&gt;&gt; From: Jim Biard&lt;jbiard at cicsnc.org&gt;
</em><br />
<em class="quotelev2">&gt;&gt; To:cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; Subject: Re: [CF-metadata] How to define time coordinate in GPS?
</em><br />
<em class="quotelev2">&gt;&gt; User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:31.0)
</em><br />
<em class="quotelev2">&gt;&gt; 	Gecko/20100101 Thunderbird/31.6.0
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Jonathan,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I see where you are coming from, and there's validity in that line of 
</em><br />
<em class="quotelev2">&gt;&gt; thought. Leap seconds represent a finer-grained adjustment to the 
</em><br />
<em class="quotelev2">&gt;&gt; overall date/time system being used. I still think it makes good 
</em><br />
<em class="quotelev2">&gt;&gt; sense to add a new attribute to declare whether or not leap second 
</em><br />
<em class="quotelev2">&gt;&gt; handling was used or strengthen our standards for time variables so 
</em><br />
<em class="quotelev2">&gt;&gt; that problems are averted.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;  From a human understandability perspective, a calendar attribute of 
</em><br />
<em class="quotelev2">&gt;&gt; &quot;GPS&quot; or &quot;UTC&quot; will be somewhat confusing. In my experience, people 
</em><br />
<em class="quotelev2">&gt;&gt; don't speak of the UTC calendar, it's UTC time. Further, TAI and GPS 
</em><br />
<em class="quotelev2">&gt;&gt; time don't really concern themselves with anything but counts of 
</em><br />
<em class="quotelev2">&gt;&gt; seconds since an epoch date &amp; time. People convert the counts to time 
</em><br />
<em class="quotelev2">&gt;&gt; stamps for convenience, but they are actually more equivalent to the 
</em><br />
<em class="quotelev2">&gt;&gt; Julian Day Number (JDN) than they are to the Gregorian or Julian 
</em><br />
<em class="quotelev2">&gt;&gt; calendar. TAI and GPS time have different epochs, and TAI is more 
</em><br />
<em class="quotelev2">&gt;&gt; accurate, but they both are running counts of seconds that aren't 
</em><br />
<em class="quotelev2">&gt;&gt; tied to the motions of the Earth. As a result, I think that it's 
</em><br />
<em class="quotelev2">&gt;&gt; improper to talk about a GPS calendar or TAI calendar.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; What is being exposed by this discussion is the reality that any of 
</em><br />
<em class="quotelev2">&gt;&gt; us (myself included) have often ignored or been unaware of the fact 
</em><br />
<em class="quotelev2">&gt;&gt; that the time calculators (time handling software) we used when 
</em><br />
<em class="quotelev2">&gt;&gt; filling our time variables with elapsed times weren't giving us true 
</em><br />
<em class="quotelev2">&gt;&gt; counts of seconds since the epochs we wrote into our units 
</em><br />
<em class="quotelev2">&gt;&gt; attributes. If you are working at a resolution of days or hours, this 
</em><br />
<em class="quotelev2">&gt;&gt; will probably never cause a problem. If you are working at a 
</em><br />
<em class="quotelev2">&gt;&gt; resolution of minutes or less and working over a time span of greater 
</em><br />
<em class="quotelev2">&gt;&gt; than two years, it may well have caused at least occasional small 
</em><br />
<em class="quotelev2">&gt;&gt; problems. If you are working with full-resolution polar-orbiting 
</em><br />
<em class="quotelev2">&gt;&gt; satellite data, one second represents ~7 km of satellite motion, so 
</em><br />
<em class="quotelev2">&gt;&gt; such errors can produce significant geolocation errors.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; A set of elapsed seconds since a Gregorian/UTC epoch that were 
</em><br />
<em class="quotelev2">&gt;&gt; calculated from Gregorian/UTC time stamps without regard for leap 
</em><br />
<em class="quotelev2">&gt;&gt; seconds and which crossed a leap second boundary are not &quot;GPS&quot;
</em><br />
<em class="quotelev2">&gt;&gt; seconds. Nor are they &quot;UTC&quot; seconds. They are, strictly speaking, 
</em><br />
<em class="quotelev2">&gt;&gt; elapsed times into which one or more step errors have been 
</em><br />
<em class="quotelev2">&gt;&gt; introduced. As I mentioned in a previous email, as long as you use 
</em><br />
<em class="quotelev2">&gt;&gt; the same time calculator to extract time stamps as you did to get 
</em><br />
<em class="quotelev2">&gt;&gt; elapsed times from input time stamps, you won't notice anything. You 
</em><br />
<em class="quotelev2">&gt;&gt; may notice a problem if you are taking differences between elapsed 
</em><br />
<em class="quotelev2">&gt;&gt; times and a leap second boundary gets involved.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; As I've considered all of this more, I'm tending to favor the second 
</em><br />
<em class="quotelev2">&gt;&gt; option I suggested.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     We could also be more strict, and say the epoch time stamp in the units
</em><br />
<em class="quotelev2">&gt;&gt;     attribute must always be in UTC. The question would then be reduced to
</em><br />
<em class="quotelev2">&gt;&gt;     whether or not leap seconds were counted into the elapsed times stored
</em><br />
<em class="quotelev2">&gt;&gt;     in the time variable. In this case, we could add a &quot;leap_seconds&quot;
</em><br />
<em class="quotelev2">&gt;&gt;     attribute which would have a value of &quot;UTC&quot; if UTC leap seconds were
</em><br />
<em class="quotelev2">&gt;&gt;     counted into the elapsed times, and &quot;none&quot; if not. This would also allow
</em><br />
<em class="quotelev2">&gt;&gt;     for some other system of leap seconds to be used. (I don't know if there
</em><br />
<em class="quotelev2">&gt;&gt;     are others.) For backward compatibility, considering history, the
</em><br />
<em class="quotelev2">&gt;&gt;     default value for this attribute would probably be &quot;UTC&quot;.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Clearly, having epoch time stamps with time zone offsets from UTC, as 
</em><br />
<em class="quotelev2">&gt;&gt; described in the CF conventions, would be OK as well. I'm also open 
</em><br />
<em class="quotelev2">&gt;&gt; to other namings for the new attribute and for its possible values. 
</em><br />
<em class="quotelev2">&gt;&gt; The leap seconds only become an issue in certain rather specific 
</em><br />
<em class="quotelev2">&gt;&gt; instances, so I think that such an attribute, along with a bit of 
</em><br />
<em class="quotelev2">&gt;&gt; discussion in the document, would likely be sufficient to warn those 
</em><br />
<em class="quotelev2">&gt;&gt; people that may find themselves negatively affected by improper leap 
</em><br />
<em class="quotelev2">&gt;&gt; second handling.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Grace and peace,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Jim
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; On 4/27/15 1:07 PM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Dear Jim
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; I don't think calendars are the right place to encode this. We 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; could add a new &quot;time_system&quot; attribute where you would declare 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; whether your time stamps and elapsed times were based on UTC, GPS, TAI, etc.
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; If we take this route, we should require the elapsed times to 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; encode leap seconds if the time system is UTC, and state that the 
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt; default time system is UTC.
</em><br />
<em class="quotelev3">&gt;&gt;&gt; I think this is a calendar issue because the calendar is the set of 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; rules which translate between components of time (YMDhms) and 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; elapsed time (in fixed time units) since the reference time. Your 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; later email seems to me to be consistent with that. In the real 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; world, the elapsed interval (expressed e.g. as the number of 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; seconds) between the ref YMDhms and the actual YMDhs depends on whether your calendar includes leap seconds (UTC) or not (GPS).
</em><br />
<em class="quotelev3">&gt;&gt;&gt; It seems that GPS is the calendar likely to have been assumed in 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; existing CF datasets, so it would be logical to say that the default 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; is the real- world calendar without leap seconds. Have I 
</em><br />
<em class="quotelev3">&gt;&gt;&gt; misunderstood something? If we regard this as a property of the calendar, we don't need a new attribute.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Best wishes
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt; Jonathan
</em><br />
<em class="quotelev3">&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; --
</em><br />
<em class="quotelev1">&gt; &lt;CicsLogoTiny.png&gt; &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt;Visit us on
</em><br />
<em class="quotelev1">&gt; Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; 	*Jim Biard*
</em><br />
<em class="quotelev1">&gt; *Research Scholar*
</em><br />
<em class="quotelev1">&gt; Cooperative Institute for Climate and Satellites NC 
</em><br />
<em class="quotelev1">&gt; &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt; North Carolina State University 
</em><br />
<em class="quotelev1">&gt; &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt; NOAA National Centers for Environmental Information 
</em><br />
<em class="quotelev1">&gt; &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt; /formerly NOAA?s National Climatic Data 
</em><br />
<em class="quotelev1">&gt; Center/
</em><br />
<em class="quotelev1">&gt; 151 Patton Ave, Asheville, NC 28801
</em><br />
<em class="quotelev1">&gt; e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt;
</em><br />
<em class="quotelev1">&gt; o: +1 828 271 4900
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; /We will be updating our social media soon. Follow our current 
</em><br />
<em class="quotelev1">&gt; Facebook (NOAA National Climatic Data Center 
</em><br />
<em class="quotelev1">&gt; &lt;<a href="https://www.facebook.com/NOAANationalClimaticDataCenter">https://www.facebook.com/NOAANationalClimaticDataCenter</a>&gt; and NOAA 
</em><br />
<em class="quotelev1">&gt; National Oceanographic Data Center
</em><br />
<em class="quotelev1">&gt; &lt;<a href="https://www.facebook.com/noaa.nodc">https://www.facebook.com/noaa.nodc</a>&gt;) and Twitter (_at_NOAANCDC 
</em><br />
<em class="quotelev1">&gt; &lt;<a href="https://twitter.com/NOAANCDC">https://twitter.com/NOAANCDC</a>&gt; and _at_NOAAOceanData
</em><br />
<em class="quotelev1">&gt; &lt;<a href="https://twitter.com/NOAAOceanData">https://twitter.com/NOAAOceanData</a>&gt;) accounts for the latest 
</em><br />
<em class="quotelev1">&gt; information./
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu &lt;mailto:CF-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<br /><pre>
-- 
CICS-NC &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; 	*Jim Biard*
*Research Scholar*
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
NOAA National Centers for Environmental Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
/formerly NOAA?s National Climatic Data Center/
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
/We will be updating our social media soon. Follow our current Facebook 
(NOAA National Climatic Data Center 
&lt;<a href="https://www.facebook.com/NOAANationalClimaticDataCenter">https://www.facebook.com/NOAANationalClimaticDataCenter</a>&gt; and NOAA 
National Oceanographic Data Center &lt;<a href="https://www.facebook.com/noaa.nodc">https://www.facebook.com/noaa.nodc</a>&gt;) 
and Twitter (_at_NOAANCDC &lt;<a href="https://twitter.com/NOAANCDC">https://twitter.com/NOAANCDC</a>&gt; and @NOAAOceanData 
&lt;<a href="https://twitter.com/NOAAOceanData">https://twitter.com/NOAAOceanData</a>&gt;) accounts for the latest information./
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150429/a22f1a7e/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150429/a22f1a7e/attachment.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CicsLogoTiny.png
Type: image/png
Size: 15784 bytes
Desc: not available
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150429/a22f1a7e/attachment.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150429/a22f1a7e/attachment.png</a>&gt;
------------------------------
Subject: Digest Footer
_______________________________________________
CF-metadata mailing list
CF-metadata at cgd.ucar.edu
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
------------------------------
End of CF-metadata Digest, Vol 144, Issue 20
********************************************
</pre>
<span id="received"><dfn>Received on</dfn> Wed Apr 29 2015 - 11:28:40 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6912">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6913.html" title="Next message in the list">Jim Biard: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6911.html" title="Previous message in the list">Jim Biard: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./6915.html" title="Next message in this discussion thread">Jim Biard: "[CF-metadata] CF-metadata Digest, Vol 144, Issue 20"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./6915.html" title="Message sent in reply to this message">Jim Biard: "[CF-metadata] CF-metadata Digest, Vol 144, Issue 20"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6912" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6912" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6912" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6912" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:54 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6911.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6913.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
