<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] How to define time coordinate in GPS? from Jim Biard on 2015-05-11 (cf-metadata-mailman)</title>
<meta name="Author" content="Jim Biard (jbiard)" />
<meta name="Subject" content="[CF-metadata] How to define time coordinate in GPS?" />
<meta name="Date" content="2015-05-11" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./6962.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6964.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] How to define time coordinate in GPS?</h1>
<!-- received="Mon May 11 12:58:06 2015" -->
<!-- isoreceived="20150511115806" -->
<!-- sent="Mon, 11 May 2015 14:58:06 -0400" -->
<!-- isosent="20150511185806" -->
<!-- name="Jim Biard" -->
<!-- email="jbiard" -->
<!-- subject="[CF-metadata] How to define time coordinate in GPS?" -->
<!-- id="5550FBBE.8020907_at_cicsnc.org" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="CALGmxELKFAv1rtBRRTNfB2tCdMyE2_Evxgx4FdgGqQ=0atnKAg_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start6963" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./6964.html" accesskey="d" title="David Hassell: &quot;[CF-metadata] [CF Metadata] CF trac ticket summary update&quot;">Next message</a> ]
[ <a href="./6962.html" title="Chris Barker: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Previous message</a> ]
[ <a href="./6962.html" title="Chris Barker: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./6966.html" accesskey="t" title="Chris Barker: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6963" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6963" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6963" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6963" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jim Biard &lt;<a href="mailto:jbiard?Subject=Re%3A%20%5BCF-metadata%5D%20How%20to%20define%20time%20coordinate%20in%20GPS%3F">jbiard</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 11 May 2015 14:58:06 -0400</span><br />
</address>
<br />
Chris,
<br />
<br />I agree that in many cases the implications of mistakes in which 
<br />
calendar and/or time system was used when creating or using a given file 
<br />
are often negligible. This is one of those situations where it most 
<br />
often doesn't really matter, but it sometimes can matter a lot. If you 
<br />
are working with 1 km resolution data from a satellite that is moving at 
<br />
~7 km/sec, then even a 1 second discrepancy is significant. If the time 
<br />
span over your full set of files is long enough that a leap second event 
<br />
is included, then even time differences taken between points within your 
<br />
set of files can be wrong.
<br />
<br />Because this is something that is often insignificant, I proposed a 
<br />
combination clarified definitions, and additional attributes and/or 
<br />
optional modifiers to calendar names that allow for greater precision 
<br />
when it matters without sacrificing backward compatibility for large 
<br />
numbers of datasets.
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br />On 5/11/15 2:18 PM, Chris Barker wrote:
<br />
<em class="quotelev1">&gt; All,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I'm a bit confused as to why this is as big a deal at it seems be. I 
</em><br />
<em class="quotelev1">&gt; _think_ I understand the implication of different calendars, leap 
</em><br />
<em class="quotelev1">&gt; seconds, etc, but:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; CF encodes time as &quot;some unit of time since an epoch&quot;. e.g. &quot;seconds 
</em><br />
<em class="quotelev1">&gt; since 2015-05-08T00:00:00+00:00&quot;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; This encoding makes the whole calendar thing a LOT easier than it 
</em><br />
<em class="quotelev1">&gt; could be, because the ONLY place the calendar matters is in the epoch 
</em><br />
<em class="quotelev1">&gt; specification.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; So for the most part, it's up to the client code to figure out what 
</em><br />
<em class="quotelev1">&gt; calendar to use, and how to use it (If there is a need to translate 
</em><br />
<em class="quotelev1">&gt; the rest of the time series to &quot;human date-times&quot;. In fact, a while 
</em><br />
<em class="quotelev1">&gt; back there was a discussion of allowing ISO8601 strings, rather than 
</em><br />
<em class="quotelev1">&gt; this &quot;time since&quot; stuff for time axis -- darn good we didn't go with that!
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; So: which calendar the epoch is specified in should be clearly 
</em><br />
<em class="quotelev1">&gt; defined, but:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; data creators know what they want -- and if they use a epoch near the 
</em><br />
<em class="quotelev1">&gt; time of concern, it gets much harder for the users to get it wrong.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; if users interpret it wrong, it only really matters when you are 
</em><br />
<em class="quotelev1">&gt; comparing the data in this file with data from some other source, and 
</em><br />
<em class="quotelev1">&gt; doing it differently for those two -- pretty unlikely, actually.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; leap seconds rarely matter in this context -- you process your data 
</em><br />
<em class="quotelev1">&gt; with or without them, but the worst possible result is the entire data 
</em><br />
<em class="quotelev1">&gt; set being off a couple seconds from another whole data set -- and if 
</em><br />
<em class="quotelev1">&gt; the content creators use a epoch near where the data actually are, 
</em><br />
<em class="quotelev1">&gt; then that wont even be off.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; In short -- yes, CF should be clear and precise, but we don't need to 
</em><br />
<em class="quotelev1">&gt; get all worked up about older CF data sets not having a clearly 
</em><br />
<em class="quotelev1">&gt; defined default calendar -- if it really matters (which it very rarely 
</em><br />
<em class="quotelev1">&gt; will), then presumably new datasets will be created with well defined 
</em><br />
<em class="quotelev1">&gt; calendars.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Just my $0.02
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -Chris
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On Mon, May 11, 2015 at 7:35 AM, Jim Biard &lt;jbiard at cicsnc.org 
</em><br />
<em class="quotelev1">&gt; &lt;mailto:jbiard at cicsnc.org&gt;&gt; wrote:
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     Jonathan,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     I still think there's
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     On 5/10/15 3:29 AM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev2">&gt;&gt;     Dear all
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     A postscript to my last message. I am not myself convinced that the backward
</em><br />
<em class="quotelev2">&gt;&gt;     incompatibility (for data-writing) that I suggested below is really worth the
</em><br />
<em class="quotelev2">&gt;&gt;     pain it would cause! I think it might well be OK to retain the existing
</em><br />
<em class="quotelev2">&gt;&gt;     calendar name of &quot;gregorian&quot; from CF1.7, but give it a more precise definition,
</em><br />
<em class="quotelev2">&gt;&gt;     in order to eliminate the ambiguity about leap seconds. (Of course, there is
</em><br />
<em class="quotelev2">&gt;&gt;     nothing we can do to remedy this with existing data.)
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     With all the arguments otherwise unaltered, that would make my proposal:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We redefine &quot;gregorian&quot;, and introduce a new calendar &quot;gregorian_utc&quot;, for
</em><br />
<em class="quotelev2">&gt;&gt;     the real-world calendar, without and with UTC leap seconds respectively.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We abolish the &quot;standard&quot; calendar (since one thing this discussion has
</em><br />
<em class="quotelev2">&gt;&gt;     shown is that there is not a single standard!) and we require the calendar
</em><br />
<em class="quotelev2">&gt;&gt;     always to be specified (no default).
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We state that all the other calendars have fixed-length days with no leap
</em><br />
<em class="quotelev2">&gt;&gt;     seconds.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     My further suggestions, about dealing with the Julian/Gregorian transition
</em><br />
<em class="quotelev2">&gt;&gt;     and negative years in better ways, are unaffected (except to retain the name
</em><br />
<em class="quotelev2">&gt;&gt;     &quot;gregorian&quot;). Those are an optional extra, dealing with a different subject,
</em><br />
<em class="quotelev2">&gt;&gt;     but it would be opportune to do both at once.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Cheers
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Jonathan
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     ----- Forwarded message from Jonathan Gregory &lt;j.m.gregory at reading.ac.uk  &lt;mailto:j.m.gregory at reading.ac.uk&gt;-----
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Dear Jim
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Yes, I'm glad we appear to be approaching an agreement!
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     &quot;In order to calculate a new date and time given a base date, base time and a
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     time increment one must know what calendar to use.&quot;
</em><br />
<em class="quotelev4">&gt;&gt;&gt;&gt;     and I think that is the sense in which I am using &quot;calendar&quot;.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     I agree that this is a CF-consistent usage of the word calendar, but
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     it runs against natural usage, and I think it's worth keeping that
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     in mind.
</em><br />
<em class="quotelev2">&gt;&gt;     OK. Perhaps we can clarify what we mean in the CF convention.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     I agree that leap seconds haven't been carefully considered before.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     I disagree that nearly all existing time values have been encoded
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     without leap seconds. I'd say that nearly all existing time values
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     that were derived from true UTC timestamps are at risk of having
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     leap second discontinuities encoded into the set of values.
</em><br />
<em class="quotelev2">&gt;&gt;     All right. In that case I think we may have to take more serious steps to
</em><br />
<em class="quotelev2">&gt;&gt;     avoid future problems. I'll come back to that.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     There are three issues here, so let's not conflate them. They are:
</em><br />
<em class="quotelev3">&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     1. What to call the time system that is like UTC in overall form
</em><br />
<em class="quotelev3">&gt;&gt;&gt;         (Greenwich meridian, etc) but doesn't include leap seconds.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     2. How to indicate which actual time system is being used for the time
</em><br />
<em class="quotelev3">&gt;&gt;&gt;         part of the reference time in the units attribute.
</em><br />
<em class="quotelev3">&gt;&gt;&gt;     3. How to indicate whether or not the elapsed times in the time
</em><br />
<em class="quotelev3">&gt;&gt;&gt;         variable are certain to be free of leap second induced discontinuities.
</em><br />
<em class="quotelev2">&gt;&gt;     This is a useful classification, thanks, but I don't think the situation is
</em><br />
<em class="quotelev2">&gt;&gt;     quite as complicated as that.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     I'm not sure (2) is something we need to be concerned about - but it may
</em><br />
<em class="quotelev2">&gt;&gt;     be I've missed a point. In my understanding, there is no calendar implied by
</em><br />
<em class="quotelev2">&gt;&gt;     the reference time, because it's given as a timestamp YYYY-MM-DD hh:mm:ss
</em><br />
<em class="quotelev2">&gt;&gt;     [+-hh:mm], where the [] is the optional time-zone. A timestamp is calendar-
</em><br />
<em class="quotelev2">&gt;&gt;     neutral; it can be interpreted in any calendar, except that some dates will be
</em><br />
<em class="quotelev2">&gt;&gt;     illegal in some calendars, and some times might be illegal if leap seconds are
</em><br />
<em class="quotelev2">&gt;&gt;     in effect. The reference date-time is used for encoding and decoding in the
</em><br />
<em class="quotelev2">&gt;&gt;     calendar specified, with or without leap seconds, but itself implies nothing
</em><br />
<em class="quotelev2">&gt;&gt;     about the time system. We could state it as a requirement of CF that the
</em><br />
<em class="quotelev2">&gt;&gt;     reference date and time must be legal in the encoding which applies to the time
</em><br />
<em class="quotelev2">&gt;&gt;     coordinate.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Regarding part of (1), we need a name for the time-zone which applies at the
</em><br />
<em class="quotelev2">&gt;&gt;     Greenwich meridian without summer/daylight-saving time. We shouldn't use &quot;UTC&quot;,
</em><br />
<em class="quotelev2">&gt;&gt;     as the CF standard currently does (quoting from udunits(3)), because that's
</em><br />
<em class="quotelev2">&gt;&gt;     confusing. Maybe it should just be stated explicitly as I have done!
</em><br />
<em class="quotelev1">&gt;     I agree that it's important to write an explicit definition of the
</em><br />
<em class="quotelev1">&gt;     timestamp that doesn't reference UTC. I don't see timestamps as
</em><br />
<em class="quotelev1">&gt;     being time system neutral any more than datestamps are calendar
</em><br />
<em class="quotelev1">&gt;     neutral. They may be interpretable by more than one system, but
</em><br />
<em class="quotelev1">&gt;     that's not the same thing in my mind as neutrality.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     You can read a Gregorian date as a Julian date, but you are going
</em><br />
<em class="quotelev1">&gt;     to be off by a number of days. You can read a UTC time as a
</em><br />
<em class="quotelev1">&gt;     traditional time, but you are going to be off by a number of
</em><br />
<em class="quotelev1">&gt;     seconds. The new calendars you propose would address the question
</em><br />
<em class="quotelev1">&gt;     of what systems (calendar and time) were used for all parts of the
</em><br />
<em class="quotelev1">&gt;     time reference in the units attribute. That is what they
</em><br />
<em class="quotelev1">&gt;     accomplish, they address point (2). They don't really address
</em><br />
<em class="quotelev1">&gt;     point (3) at all.
</em><br />
<em class="quotelev2">&gt;&gt;     To address point (3), I continue to favour a subspecies of calendar name,
</em><br />
<em class="quotelev2">&gt;&gt;     rather than a modifier or separate attribute, because this distinction only
</em><br />
<em class="quotelev2">&gt;&gt;     applies to the real-world calendars. A decomposition of metadata is cumbersome
</em><br />
<em class="quotelev2">&gt;&gt;     if it isn't generally relevant. Suppose X can take values X1 or X2; if it's X1
</em><br />
<em class="quotelev2">&gt;&gt;     then Y can be Y1 or Y2, whereas Y is irrelevant if it's X2. In that situation I
</em><br />
<em class="quotelev2">&gt;&gt;     would have a single attribute with possible values X1_Y1 X1_Y2 and X2. A single
</em><br />
<em class="quotelev2">&gt;&gt;     attribute is easier for scanning a dataset, less work to write and read, and
</em><br />
<em class="quotelev2">&gt;&gt;     more likely to be correct because it's less likely that Y will not be coded if
</em><br />
<em class="quotelev2">&gt;&gt;     relevant or will be coded if irrelevant.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     I suggest that the leap seconds are needed only in the Gregorian calendar i.e.
</em><br />
<em class="quotelev2">&gt;&gt;     the real-world one. I think it's unlikely the proleptic Gregorian calendar will
</em><br />
<em class="quotelev2">&gt;&gt;     be used with leap-seconds; you only need this calendar if you're going back
</em><br />
<em class="quotelev2">&gt;&gt;     more than several centuries, in which case it's probably not a dataset which
</em><br />
<em class="quotelev2">&gt;&gt;     has UTC precision in time, and it's most often used with models, which do not
</em><br />
<em class="quotelev2">&gt;&gt;     have leap seconds. (However, a leap-second variety could be introduced if I am
</em><br />
<em class="quotelev2">&gt;&gt;     wrong and it is needed.) Leap seconds are not needed in the noleap, all_leap,
</em><br />
<em class="quotelev2">&gt;&gt;     360_day and none calendars, which are all for model worlds. The julian calendar
</em><br />
<em class="quotelev2">&gt;&gt;     is used astronomically and might be used in models, but the web page you
</em><br />
<em class="quotelev2">&gt;&gt;     cited (<a href="http://www.ucolick.org/~sla/leapsecs/timescales.html">http://www.ucolick.org/~sla/leapsecs/timescales.html</a>  &lt;<a href="http://www.ucolick.org/%7Esla/leapsecs/timescales.html">http://www.ucolick.org/%7Esla/leapsecs/timescales.html</a>&gt;) points out that's
</em><br />
<em class="quotelev2">&gt;&gt;     not a good idea to try to use it with leap seconds since it's based on units
</em><br />
<em class="quotelev2">&gt;&gt;     of day (=86400 s).
</em><br />
<em class="quotelev1">&gt;     Point (3) relates to the question of which calculator
</em><br />
<em class="quotelev1">&gt;     (implementation of a calendar and/or time system as software for
</em><br />
<em class="quotelev1">&gt;     converting date and/or time stamps to elapsed times since an
</em><br />
<em class="quotelev1">&gt;     epoch) was used to create the elapsed time values found in a given
</em><br />
<em class="quotelev1">&gt;     time variable. This question is largely independent of the
</em><br />
<em class="quotelev1">&gt;     question of which systems are represented by the reference date
</em><br />
<em class="quotelev1">&gt;     and time in the units attribute. An example in terms of dates
</em><br />
<em class="quotelev1">&gt;     alone may help clarify the issue.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     I have a set of datestamps that are based on the Gregorian
</em><br />
<em class="quotelev1">&gt;     calendar. I calculate elapsed days from the reference date stored
</em><br />
<em class="quotelev1">&gt;     in my units attribute on my time variable and populate my time
</em><br />
<em class="quotelev1">&gt;     variable with the values. I use a calculator that is based on the
</em><br />
<em class="quotelev1">&gt;     rules of the Julian calendar to get my elapsed times.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     As long as the span of dates from the reference date to the last
</em><br />
<em class="quotelev1">&gt;     datestamp in my set don't cross any year where the two calendars
</em><br />
<em class="quotelev1">&gt;     differ on whether or not to add a leap day, the values stored in
</em><br />
<em class="quotelev1">&gt;     my time variable will be correct. But a 1-day discontinuity will
</em><br />
<em class="quotelev1">&gt;     be encoded into my elapsed day values each time I do cross a place
</em><br />
<em class="quotelev1">&gt;     where the Julian and Gregorian calendars differ.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     If I turn my elapsed dates back into datestamps using the same
</em><br />
<em class="quotelev1">&gt;     Julian date calculator, no one will notice. If I instead use a
</em><br />
<em class="quotelev1">&gt;     Gregorian date calculator to recover datestamps and one or more
</em><br />
<em class="quotelev1">&gt;     discontinuities were encoded, I will find that I don't get back
</em><br />
<em class="quotelev1">&gt;     the same set of datestamps I started with. If I try to take
</em><br />
<em class="quotelev1">&gt;     differences between time variable values and one or more
</em><br />
<em class="quotelev1">&gt;     discontinuities were encoded, I will find that the results will
</em><br />
<em class="quotelev1">&gt;     contain an error if the difference is taken across the location of
</em><br />
<em class="quotelev1">&gt;     a discontinuity.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     This may sound a bit silly when speaking of Gregorian vs Julian
</em><br />
<em class="quotelev1">&gt;     calendars, but this is exactly what has been happening on the time
</em><br />
<em class="quotelev1">&gt;     system level when people have received UTC timestamps and naively
</em><br />
<em class="quotelev1">&gt;     used the *nix time functions to create elapsed time values to
</em><br />
<em class="quotelev1">&gt;     store into time variables. More explicitly defining the time
</em><br />
<em class="quotelev1">&gt;     system used for the time part of the reference date and time in
</em><br />
<em class="quotelev1">&gt;     the units attribute via an expanded calendar definition does not
</em><br />
<em class="quotelev1">&gt;     tell you how the elapsed times stored in the time variable were
</em><br />
<em class="quotelev1">&gt;     calculated.
</em><br />
<em class="quotelev2">&gt;&gt;     If this is the case, then I would propose that in the next version of CF:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We introduce two new calendars, &quot;gregorian_noleaps&quot; and &quot;gregorian_utc&quot;, for
</em><br />
<em class="quotelev2">&gt;&gt;     the real-world calendar, without and with UTC leap seconds respectively. I
</em><br />
<em class="quotelev2">&gt;&gt;     suggest &quot;noleaps&quot; instead of &quot;traditional&quot;, which you put forward, because
</em><br />
<em class="quotelev2">&gt;&gt;     &quot;noleaps&quot; is more self-explanatory, I think. I agree with you that &quot;POSIX&quot; is
</em><br />
<em class="quotelev2">&gt;&gt;     not so good because it implies a reference time.
</em><br />
<em class="quotelev1">&gt;     I agree with Ben Hetland that if we were to go with new calendars
</em><br />
<em class="quotelev1">&gt;     to address point (2) we should use a name like
</em><br />
<em class="quotelev1">&gt;     gregorian_noleapseconds or gregorian_noleapsec. I disagree with
</em><br />
<em class="quotelev1">&gt;     Ben about the question of how difficult it is to parse a fixed
</em><br />
<em class="quotelev1">&gt;     &quot;calender [time-system [encoding]]&quot; sequence.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     I think that backward compatibility, among other things, argues in
</em><br />
<em class="quotelev1">&gt;     favor of adding trailing space-separated modifiers to existing
</em><br />
<em class="quotelev1">&gt;     calendar names. Even if we end up going with some version of your
</em><br />
<em class="quotelev1">&gt;     proposed new calendar names, it's important to understand that
</em><br />
<em class="quotelev1">&gt;     those new names and definitions don't solve the issue in point (3).
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We abolish the &quot;gregorian&quot; and &quot;standard&quot; calendars, and we require the
</em><br />
<em class="quotelev2">&gt;&gt;     calendar always to be specified (no default). This would be quite a radical
</em><br />
<em class="quotelev2">&gt;&gt;     step, but forcing the noleaps/utc property to be explicitly stated is only way
</em><br />
<em class="quotelev2">&gt;&gt;     I can see to avoid in future the ambiguity about whether elapsed times have
</em><br />
<em class="quotelev2">&gt;&gt;     been encoded with or without leap seconds. This does not invalidate existing
</em><br />
<em class="quotelev2">&gt;&gt;     data that adheres to CF1.6 or earlier, but it would invalidate existing
</em><br />
<em class="quotelev2">&gt;&gt;     data-writing software that does not write the calendar attribute, and it would
</em><br />
<em class="quotelev2">&gt;&gt;     require data-reading software to recognise the new calendars (although if it
</em><br />
<em class="quotelev2">&gt;&gt;     assumed the existing default for them that would not be too bad).
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We state that all the other calendars have fixed-length days with no leap
</em><br />
<em class="quotelev2">&gt;&gt;     seconds.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     What do you think? Is it worth the pain?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Although it's going to complicate this discussion, if we decided to abolish the
</em><br />
<em class="quotelev2">&gt;&gt;     existing default, we could take this opportunity to deal with problems with the
</em><br />
<em class="quotelev2">&gt;&gt;     mixed Julian/Gregorian calendar, as in<a href="http://cf-trac.llnl.gov/trac/ticket/96">http://cf-trac.llnl.gov/trac/ticket/96</a>,
</em><br />
<em class="quotelev2">&gt;&gt;     opened by Dave Allured, but never concluded. To do that I would further propose
</em><br />
<em class="quotelev2">&gt;&gt;     (copying some text from that ticket):
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * The gregorian_noleaps and gregorian_utc calendars can be used only to encode
</em><br />
<em class="quotelev2">&gt;&gt;     dates since 1582-10-15, and must not have reference dates earlier than that.
</em><br />
<em class="quotelev2">&gt;&gt;     This means they cannot cross the Julian/Gregorian transition. This is desirable
</em><br />
<em class="quotelev2">&gt;&gt;     because there are ambiguities introduced by assuming different dates for the
</em><br />
<em class="quotelev2">&gt;&gt;     change in calendar. By this rule, the common choice of 1-1-1 as a reference
</em><br />
<em class="quotelev2">&gt;&gt;     date would be disallowed in these calendars, for example.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We introduce a new calendar &quot;mixed_gregorian_julian&quot;, which is the calendar
</em><br />
<em class="quotelev2">&gt;&gt;     of udunits, with no leap seconds. However we make it stricter than currently,
</em><br />
<em class="quotelev2">&gt;&gt;     in these ways: (1) The reference date is not allowed to be any of the dates in
</em><br />
<em class="quotelev2">&gt;&gt;     the transitional period 1582-10-5 to 1582-10-14 inclusive. (2) Neither the
</em><br />
<em class="quotelev2">&gt;&gt;     reference date nor any date which is encoded with this calendar is allowed to
</em><br />
<em class="quotelev2">&gt;&gt;     be a negative year. (3) Year 0 is interpreted as climatological time in this
</em><br />
<em class="quotelev2">&gt;&gt;     calendar, following COARDS, but this is deprecated in favour of the CF
</em><br />
<em class="quotelev2">&gt;&gt;     conventions of Sect 7.4.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * Because of problems caused by the discontinuity, it is recommended that the
</em><br />
<em class="quotelev2">&gt;&gt;     mixed_gregorian_julian calendar be used only in datasets with real-world
</em><br />
<em class="quotelev2">&gt;&gt;     historical dates which span the change of calendar from Julian to Gregorian. In
</em><br />
<em class="quotelev2">&gt;&gt;     datasets with real-world historical dates that all precede the change of
</em><br />
<em class="quotelev2">&gt;&gt;     calendar, the julian calendar should be used. In datasets with real-world
</em><br />
<em class="quotelev2">&gt;&gt;     historical dates that all follow the change of calendar, and in simulated
</em><br />
<em class="quotelev2">&gt;&gt;     datasets in which there is no change of calendar, the proleptic_gregorian
</em><br />
<em class="quotelev2">&gt;&gt;     calendar should be used.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We disallow dates to be encoded or reference dates to be used in year zero or
</em><br />
<em class="quotelev2">&gt;&gt;     negative years for the julian calendar, because it's ambiguous whether this
</em><br />
<em class="quotelev2">&gt;&gt;     calendar has a year 0.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     * We state that year 0 is valid in the proleptic_gregorian, noleap, all_leap,
</em><br />
<em class="quotelev2">&gt;&gt;     360_day and none calendars.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     If these further proposals complicate the previous discussion, we can defer
</em><br />
<em class="quotelev2">&gt;&gt;     them until we've reached agreement on leap seconds!
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Best wishes
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     Jonathan
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     ----- End forwarded message -----
</em><br />
<em class="quotelev2">&gt;&gt;     _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt;     CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt;     CF-metadata at cgd.ucar.edu  &lt;mailto:CF-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev2">&gt;&gt;     <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;     Grace and peace,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     Jim
</em><br />
<em class="quotelev1">&gt;     -- 
</em><br />
<em class="quotelev1">&gt;     CICS-NC &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
</em><br />
<em class="quotelev1">&gt;     Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; 	*Jim Biard*
</em><br />
<em class="quotelev1">&gt;     *Research Scholar*
</em><br />
<em class="quotelev1">&gt;     Cooperative Institute for Climate and Satellites NC
</em><br />
<em class="quotelev1">&gt;     &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
</em><br />
<em class="quotelev1">&gt;     North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
</em><br />
<em class="quotelev1">&gt;     NOAA National Centers for Environmental Information
</em><br />
<em class="quotelev1">&gt;     &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
</em><br />
<em class="quotelev1">&gt;     /formerly NOAA?s National Climatic Data Center/
</em><br />
<em class="quotelev1">&gt;     151 Patton Ave, Asheville, NC 28801
</em><br />
<em class="quotelev1">&gt;     e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt;
</em><br />
<em class="quotelev1">&gt;     o: +1 828 271 4900 &lt;tel:%2B1%20828%20271%204900&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     /We will be updating our social media soon. Follow our current
</em><br />
<em class="quotelev1">&gt;     Facebook (NOAA National Climatic Data Center
</em><br />
<em class="quotelev1">&gt;     &lt;<a href="https://www.facebook.com/NOAANationalClimaticDataCenter">https://www.facebook.com/NOAANationalClimaticDataCenter</a>&gt; and NOAA
</em><br />
<em class="quotelev1">&gt;     National Oceanographic Data Center
</em><br />
<em class="quotelev1">&gt;     &lt;<a href="https://www.facebook.com/noaa.nodc">https://www.facebook.com/noaa.nodc</a>&gt;) and Twitter (_at_NOAANCDC
</em><br />
<em class="quotelev1">&gt;     &lt;<a href="https://twitter.com/NOAANCDC">https://twitter.com/NOAANCDC</a>&gt; and _at_NOAAOceanData
</em><br />
<em class="quotelev1">&gt;     &lt;<a href="https://twitter.com/NOAAOceanData">https://twitter.com/NOAAOceanData</a>&gt;) accounts for the latest
</em><br />
<em class="quotelev1">&gt;     information./
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;     _______________________________________________
</em><br />
<em class="quotelev1">&gt;     CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt;     CF-metadata at cgd.ucar.edu &lt;mailto:CF-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev1">&gt;     <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; -- 
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Christopher Barker, Ph.D.
</em><br />
<em class="quotelev1">&gt; Oceanographer
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Emergency Response Division
</em><br />
<em class="quotelev1">&gt; NOAA/NOS/OR&amp;R            (206) 526-6959   voice
</em><br />
<em class="quotelev1">&gt; 7600 Sand Point Way NE   (206) 526-6329   fax
</em><br />
<em class="quotelev1">&gt; Seattle, WA  98115       (206) 526-6317   main reception
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Chris.Barker at noaa.gov &lt;mailto:Chris.Barker at noaa.gov&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br /><pre>
-- 
CICS-NC &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; 	*Jim Biard*
*Research Scholar*
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
NOAA National Centers for Environmental Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
/formerly NOAA?s National Climatic Data Center/
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
/We will be updating our social media soon. Follow our current Facebook 
(NOAA National Climatic Data Center 
&lt;<a href="https://www.facebook.com/NOAANationalClimaticDataCenter">https://www.facebook.com/NOAANationalClimaticDataCenter</a>&gt; and NOAA 
National Oceanographic Data Center &lt;<a href="https://www.facebook.com/noaa.nodc">https://www.facebook.com/noaa.nodc</a>&gt;) 
and Twitter (_at_NOAANCDC &lt;<a href="https://twitter.com/NOAANCDC">https://twitter.com/NOAANCDC</a>&gt; and @NOAAOceanData 
&lt;<a href="https://twitter.com/NOAAOceanData">https://twitter.com/NOAAOceanData</a>&gt;) accounts for the latest information./
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150511/b7f3f499/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150511/b7f3f499/attachment-0001.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 15784 bytes
Desc: not available
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150511/b7f3f499/attachment-0002.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150511/b7f3f499/attachment-0002.png</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CicsLogoTiny.png
Type: image/png
Size: 15784 bytes
Desc: not available
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150511/b7f3f499/attachment-0003.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150511/b7f3f499/attachment-0003.png</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Mon May 11 2015 - 12:58:06 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start6963">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./6964.html" title="Next message in the list">David Hassell: "[CF-metadata] [CF Metadata] CF trac ticket summary update"</a></li>
<li><dfn>Previous message</dfn>: <a href="./6962.html" title="Previous message in the list">Chris Barker: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<li><dfn>In reply to</dfn>: <a href="./6962.html" title="Message to which this message replies">Chris Barker: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./6966.html" title="Next message in this discussion thread">Chris Barker: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./6966.html" title="Message sent in reply to this message">Chris Barker: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg6963" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg6963" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg6963" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg6963" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:54 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./6962.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./6964.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
