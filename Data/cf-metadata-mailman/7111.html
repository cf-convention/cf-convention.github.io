<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] How to define time coordinate in GPS? from Jim Biard on 2015-06-11 (cf-metadata-mailman)</title>
<meta name="Author" content="Jim Biard (jbiard)" />
<meta name="Subject" content="[CF-metadata] How to define time coordinate in GPS?" />
<meta name="Date" content="2015-06-11" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7110.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7112.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] How to define time coordinate in GPS?</h1>
<!-- received="Thu Jun 11 11:02:52 2015" -->
<!-- isoreceived="20150611100252" -->
<!-- sent="Thu, 11 Jun 2015 13:02:52 -0400" -->
<!-- isosent="20150611170252" -->
<!-- name="Jim Biard" -->
<!-- email="jbiard" -->
<!-- subject="[CF-metadata] How to define time coordinate in GPS?" -->
<!-- id="5579BF3C.5040305_at_cicsnc.org" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="888F94E85551044BAE03E23F711A43F4D7D45F8F38_at_EXW10.eum.root.eumetsat.int" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7111" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7112.html" accesskey="d" title="Signell, Richard: &quot;[CF-metadata] Roms: ocean_s_coordinate_g1 and g2?&quot;">Next message</a> ]
[ <a href="./7110.html" title="Jim Biard: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Previous message</a> ]
[ <a href="./7109.html" title="Timothy Patterson: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./7114.html" accesskey="t" title="Timothy Patterson: &quot;[CF-metadata] How to define time coordinate in GPS?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7111" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7111" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7111" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7111" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jim Biard &lt;<a href="mailto:jbiard?Subject=Re%3A%20%5BCF-metadata%5D%20How%20to%20define%20time%20coordinate%20in%20GPS%3F">jbiard</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 11 Jun 2015 13:02:52 -0400</span><br />
</address>
<br />
Tim,
<br />
<br />On 6/11/15 12:00 PM, Timothy Patterson wrote:
<br />
<em class="quotelev1">&gt; ................Jim's Suggested Update...............
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 4.4.1 Calendar
</em><br />
<em class="quotelev1">&gt; In order to know what point in history has been measured by a given base date, base time, and time increment, one must know what calendar was used for the base date and time. The calendar attribute defines the particular date and time system that was used to express the reference time string found in the units attribute, and is assigned to the time coordinate variable. The values currently defined for calendar are:
</em><br />
<em class="quotelev1">&gt; ...............................................
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Although they aren't explicitly defined above, am I right to assume that using the standard units convention for time;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; 	time:units = &quot;days since 1990-1-1 0:0:0&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; the base date and base time correspond to the date/time string after the word &quot;since&quot; (1990-1-1 0:0:0) and the time increment corresponds to the units before the word &quot;since&quot; (days)?
</em><br />
Good question! I had assumed that the 'time increment' corresponded to 
<br />
an elapsed time value stored in the time variable, which is in the units 
<br />
declared in the 'before the word &quot;since&quot;' part of the units attribute. 
<br />
This should be reworded to make it clearer (whichever is meant).
<br />
<em class="quotelev1">&gt; Also that the calendar attribute would be applicable to the full units attribute - base date and base time and time increment.
</em><br />
To my way of thinking, the calendar attribute only applies to the base 
<br />
date and time. The measurement units (second, minute, hour, day, etc) 
<br />
are defined separately.
<br />
<em class="quotelev1">&gt; Doesn't this conflict with the current convention in Section 4.4 where it is strongly implied that the base date and time are always supplied as UTC times?
</em><br />
We have agreed that we need to rewrite section 4.4 to remove 
<br />
specification of UTC.
<br />
<em class="quotelev1">&gt; Also,  in Jonathan's last email he writes &quot; the encoded time coord is also an elapsed time, and is useful as such. The only situation in which it might have small dis- continuities is if the no-leap-second algorithm is used to encode and decode UTC and, as we have agreed, there should be a clear warning against not doing that if precision &lt;1 min is required.&quot;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; We are trying to use the CF conventions for instrument data and in this case, we're looking for much greater precision than 1 minute  so the difference between an encoded &quot;timestamp&quot; and an encoded &quot;elapsed time&quot; is important in our case.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Taking the suggested modified text at the start, would I be right in saying that the calendar modifier is also intended to modify the units.  So applying a UTC calendar to &quot;seconds since 1990-1-1 0:0:0&quot; is in effect modifying the units to be  &quot;utc_seconds since 1990-1-1 0:0:0&quot;, meaning that this is counted on a discontinuous UTC time scale and not a continuous elapsed seconds time scale.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; If my interpretation is correct, then this would remove the possibility  of being able to specify a point in time in UTC and then have a true elapsed count (i.e. continuous rather than with UTC leap second gaps) since that time. Some of our products are currently using this method to compact the time data. By counting up from a recent event (i.e. the start of a scan line) rather than the start of year 2000 we can encode the data as a ushort of milliseconds instead of a double of seconds. The timestamp of the start of the scan line is expressed as a UTC (according to my understanding of the current conventions) and the units as milliseconds.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; e.g.  time:units = &quot;milliseconds  since 2015-06-11 17:51:22&quot; ;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; We then work in relative times as we 're not interested in expressing these time values as a calendar &quot;timestamp&quot;.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Does this still work under the proposed scheme?
</em><br />
My position is that there are no 'UTC seconds'. There are only SI 
<br />
seconds. The elapsed times in a time variable should never contain 
<br />
discontinuities. In the proposed scheme, or even in the current scheme, 
<br />
you should always be able to work correctly in relative times. In the 
<br />
current scheme the time system used for the base time is effectively 
<br />
defined as UTC. As long as you correctly represent your base date and 
<br />
time using the Gregorian calendar and UTC time system, and correctly 
<br />
count your elapsed times, your time variable is correctly formed. (If 
<br />
your base date and time were originally provided as TAI time or 
<br />
something else besides UTC time, you would need to correctly convert 
<br />
your original base date and time to UTC.)
<br />
<br />One of my goals in the discussion we have been having is to make sure 
<br />
that we don't define time and calendars such that it's considered OK to 
<br />
encode discontinuities into the elapsed times in time variables.
<br />
<br />Jonathan's mention of encoding discontinuities is part of the 
<br />
acknowledged reality that people may well have started with UTC 
<br />
timestamps and used POSIX time conversion functions to them into elapsed 
<br />
times because they weren't aware of the pitfalls. If your time 
<br />
resolution is large in comparison to the possible errors introduced by 
<br />
doing so, then this error is effectively ignorable. In your case, such 
<br />
an error can be significant.
<br />
<br />The new scheme involves refining our definitions and adding calendars 
<br />
that include definitions of the time system used (UTC, GPS, TAI, etc) in 
<br />
addition to the date system used (Gregorian, etc). I don't want any of 
<br />
them to state or imply that it's OK to introduce discontinuities into 
<br />
the elapsed times stored in the variables.
<br />
<em class="quotelev1">&gt; Regards,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Tim
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Any email message from EUMETSAT is sent in good faith but shall neither be binding nor construed as constituting a commitment by EUMETSAT, except where provided for in a written agreement or contract or if explicitly stated in the email. Please note that any views or opinions presented in this email are solely those of the sender and do not necessarily represent those of EUMETSAT. This message and any attachments are intended for the sole use of the addressee(s) and may contain confidential and privileged information. Any unauthorised use, disclosure, dissemination or distribution (in whole or in part) of its contents is not permitted. If you received this message in error, please notify the sender and delete it from your system.
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
Grace and peace,
<br />
<br />Jim
<br />
<pre>
-- 
CICS-NC &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; 	*Jim Biard*
*Research Scholar*
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
NOAA National Centers for Environmental Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
/formerly NOAA?s National Climatic Data Center/
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
/Connect with us on Facebook for climate 
&lt;<a href="https://www.facebook.com/NOAANCEIclimate">https://www.facebook.com/NOAANCEIclimate</a>&gt; and ocean and geophysics 
&lt;<a href="https://www.facebook.com/NOAANCEIoceangeo">https://www.facebook.com/NOAANCEIoceangeo</a>&gt; information, and follow us 
on Twitter at _at_NOAANCEIclimate &lt;<a href="https://twitter.com/NOAANCEIclimate">https://twitter.com/NOAANCEIclimate</a>&gt; and 
_at_NOAANCEIocngeo &lt;<a href="https://twitter.com/NOAANCEIocngeo">https://twitter.com/NOAANCEIocngeo</a>&gt;. /
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150611/af581dec/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150611/af581dec/attachment-0001.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CicsLogoTiny.png
Type: image/png
Size: 15784 bytes
Desc: not available
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150611/af581dec/attachment-0001.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150611/af581dec/attachment-0001.png</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Thu Jun 11 2015 - 11:02:52 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7111">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7112.html" title="Next message in the list">Signell, Richard: "[CF-metadata] Roms: ocean_s_coordinate_g1 and g2?"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7110.html" title="Previous message in the list">Jim Biard: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7109.html" title="Message to which this message replies">Timothy Patterson: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./7114.html" title="Next message in this discussion thread">Timothy Patterson: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./7114.html" title="Message sent in reply to this message">Timothy Patterson: "[CF-metadata] How to define time coordinate in GPS?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7111" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7111" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7111" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7111" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:57 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7110.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7112.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
