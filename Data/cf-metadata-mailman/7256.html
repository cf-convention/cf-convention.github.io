<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] original_ensemble_size from Hedley, Mark on 2015-07-29 (cf-metadata-mailman)</title>
<meta name="Author" content="Hedley, Mark (mark.hedley)" />
<meta name="Subject" content="[CF-metadata] original_ensemble_size" />
<meta name="Date" content="2015-07-29" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7255.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7257.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] original_ensemble_size</h1>
<!-- received="Wed Jul 29 02:10:55 2015" -->
<!-- isoreceived="20150729011055" -->
<!-- sent="Wed, 29 Jul 2015 08:10:55 +0000" -->
<!-- isosent="20150729081055" -->
<!-- name="Hedley, Mark" -->
<!-- email="mark.hedley" -->
<!-- subject="[CF-metadata] original_ensemble_size" -->
<!-- id="7819C496F4E10E47BCEFBE74551AAC96346FD1CD_at_EXXCMPD1DAG3.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="55B189DB.7000701_at_llnl.gov" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7256" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7257.html" accesskey="d" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata] Applying multiple conventions&quot;">Next message</a> ]
[ <a href="./7255.html" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata] Specifying latitude and longitude of transects and regions (Karl Taylor)&quot;">Previous message</a> ]
[ <a href="./7249.html" title="Karl Taylor: &quot;[CF-metadata] original_ensemble_size&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./7254.html" accesskey="t" title="Hedley, Mark: &quot;[CF-metadata] original_ensemble_size&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7256" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7256" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7256" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7256" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hedley, Mark &lt;<a href="mailto:mark.hedley?Subject=Re%3A%20%5BCF-metadata%5D%20original_ensemble_size">mark.hedley</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 29 Jul 2015 08:10:55 +0000</span><br />
</address>
<br />
Hello Karl
<br />
<br />I agree with your analysis that it is unlikely that a data variable will ever vary with ensemble_size, so having ensemble_size as a scalar coordinate is slightly odd, in that we'd not expect it to be anything other than scalar.
<br />
It would meet my use case, but I can see the interest in other options.
<br />
<br />It seems to me that the rest of your thoughts are centred around cell_methods.
<br />
The conventions describe Cell Methods as:
<br />
7.3. Cell Methods
<br />
<br />To describe the characteristic of a field that is represented by cell values, we define the cell_methods attribute of the variable.
<br />
<br />It earlier describes Cells:
<br />
7. Data Representative of Cells
<br />
<br />When gridded data does not represent the point values of a field but instead represents some characteristic of the field within cells of finite &quot;volume,&quot; a complete description of the variable should include metadata that describes the domain or extent of each cell, and the characteristic of the field that the cell values represent.
<br />
<br />It is not clear to me that the case of defining an ensemble fits with this model as described. What is the 'characteristic of the field' within 'cells of finite volume' in this case?
<br />
<br />Is there appetite to extend the scope of Cell Methods to define such characteristics? What are the risks in doing this?  Is this proposal  extending Cell Methods into realms which are already nearly covered by other CF concepts?
<br />
<br />I don't have coherent answers to these queries, but I think they are worth a little thought before we delve too far into the details of encoding
<br />
<br />many thanks
<br />
mark
<br />
<br /><br />________________________________
<br />
From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu] on behalf of Karl Taylor [taylor13 at llnl.gov]
<br />
Sent: 24 July 2015 01:42
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] original_ensemble_size
<br />
<br />Hi all,
<br />
<br />This addresses the issue of how to associate an ensemble size with a variable.  It also suggests an alternate way of proceeding that is more general and will allow us to record, for example, which models were included in a multi-model mean.
<br />
<br />First to consider Jim's suggestion:
<br />
I agree with Jim that you might want to indicate which member (or members) of an ensemble were represented by the variable so you might want to include a coordinate variable of &quot;realization&quot;.  You could then also define an *attribute* of that coordinate as &quot;ensemble_size&quot; which would record the size, but currently that approach is not standardized (but of course is permitted) by our conventions.
<br />
<br />Now Mark's suggestion:
<br />
Mark's alternative approach to make &quot;ensemble_size&quot; a coordinate variable (presumably in addition to possibly including &quot;realization&quot;) would also relate it to the variable of interest, but this would be a bit unconventional since a variable would normally be considered to be a *function* of its (independent) coordinates.  I don't think T(x,realization,ensemble_size)  is a proper function, since T depends on x and realization, but should be independent of ensemble size in most cases.
<br />
<br />Jonathan's suggestion:
<br />
I think Jonathan suggested including ensemble_size in a cell_methods attribute.  For example
<br />
<br />dimensions:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon=72
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat=96
<br />
&nbsp;&nbsp;&nbsp;&nbsp;e_size=5
<br />
<br />variables:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;float precip(lon,lat)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precip: cell_methods=&quot;realization: point (sample_size: e_size)
<br />
<br />where because &quot;realization&quot; is a standard name, it does not need to be explicitly declared with a &quot;coordinates&quot; attribute.  Jonathan originally used &quot;dimension&quot; rather than &quot;sample_size&quot;, but I prefer &quot;sample_size&quot;.   If this approach were followed, then CF would need to be modified so that &quot;sample_size&quot; (along with &quot;interval&quot;) was designated to be one of the options for providing &quot;standardized&quot; extra information in the cell_methods attribute.  Note that the variable &quot;pointed to&quot; by original_domain would not necessarily be a coordinate variable; it need not be monotonic and it could be a character variable (i.e., a list).
<br />
<br />Alternative &quot;new approach&quot;
<br />
<br />An approach that is a slight variant on Jonathan's and would allow even more information to be provided concerning the ensemble is illustrated by the following example:
<br />
<br />dimensions:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon=72
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat=96
<br />
&nbsp;&nbsp;&nbsp;&nbsp;members=5
<br />
<br />variables:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;float precip(lon,lat)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precip: cell_methods=&quot;member: point (sample_pool: members)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;int member
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;member: standard_name=&quot;realization&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int members(members)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;members: standard_name=&quot;realization&quot;
<br />
<br />data:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;member = 3
<br />
&nbsp;&nbsp;&nbsp;&nbsp;members = 1, 3, 5, 6, 10
<br />
<br />This would tell you T was from the realization labeled 3 of a 5-member ensemble (with labels 1, 3, 5, 6, and 10).  If this approach were adopted, then CF would need to be modified so that &quot;sample_pool&quot; (along with &quot;interval&quot;) was designated to be one of the the options for providing &quot;standardized&quot; extra information in the cell_methods attribute.
<br />
<br />Under Jonathan's approach and also the &quot;new approach&quot;, there wouldn't be a need to define the standard_name &quot;ensemble_size&quot; because that would be provided by the dimension size (5 in the above).
<br />
<br />Note that the new approach could also be used to record a multi-model ensemble mean (I'm not absolutely sure this example complies with the current convention, but I think it would if  the option to designate the &quot;original_domain&quot; were added to CF):
<br />
<br />dimensions:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon=72
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat=96
<br />
&nbsp;&nbsp;&nbsp;&nbsp;models=5
<br />
&nbsp;&nbsp;&nbsp;&nbsp;max_len = 10
<br />
<br />variables:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;float precip(lon,lat)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precip: cell_methods=&quot;realization: mean (sample_pool: models)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char models(models, max_len)
<br />
<br />data:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;models = &quot;CanESM2&quot;, &quot;CESM1&quot;, &quot;CNRM-CM5&quot;, &quot;HadGEM2&quot;, &quot;MIROC-ESM&quot;
<br />
<br />Note also that the flexibility of this new approach could be useful for dimensions other than realization when, for example, the sampling interval for a spatial mean is from scattered stations.  If one were computing an spatial mean from 5 stations, for example, this could be recorded as follows:
<br />
<br />dimensions:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;stations=5
<br />
&nbsp;&nbsp;&nbsp;&nbsp;max_len=16
<br />
<br />variables:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;float precmean
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;precmean: cell_methods=&quot;area: mean (sample_pool: stations)&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;char stations(stations,max_len)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stations: coordinates=&quot;lat lon&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat(stations)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lat: standard_name=&quot;latitude&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon(stations)
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lon: standard_name=&quot;longitude&quot;
<br />
<br />data:
<br />
&nbsp;&nbsp;&nbsp;&nbsp;stations = &quot;Oakland&quot;, &quot;San Francisco&quot;, &quot;Livermore&quot;, &quot;San Jose&quot;, &quot;Palo Alto&quot;
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lat = 37.62, 37.77, ...
<br />
&nbsp;&nbsp;&nbsp;&nbsp;lon = -122.27, -122.42, ....
<br />
<br />I would find it very nice to be able to specify the models contributing to a multi-model mean using the above approach.  Anyone else think so?  It would also satisfy Mark's use case of wanting to record the size of the ensemble.
<br />
<br />Best regards,
<br />
Karl
<br />
<br />-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150729/67962dad/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150729/67962dad/attachment.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Wed Jul 29 2015 - 02:10:55 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7256">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7257.html" title="Next message in the list">martin.juckes at stfc.ac.uk: "[CF-metadata] Applying multiple conventions"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7255.html" title="Previous message in the list">martin.juckes at stfc.ac.uk: "[CF-metadata] Specifying latitude and longitude of transects and regions (Karl Taylor)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7249.html" title="Message to which this message replies">Karl Taylor: "[CF-metadata] original_ensemble_size"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./7254.html" title="Next message in this discussion thread">Hedley, Mark: "[CF-metadata] original_ensemble_size"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7256" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7256" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7256" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7256" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:58 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7255.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7257.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
