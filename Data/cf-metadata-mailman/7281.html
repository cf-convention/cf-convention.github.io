<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] original_ensemble_size from Hedley, Mark on 2015-08-17 (cf-metadata-mailman)</title>
<meta name="Author" content="Hedley, Mark (mark.hedley)" />
<meta name="Subject" content="[CF-metadata] original_ensemble_size" />
<meta name="Date" content="2015-08-17" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7280.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7282.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] original_ensemble_size</h1>
<!-- received="Mon Aug 17 07:33:30 2015" -->
<!-- isoreceived="20150817063330" -->
<!-- sent="Mon, 17 Aug 2015 13:33:30 +0000" -->
<!-- isosent="20150817133330" -->
<!-- name="Hedley, Mark" -->
<!-- email="mark.hedley" -->
<!-- subject="[CF-metadata] original_ensemble_size" -->
<!-- id="7819C496F4E10E47BCEFBE74551AAC9634701CD9_at_EXXCMPD1DAG3.cmpd1.metoffice.gov.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="7819C496F4E10E47BCEFBE74551AAC96347000C6_at_EXXCMPD1DAG3.cmpd1.metoffice.gov.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7281" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7282.html" accesskey="d" title="Andreas Hilboll: &quot;[CF-metadata] New standard name: angle between solar and sensor azimuth&quot;">Next message</a> ]
[ <a href="./7280.html" title="Stephane TAROT: &quot;[CF-metadata] standard names for sediment trap data&quot;">Previous message</a> ]
[ <a href="./7263.html" title="Hedley, Mark: &quot;[CF-metadata] original_ensemble_size&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./7250.html" accesskey="t" title="John Graybeal: &quot;[CF-metadata] original_ensemble_size&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7281" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7281" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7281" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7281" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Hedley, Mark &lt;<a href="mailto:mark.hedley?Subject=Re%3A%20%5BCF-metadata%5D%20original_ensemble_size">mark.hedley</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 17 Aug 2015 13:33:30 +0000</span><br />
</address>
<br />
many thanks to all the contributors to date on this discussion
<br />
<br />I have prepared a trac ticket, based on my latest considered opinion following the discussions here
<br />
<br /><a href="http://cf-trac.llnl.gov/trac/ticket/142">http://cf-trac.llnl.gov/trac/ticket/142</a>
<br />
<br />please consider further comments on this ticket, if appropriate
<br />
<br />thank you
<br />
mark
<br />
<br />________________________________
<br />
From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu] on behalf of Hedley, Mark [mark.hedley at metoffice.gov.uk]
<br />
Sent: 03 August 2015 17:10
<br />
To: Jim Biard; cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] original_ensemble_size
<br />
<br />Hello Jim
<br />
<br />I like your thinking on this topic.  I agree with you that this feels like metadata about the coordinate and that the coordinate could carry further information about the ensemble.
<br />
<br />A new coordinate attribute named ensemble_size, which is limited in scope to being used on a coordinate with a standard_name of realization sounds like a neat and simple solution to me
<br />
<br />If this approach is interesting, then I think that your suggestion of a new coordinate type in Chapter 5 is a good one.  This would provide some nice consistency with spatial and temporal coordinates and give  scope for future work in more detailed descriptions of ensembles.
<br />
<br />At the moment I think there is some value in separating the description of an ensemble dimensions from the description of statistical processes performed with respect to an ensemble dimension.  This leads me away from using cell_methods to meet my use case.
<br />
<br />many thanks
<br />
mark
<br />
<br />________________________________
<br />
From: Jim Biard [jbiard at cicsnc.org]
<br />
Sent: 29 July 2015 16:02
<br />
To: Hedley, Mark; cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] original_ensemble_size
<br />
<br />Mark,
<br />
<br />It seems to me that we have quite a few examples of coordinate variables that have extra attributes that further define the contents. Time coordinate variables, for example, have the calendar attribute. There are many standard names that direct the developer to specify an attribute (most always comment or flag_values/flag_meanings attributes) that further defines the contents. Any variable can validly have attributes associated with it.
<br />
<br />If having a specific attribute name that's not mentioned in the CF Conventions document called for in a standard name definition is too troubling, the standard name definition could call for putting a string of the form 'ensemble size N' in a comment attribute. Or it could call for putting the ensemble size in a comment section in the cell_methods attribute on the data variable as Jonathan and Karl's suggested. Jonathan and Karl's suggestions imply a change to the conventions, since they propose new standardized cell method comment names.
<br />
<br />In all of these cases the information will be available to a human who reads a file dump, but none of them make the information immediately available to software automation. The addition to the cell_methods attribute grammar is likely the least intrusive way to make it something that people can write general software for. The down side to this approach is that the information is not held with the coordinate variable, which is the most natural place for it.
<br />
<br />Another alternative is to add a new section to Chapter 5 that defines an ensemble or sample pool coordinate type (or whatever name you prefer). It may be worth the extra trouble to go ahead and give it formal recognition instead of trying to work it into existing forms that, in my opinion, don't fit it too well. I appreciate the desire to find the least intrusive way to modify the conventions, but we can end up painting ourselves into corners in the process.
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br />On 7/29/15 3:24 AM, Hedley, Mark wrote:
<br />
Hello Jim
<br />
<br />this is a really neat alternative approach
<br />
<br />I agree that the information about the ensemble_size is closely related to the realization coordinate and less closely related to the data variable, so this method encapsulates the metadata nicely.
<br />
<br />Whilst the solution is elegant, I cannot see a previous example of a coordinate variable within CF defining extra attributes, so I'm a bit wary that this approach will require a change to the conventions document, not just a new standard_name.
<br />
<br />Is there a neat way to use CF to provide metadata about a coordinate, rather than about a data variable?
<br />
<br />I think it's well worth considering, but it may be a path of some resistance
<br />
<br />many thanks
<br />
mark
<br />
<br />________________________________
<br />
From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;] on behalf of Jim Biard [jbiard at cicsnc.org&lt;mailto:jbiard at cicsnc.org&gt;]
<br />
Sent: 23 July 2015 13:11
<br />
To: cf-metadata at cgd.ucar.edu&lt;mailto:cf-metadata at cgd.ucar.edu&gt;
<br />
Subject: Re: [CF-metadata] original_ensemble_size
<br />
<br />Hi.
<br />
<br />It seems to me that you would want a coordinate variable with the standard name 'realization' (whether scalar or multi-valued) and give it an attribute with the name 'ensemble_size'. You can store the realization number in the variable and the ensemble size in the attribute.
<br />
<br />Grace and peace,
<br />
<br />Jim
<br />
<br />On 7/23/15 6:11 AM, Hedley, Mark wrote:
<br />
I use the
<br />
'coordinates'
<br />
attribute on my data variable, referencing the scalar 'ensemble_size' variable, thus defining this ensemble_size as a scalar coordinate variable for the temperature dataset
<br />
<br />mark
<br />
<br />________________________________
<br />
From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;] on behalf of Karl Taylor [taylor13 at llnl.gov&lt;mailto:taylor13 at llnl.gov&gt;]
<br />
Sent: 22 July 2015 22:53
<br />
Cc: CF Metadata List
<br />
Subject: Re: [CF-metadata] original_ensemble_size
<br />
<br />Hi all,
<br />
<br />I'm still curious about something:
<br />
<br />Suppose we have the temperature field stored from one member of an ensemble of size 10.   We want to make the size of the ensemble known to the user.   We store 10 as a scalar variable with standard name &quot;ensemble_size&quot;, but how does that scalar get associated with our temperature variable (other than it having being stored in the same file)?
<br />
<br />cheers,
<br />
Karl
<br />
<br />On 7/22/15 1:59 AM, Hedley, Mark wrote:
<br />
Hello John, Karl et al
<br />
<br />I'm not sure I agree with John's last statement. I think that an ensemble is a defined collection of members, so my need is the need for ensemble size to be defined explicitly.
<br />
The distinction that not all members may be present characterises the need for this metadata descriptor, rather than just using the dimension size of realization, which does not meet my requirement.
<br />
<br />On reflection, I think that I prefer Karl's name of 'ensemble_size'
<br />
<br />To restate my use case, I have a data set from an ensemble, where there is a coordinate variable called 'realization'.  Let's say there are 23 members, this dimension is size 23.
<br />
<br />I want to reference the number of members in the ensemble, whilst sub-setting the data variable in various ways.
<br />
<br />The suggestion is to add a scalar coordinate to my original dataset, which contains the number of members in the ensemble.  Then any sub-setting operation will retain this coordinate, and I will always be able to state that this member is member 0 of 23, 5 of 23 etc
<br />
<br />One requirement I have is to slice this variable, to result in a 2D data array, 2 1D coordinate variables: latitude and longitude; with all other coordinates as scalars.
<br />
<br />If it is reasonable to talk about an ensemble as a defined collection of members, then I agree with Karl, that a standard_name of 'ensemble_size' fits the bill.  The description fits my use case nicely
<br />
<br />many thanks
<br />
mark
<br />
<br /><br />________________________________
<br />
From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu&lt;mailto:cf-metadata-bounces at cgd.ucar.edu&gt;] on behalf of John Graybeal [jbgraybeal at mindspring.com&lt;mailto:jbgraybeal at mindspring.com&gt;]
<br />
Sent: 22 July 2015 05:52
<br />
To: Karl Taylor
<br />
Cc: CF Metadata List
<br />
Subject: Re: [CF-metadata] original_ensemble_size
<br />
<br />Karl,
<br />
<br />To my understanding (then and now), the use case is explicitly not what your definition describes. The entire point of the request was to provide a label that was clearly distinguished from the typical concept of ensemble size.
<br />
<br />John
<br />
<br /><br /><br />On Jul 21, 2015, at 16:36, Karl Taylor &lt;taylor13 at llnl.gov&lt;mailto:taylor13 at llnl.gov&gt;&gt; wrote:
<br />
<br />Dear all,
<br />
<br />I wonder if the following might also meet requirements of the use case:
<br />
<br />name: ensemble_size
<br />
<br />description: The number of member realizations in an ensemble.  This name provides context for any specific realization, which might not be co-located with the other members of the ensemble.
<br />
<br />Karl
<br />
<br />On 7/20/15 9:49 PM, John Graybeal wrote:
<br />
To save others the lookup, the use case phrasing that Mark signed on to were these words: &quot;In my use case, the whole ensemble is not present, I only have a subset of the members. I have a metadata element telling me how many members there were at the time the ensemble was created, which I would like to encode.&quot;  The entire thread is titled 'realization | x of n', but it is pretty, umm, rich with detail.
<br />
<br />The last email before discussion went silent appears to be mine:
<br />
<br />Modified to fit Mark's use case, I think suitable text is:
<br />
<br />name: original_ensemble_size
<br />
<br />description: The number of member realizations in the originally constituted ensemble. This provides context for any specific realization, for example orienting a member relative to its original group (even if the group is no longer intact).
<br />
<br />This does not mention forecasting, preserves the origination concept, and gives a bit of context, without constraining the application. It could even be an ensemble of observations, or cat videos, or ... you get the idea.
<br />
<br />I will let someone else provide the example of how that is associated with the variable, it will be more authoritative!
<br />
<br />John
<br />
<br /><br />On Jul 20, 2015, at 14:42, Karl Taylor &lt;taylor13 at llnl.gov&lt;mailto:taylor13 at llnl.gov&gt;&gt; wrote:
<br />
<br />Hi Mark,
<br />
<br />I didn't quite understand how the standard name gets associated with a variable (containing 1 or more realizations from the ensemble).   Someone said it was through a scalar coordinate variable, but I don't see how the ensemble member is a function of the ensemble size, so why would this be appropriate?
<br />
<br />Could you supply an example?
<br />
<br />Also, I didn't follow why &quot;original&quot; was included in &quot;original ensemble size&quot;.  Surely, you wouldn't report this number unless you thought the ensemble size was pretty much set and wouldn't change.  In that case there shouldn't be a need for a &quot;modified ensemble size&quot;, so wouldn't &quot;ensemble size&quot; suffice?
<br />
<br />thanks,
<br />
Karl
<br />
<br /><br />On 7/20/15 9:24 AM, Hedley, Mark wrote:
<br />
Hello CF
<br />
<br />Late last year we had a discussion about storing
<br />
<br />original_ensemble_size
<br />
<br />in a CF file
<br />
<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2014/thread.html#57756">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2014/thread.html#57756</a>
<br />
<br />There were a few options discussed, with John Graybeal making the suggestion
<br />
<br />original_ensemble_size
<br />
description: The number of members constituting an ensemble.
<br />
<br /><br />for a new standard_name definition, which seemed to fit the case very well
<br />
<br />It does not seem to have been adopted into the standard names list as yet.
<br />
<br />Please may this name and definition be adopted, or reasons not to detailed here?
<br />
<br />thank you
<br />
mark
<br />
<br /><br /><br /><br /><br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><br /><br /><br /><br /><br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><pre>
--
[CICS-NC] &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt;       Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
NOAA National Centers for Environmental Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
formerly NOAA?s National Climatic Data Center
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org&lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
Connect with us on Facebook for climate&lt;<a href="https://www.facebook.com/NOAANCEIclimate">https://www.facebook.com/NOAANCEIclimate</a>&gt; and ocean and geophysics&lt;<a href="https://www.facebook.com/NOAANCEIoceangeo">https://www.facebook.com/NOAANCEIoceangeo</a>&gt; information, and follow us on Twitter at _at_NOAANCEIclimate&lt;<a href="https://twitter.com/NOAANCEIclimate">https://twitter.com/NOAANCEIclimate</a>&gt; and @NOAANCEIocngeo&lt;<a href="https://twitter.com/NOAANCEIocngeo">https://twitter.com/NOAANCEIocngeo</a>&gt;.
--
[CICS-NC] &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on
Facebook &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt;       Jim Biard
Research Scholar
Cooperative Institute for Climate and Satellites NC &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt;
North Carolina State University &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt;
NOAA National Centers for Environmental Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt;
formerly NOAA?s National Climatic Data Center
151 Patton Ave, Asheville, NC 28801
e: jbiard at cicsnc.org&lt;mailto:jbiard at cicsnc.org&gt;
o: +1 828 271 4900
Connect with us on Facebook for climate&lt;<a href="https://www.facebook.com/NOAANCEIclimate">https://www.facebook.com/NOAANCEIclimate</a>&gt; and ocean and geophysics&lt;<a href="https://www.facebook.com/NOAANCEIoceangeo">https://www.facebook.com/NOAANCEIoceangeo</a>&gt; information, and follow us on Twitter at _at_NOAANCEIclimate&lt;<a href="https://twitter.com/NOAANCEIclimate">https://twitter.com/NOAANCEIclimate</a>&gt; and @NOAANCEIocngeo&lt;<a href="https://twitter.com/NOAANCEIocngeo">https://twitter.com/NOAANCEIocngeo</a>&gt;.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150817/ab908c34/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150817/ab908c34/attachment-0001.html</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ATT00001.png
Type: image/png
Size: 15784 bytes
Desc: ATT00001.png
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150817/ab908c34/attachment-0002.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150817/ab908c34/attachment-0002.png</a>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CicsLogoTiny.png
Type: image/png
Size: 15784 bytes
Desc: CicsLogoTiny.png
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150817/ab908c34/attachment-0003.png">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20150817/ab908c34/attachment-0003.png</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Mon Aug 17 2015 - 07:33:30 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7281">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7282.html" title="Next message in the list">Andreas Hilboll: "[CF-metadata] New standard name: angle between solar and sensor azimuth"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7280.html" title="Previous message in the list">Stephane TAROT: "[CF-metadata] standard names for sediment trap data"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7263.html" title="Message to which this message replies">Hedley, Mark: "[CF-metadata] original_ensemble_size"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./7250.html" title="Next message in this discussion thread">John Graybeal: "[CF-metadata] original_ensemble_size"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7281" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7281" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7281" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7281" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:58:59 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7280.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7282.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
