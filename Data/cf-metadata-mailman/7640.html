<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] weighted time mean vs. conditional time mean. from martin.juckes at stfc.ac.uk on 2016-05-25 (cf-metadata-mailman)</title>
<meta name="Author" content="martin.juckes at stfc.ac.uk (martin.juckes)" />
<meta name="Subject" content="[CF-metadata] weighted time mean vs. conditional time mean." />
<meta name="Date" content="2016-05-25" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7639.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7641.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] weighted time mean vs. conditional time mean.</h1>
<!-- received="Wed May 25 04:53:27 2016" -->
<!-- isoreceived="20160525035327" -->
<!-- sent="Wed, 25 May 2016 10:53:27 +0000" -->
<!-- isosent="20160525105327" -->
<!-- name="martin.juckes at stfc.ac.uk" -->
<!-- email="martin.juckes" -->
<!-- subject="[CF-metadata] weighted time mean vs. conditional time mean." -->
<!-- id="E21FBC3F00D7304687CB46529F9676D7FE180FC1_at_exchmbx01" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="CAEMt9PNOWd+ytO02O2MGAKXU=BHz5EiCsjWUG8LJhKqoJ_=5dw_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7640" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7641.html" accesskey="d" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata]  weighted time mean vs. conditional time mean.&quot;">Next message</a> ]
[ <a href="./7639.html" title="Lowry, Roy K.: &quot;[CF-metadata] Wave periods sub-proposal&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7640" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7640" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7640" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7640" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: martin.juckes at stfc.ac.uk &lt;<a href="mailto:martin.juckes?Subject=Re%3A%20%5BCF-metadata%5D%20weighted%20time%20mean%20vs.%20conditional%20time%20mean.">martin.juckes</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 25 May 2016 10:53:27 +0000</span><br />
</address>
<br />
Hi David,
<br />
<br />that is true. My question was whether there should be, as Jonathan proposes, a restriction on the dimensions that &quot;where type1&quot; can be associated with,
<br />
<br />cheers,
<br />
Martin
<br />
________________________________
<br />
From: David Hassell [david.hassell at ncas.ac.uk]
<br />
Sent: 20 May 2016 13:03
<br />
To: Juckes, Martin (STFC,RAL,RALSP)
<br />
Cc: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] weighted time mean vs. conditional time mean.
<br />
<br />?Hi Martin,
<br />
<br />I think that the compliance document and 7.3.3 consistently force the &quot;type1&quot; in &quot;where type1&quot; must ?come from the area_types controlled vocabulary (<a href="http://cfconventions.org/Data/area-type-table/current/build/area-type-table.html">http://cfconventions.org/Data/area-type-table/current/build/area-type-table.html</a>), or be the name of a coordinate with area_types as it values:
<br />
?
<br />
&nbsp;&nbsp;&quot;The valid values for type1 are the name of a string-valued auxiliary or scalar coordinate variable with a standard_name of area_type, or any string value allowed for a variable of standard_name of area_type?&quot;
<br />
<br />?I've just noticed that the area-types table? linked above, updated 3 days ago, includes some of the things you're interested in: &quot;cloud&quot;, &quot;clear_sky&quot;, &quot;dust_aerosol&quot; - I don't know when these got added, or how they are defined, but if they're alright, then I see no reason why &quot;where can not be used.
<br />
<br />All the best,
<br />
<br />David
<br />
<br />On 20 May 2016 at 12:09, &lt;martin.juckes at stfc.ac.uk&lt;mailto:martin.juckes at stfc.ac.uk&gt;&gt; wrote:
<br />
Hello Jonathan, Jim,
<br />
<br />Just picking up the thread again.
<br />
<br />There is an issue, it appears, about the use of the &quot;where&quot; modifier for cell_methods elements other than &quot;area:&quot;. Jonathan believes &quot;where&quot; should only apply for area on the basis that this where the motivation comes from in the first paragraph of section 7.3.3. The subsequent paragraphs in section 7.3.3. describe the use of &quot;where&quot; with a generic element &quot;name: ....&quot;. The compliance document clearly states that &quot;where&quot; can be used with any string.
<br />
<br />The specific use case is to specify how the mean should be taken when there is a temporarily varying area_type. Jonathan has suggesed using a suitably formulated free-text comment in brackets (&quot;time: mean (when cloud present)&quot;) but I would prefer a formulation with an explicit conventional meaning:  &quot;time: mean where cloud&quot;.
<br />
<br />So there are two questions:
<br />
(1) Can &quot;where&quot; be used, as stated by the convention, with any coordinate?
<br />
(2) If there is a clear consensus that &quot;where ....&quot; can only be used for &quot;area&quot;, then can we update the convention, conformance requirements and CF checker to be consistent with this?
<br />
<br />regards,
<br />
Martin
<br />
<br /><br /><br /><br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><br /><pre>
--
David Hassell
National Centre for Atmospheric Science
Department of Meteorology, University of Reading, Earley Gate, PO Box 243, Reading RG6 6BB
Tel: +44 118 378 5613
<a href="http://www.met.reading.ac.uk/">http://www.met.reading.ac.uk/</a>
</pre>
<span id="received"><dfn>Received on</dfn> Wed May 25 2016 - 04:53:27 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7640">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7641.html" title="Next message in the list">martin.juckes at stfc.ac.uk: "[CF-metadata]  weighted time mean vs. conditional time mean."</a></li>
<li><dfn>Previous message</dfn>: <a href="./7639.html" title="Previous message in the list">Lowry, Roy K.: "[CF-metadata] Wave periods sub-proposal"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7640" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7640" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7640" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7640" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:04 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7639.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7641.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
