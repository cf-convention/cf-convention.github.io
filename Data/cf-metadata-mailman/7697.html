<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Recording requirements expressed in standard name	definitions from martin.juckes at stfc.ac.uk on 2016-07-13 (cf-metadata-mailman)</title>
<meta name="Author" content="martin.juckes at stfc.ac.uk (martin.juckes)" />
<meta name="Subject" content="[CF-metadata] Recording requirements expressed in standard name	definitions" />
<meta name="Date" content="2016-07-13" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7696.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7698.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Recording requirements expressed in standard name	definitions</h1>
<!-- received="Wed Jul 13 09:36:58 2016" -->
<!-- isoreceived="20160713083658" -->
<!-- sent="Wed, 13 Jul 2016 15:36:58 +0000" -->
<!-- isosent="20160713153658" -->
<!-- name="martin.juckes at stfc.ac.uk" -->
<!-- email="martin.juckes" -->
<!-- subject="[CF-metadata] Recording requirements expressed in standard name	definitions" -->
<!-- id="E21FBC3F00D7304687CB46529F9676D701028467C1_at_exchmbx01" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="VI1PR0601MB262342CCE38FDE9337431AD899310_at_VI1PR0601MB2623.eurprd06.prod.outlook.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7697" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7698.html" accesskey="d" title="Lowry, Roy K.: &quot;[CF-metadata] Recording requirements expressed in standard name	definitions&quot;">Next message</a> ]
[ <a href="./7696.html" title="Lowry, Roy K.: &quot;[CF-metadata] Waves&quot;">Previous message</a> ]
[ <a href="./7695.html" title="Lowry, Roy K.: &quot;[CF-metadata] Recording requirements expressed in standard name	definitions&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./7698.html" accesskey="t" title="Lowry, Roy K.: &quot;[CF-metadata] Recording requirements expressed in standard name	definitions&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7697" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7697" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7697" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7697" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: martin.juckes at stfc.ac.uk &lt;<a href="mailto:martin.juckes?Subject=Re%3A%20%5BCF-metadata%5D%20Recording%20requirements%20expressed%20in%20standard%20name%09definitions">martin.juckes</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 13 Jul 2016 15:36:58 +0000</span><br />
</address>
<br />
Dear Roy,
<br />
<br />Having the constraints expressed in a machine readable way in the NVS sounds good in principle, but do you have a clear idea about how to make it work in practise? The constraints described in ticket 151 are quite complex, so I'm not sure how they would be expressed.
<br />
e.g.
<br />
Either:
<br />
&nbsp;&nbsp;var.type == string AND var.values in standard_region_list
<br />
Or:
<br />
&nbsp;&nbsp;flag_values, flag_meanings in var.attributes AND flag_meanings.values in standard_region_list AND var.type == flag_values.type
<br />
<br />But as the above text is just something I made up now, it would take quite a lot of work, I expect, to get a reliable parsing algorithm.
<br />
<br />regards,
<br />
Martin
<br />
________________________________________
<br />
From: Lowry, Roy K. [rkl at bodc.ac.uk]
<br />
Sent: 13 July 2016 09:38
<br />
To: Juckes, Martin (STFC,RAL,RALSP); cf-metadata at cgd.ucar.edu
<br />
Subject: RE: [CF-metadata] Recording requirements expressed in standard name    definitions
<br />
<br />Dear Martin,
<br />
<br />This sounds an excellent idea. What do you thinks of the idea of building the knowledge into NVS to make it accessible in machine-readable form and so the requirements could be enforced by the CF checker?
<br />
<br />Cheers, Roy.
<br />
<br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of martin.juckes at stfc.ac.uk
<br />
Sent: 07 July 2016 12:01
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: [CF-metadata] Recording requirements expressed in standard name definitions
<br />
<br />Dear All,
<br />
<br />in connection with ticket 151 (<a href="http://cf-trac.llnl.gov/trac/ticket/151">http://cf-trac.llnl.gov/trac/ticket/151</a>) I had proposed a section in appendix B listing standard names whose definitions impose additional constraints on variable attributes etc. Jonathan convinced me that ticket 151 was not the right place for this.
<br />
<br />The proposal for this new section was motivated by the fact that standard name descriptions cannot include examples or markup, and the specification of the rules is not as clear as in the convention text. It also appears that the rules are not checked by the CF checker (at least not the few that I have looked at in detail) and I think the best way to get consistent checking would be to first create a well structured summary of these rules in the conventions document.
<br />
<br />The constraint related to ticket 151 is that variables with standard name &quot;region&quot; or &quot;area_type&quot; must be consistent with the standard region and area type lists.
<br />
<br />I have reviewed the first half of the standard name list (a to m) and found the following coordinate constraints expressed:
<br />
<br />(1) area_fraction: requires an area_type coordinate;
<br />
<br />(2) atmosphere_lifting_condensation_level + 2 others: requires an original_air_pressure_of_lifted_parcel coordinate.
<br />
<br />(3) Many &quot;layer&quot; quantities (e.g. dry_static_energy_content_of_atmosphere_layer): require vertical coordinate with bounds.
<br />
<br />(4) change_in_energy_content_of_atmosphere_layer_due_to_change_in_sigma_coordinate_wrt_surface_pressure: must have a vertical coordinate variable (axis=Z)
<br />
<br />(5) change_over_time_... and .._displacement: require bounds on time coordinate
<br />
<br />(6) downwelling_photosynthetic_photon_radiance_in_sea_water and other radiance variables: direction must be specified, e.g. with coordinate of &quot;zenith_angle&quot;.
<br />
<br />(7) mass_concentration_of_pm..._ambient_aerosol_in_air (and mass_fraction_of_pm..): require air_temperature and relative_humidity
<br />
<br />(8) isotropic_radiance_per_unit_wavelength_in_air (and other per_unit_wavelength varables): the definition is slightly ambiguous with the sentence  &quot;A coordinate variable for radiation wavelength should be given the standard name radiation_wavelength&quot; which, taken literally, means the use of a wavelength coordinate is optional: should it be &quot;A coordinate variable for radiation wavelength should be given with the standard name radiation_wavelength&quot;, making the wavelength coordinate required?
<br />
<br />Is it worth completing the review of the standard name desriptions and creating an appendix section to list these constraints, giving examples (or pointing to examples which may be better positioned in relevant portions of the main text)?
<br />
<br />regards,
<br />
Martin
<br />
<br /><br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
________________________________
<br />
&nbsp;This message (and any attachments) is for the recipient only. NERC is subject to the Freedom of Information Act 2000 and the contents of this email and any reply you make may be disclosed by NERC unless it is exempt from release under the Act. Any material supplied to NERC may be stored in an electronic records management system.
<br />
________________________________
<br />
<span id="received"><dfn>Received on</dfn> Wed Jul 13 2016 - 09:36:58 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7697">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7698.html" title="Next message in the list">Lowry, Roy K.: "[CF-metadata] Recording requirements expressed in standard name	definitions"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7696.html" title="Previous message in the list">Lowry, Roy K.: "[CF-metadata] Waves"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7695.html" title="Message to which this message replies">Lowry, Roy K.: "[CF-metadata] Recording requirements expressed in standard name	definitions"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./7698.html" title="Next message in this discussion thread">Lowry, Roy K.: "[CF-metadata] Recording requirements expressed in standard name	definitions"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./7698.html" title="Message sent in reply to this message">Lowry, Roy K.: "[CF-metadata] Recording requirements expressed in standard name	definitions"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7697" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7697" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7697" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7697" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:05 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7696.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7698.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
