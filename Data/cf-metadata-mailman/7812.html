<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Metadata/standard names for variables involving thresholds (e.g. climate indices) from Bärring Lars on 2016-09-26 (cf-metadata-mailman)</title>
<meta name="Author" content="Bärring Lars (Lars.Barring)" />
<meta name="Subject" content="[CF-metadata] Metadata/standard names for variables involving thresholds (e.g. climate indices)" />
<meta name="Date" content="2016-09-26" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7811.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7813.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Metadata/standard names for variables involving thresholds (e.g. climate indices)</h1>
<!-- received="Mon Sep 26 04:39:15 2016" -->
<!-- isoreceived="20160926033915" -->
<!-- sent="Mon, 26 Sep 2016 10:39:15 +0000" -->
<!-- isosent="20160926103915" -->
<!-- name="Bärring Lars" -->
<!-- email="Lars.Barring" -->
<!-- subject="[CF-metadata] Metadata/standard names for variables involving thresholds (e.g. climate indices)" -->
<!-- id="02047865DE893F45802A039AA761834E013402B36A_at_WINVMSERV463.ad.smhi.se" -->
<!-- charset="iso-8859-1" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7812" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7813.html" accesskey="d" title="Bert Jagers: &quot;[CF-metadata] Feedback requested on proposed CF Simple	Geometries&quot;">Next message</a> ]
[ <a href="./7811.html" title="Hedley, Mark: &quot;[CF-metadata] Feedback requested on proposed CF Simple Geometries&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7812" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7812" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7812" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7812" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Bärring Lars &lt;<a href="mailto:Lars.Barring?Subject=Re%3A%20%5BCF-metadata%5D%20Metadata%2Fstandard%20names%20for%20variables%20involving%20thresholds%20(e.g.%20climate%20indices)">Lars.Barring</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 26 Sep 2016 10:39:15 +0000</span><br />
</address>
<br />
Dear all,
<br />
<br />Before the summer I asked in separate emails a few questions related to standard names. Based on the responses I have worked on this a bit more and made some good progress, but there still are some open issues that I am trying to wrap my head around.  Most of the issues are related to making use of existing standard names involving thresholds to describe well established climate indices (aka indices of climate extremes). To get an overview of the issues I collect them here (with reference to the previous email threads), but if necessary we can again fork them:
<br />
<br />1. Canonical units  (<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058800.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058800.html</a>, 3rd point):
<br />
&quot;number_of_days_....&quot; variables have dimension &quot;1&quot; (dimensionless) and &quot;spell_length_of_days_...&quot; variables have dimension &quot;day&quot;. This seems somewhat inconsistent as both standard names specify &quot;_days_&quot;. As both standard names contain the unit it may from a formal point of view be more appropriate that both would be dimensionless, but from a practical point of view, e.g. when designing software, it would be (much) more useful to have the unit (&quot;day&quot;) in the metadata rather than having to parse it from the standard name for these particular variables, when this is mostly not necessary.
<br />
<br />2. Climatological time variable  (<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058800.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058800.html</a>, 2nd point):
<br />
It is not clear to me why &quot;number_of_days_...&quot; and &quot;spell_length_of_days_...&quot; variables must have a climatological time variable. I would suggest that it makes sense to have an ordinary time coordinate variable that allows bounds to be specified. For example, assume that we have a time-series of daily near-surface temperature fields from a CMIP5 model (&quot;tas&quot;) and want for each month to calculate the number_of_days_with_air_temperature_above_threshold. I.e. this is not much different from calculating the monthly mean temperature, for which an ordinary time coordinate variable with bounds is used. The same line of argument applies for &quot;spell_length_of _days_...&quot; variables and the two &quot;integral_of_air_temperature_...&quot; variables.
<br />
<br />3. Threshold must have a coordinate variable . (<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058824.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058824.html</a>): 
<br />
This means that the threshold must be either a constant or several alternative constants. As I understand it, it is neither possible to have a two-dimensional threshold that varies over the domain, e.g. based on a climatological (quantile) value for each gridpoint, nor to have a three-dimensional threshold, e.g. a seasonally varying climatological threshold for each gridpoint. I can envisage two ways to allow 2-/3-dim thresholds: either 1) allow ancillary variables as thresholds. The ancillary variable would have a coordinate variable providing the the underlying constant(s), e.g. quantile levels. Or 2) allow the threshold to have a different unit from the main variable which then enables the underlying quantiles to be used as threshold variable  directly where the actual 2-/3-dim climatological thresholds are available as an ancillary variable.
<br />
<br />4. Standard name of the threshold variable  (<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058856.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058856.html</a>): 
<br />
The standard name air_temperature_threshold is only used in the definition of integral_of_air_temperature_deficit_wrt_time and integral_of_air_temperature_excess_wrt_time. For other threshold-based standard names involving air temperature, wind and lwe thickness of precipitation (listed below) the explanation reads &quot;. must have a . variable with the a standard name of X to supply the threshold(s)&quot;. I.e. the threshold variable must have the same standard name as 'main variable' to which the threshold is applied. 
<br />
The latter seems more in line with the view Jonathan expressed in a previous email exchange (lower part of <a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2014/057420.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2014/057420.html</a>). 
<br />
Based on this, my suggestion is to change the explanation of the two standard names integral_of_air_temperature_deficit|excess_wrt_time to read 
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; ... The air_temperature variable, which is the data variable of the integral should have a 
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalar coordinate variable or a size-one coordinate variable with the standard name of 
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;either air_temperature (preferred) or air_temperature_threshold to indicate the threshold...&quot;
<br />
With this minor change consistency with other threshold-based variables is introduced (and encouraged) at the same time as backward compatibility is maintained.
<br />
<br /><br />Kind regards,
<br />
Lars B?rring
<br />
<br />FDr, Forskare
<br />
PhD, Research Scientist
<br />
<br />SMHI  /  Swedish Meteorological and Hydrological Institute 
<br />
Rossby Centre 
<br />
SE - 601 76 NORRK?PING 
<br />
<a href="http://www.smhi.se">http://www.smhi.se</a>
<br />
<br />E-post / Email: lars.barring at smhi.se
<br />
Tel / Phone: +46 (0)11 495 8604  
<br />
Fax: +46 (0)11 495 8001 
<br />
Bes?ksadress / Visiting address: Folkborgsv?gen 17
<br />
<span id="received"><dfn>Received on</dfn> Mon Sep 26 2016 - 04:39:15 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7812">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7813.html" title="Next message in the list">Bert Jagers: "[CF-metadata] Feedback requested on proposed CF Simple	Geometries"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7811.html" title="Previous message in the list">Hedley, Mark: "[CF-metadata] Feedback requested on proposed CF Simple Geometries"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7812" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7812" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7812" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7812" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:06 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7811.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7813.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
