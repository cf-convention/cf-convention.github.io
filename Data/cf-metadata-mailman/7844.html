<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata]   Missing data bins in histograms from Jonathan Gregory on 2016-10-12 (cf-metadata-mailman)</title>
<meta name="Author" content="Jonathan Gregory (j.m.gregory)" />
<meta name="Subject" content="[CF-metadata]   Missing data bins in histograms" />
<meta name="Date" content="2016-10-12" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7843.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7845.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata]   Missing data bins in histograms</h1>
<!-- received="Wed Oct 12 11:42:21 2016" -->
<!-- isoreceived="20161012104221" -->
<!-- sent="Wed, 12 Oct 2016 18:42:21 +0100" -->
<!-- isosent="20161012174221" -->
<!-- name="Jonathan Gregory" -->
<!-- email="j.m.gregory" -->
<!-- subject="[CF-metadata]   Missing data bins in histograms" -->
<!-- id="20161012174221.GA6949_at_met.reading.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7844" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7845.html" accesskey="d" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata] Usage of histogram_of_X_over_Z&quot;">Next message</a> ]
[ <a href="./7843.html" title="Jonathan Gregory: &quot;[CF-metadata] Missing data bins in histograms&quot;">Previous message</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7844" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7844" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7844" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7844" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jonathan Gregory &lt;<a href="mailto:j.m.gregory?Subject=Re%3A%20%5BCF-metadata%5D%20%20%20Missing%20data%20bins%20in%20histograms">j.m.gregory</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Wed, 12 Oct 2016 18:42:21 +0100</span><br />
</address>
<br />
Dear Martin
<br />
<br />I'm still uneasy about it having to be the first bin, in particular, or are
<br />
you not set on that? If it can be identified from the coordinate value by
<br />
flags, it could be any bin.
<br />
<br />I believe that a change to convention would be needed to allow flag values
<br />
to be used with coordinates, unless we've already agreed that in some ticket.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br />----- Forwarded message from martin.juckes at stfc.ac.uk -----
<br />
<br /><em class="quotelev1">&gt; Date: Wed, 12 Oct 2016 17:14:38 +0000
</em><br />
<em class="quotelev1">&gt; From: martin.juckes at stfc.ac.uk
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: [CF-metadata]  Missing data bins in histograms
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dear Karl, Jonathan, Jim,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; thanks for those comments.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; The CMIP6 variable in question is clmisr (<a href="http://clipc-services.ceda.ac.uk/dreq/u/59151ed6-9e49-11e5-803c-0d0b866b59f3.html">http://clipc-services.ceda.ac.uk/dreq/u/59151ed6-9e49-11e5-803c-0d0b866b59f3.html</a>) with a coordinatte of 16 altitude bins (<a href="http://clipc-services.ceda.ac.uk/dreq/u/dim:alt16.html">http://clipc-services.ceda.ac.uk/dreq/u/dim:alt16.html</a> ).
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I'd be happy with Jim's proposed solution, which does not need any change to the convention, though it may be a bit cryptic: all the examples in the convention are for cases in which all array values are intended to match one of the flag_values. Having an array which is a mixture of flags and &quot;normal&quot; values would be a new usage.  We could, perhaps, introduce a consistency problem: ticket 151 (<a href="http://cf-trac.llnl.gov/trac/ticket/151">http://cf-trac.llnl.gov/trac/ticket/151</a>) explains how, for variables with standard_name &quot;area_type&quot;, flag_values and flag_meanings can be used to encode the data, in which case it is the &quot;flag_meanings&quot; which match the requirements of the standard name. Here, on the other hand, we want the special bin to be the exception which is not described by the standard name (altitude). So .. perhaps it is simpler to introduce a new attribute name?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Concerning Jonathan and Karl's comments, the idea of calling it a &quot;missing_value&quot; was a mistake I made, but it actually refers to locations where cloud is detected but the height of the cloud cannot be retrieved.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; The current proposal is to have a value of 0.0 in the coordinate and (-99000.0,0.0) in the bounds of the special value &quot;bin&quot;. I imagine these need to be present, but I think their values are not going to mean anything.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; It is certainly possible to do as Karl suggests and place an explanation in the variable description. Having the special status of the first bin explicitly flagged in way which can be easily picked up by software brings added value.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; regards,
</em><br />
<em class="quotelev1">&gt; Martin
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br />----- End forwarded message -----
<br />
<span id="received"><dfn>Received on</dfn> Wed Oct 12 2016 - 11:42:21 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7844">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7845.html" title="Next message in the list">martin.juckes at stfc.ac.uk: "[CF-metadata] Usage of histogram_of_X_over_Z"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7843.html" title="Previous message in the list">Jonathan Gregory: "[CF-metadata] Missing data bins in histograms"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7844" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7844" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7844" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7844" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:07 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7843.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7845.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
