<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] annotating vector quantities (e.g., (u,v) winds) from Clune, Thomas L. on 2016-10-27 (cf-metadata-mailman)</title>
<meta name="Author" content="Clune, Thomas L. (thomas.l.clune)" />
<meta name="Subject" content="[CF-metadata] annotating vector quantities (e.g., (u,v) winds)" />
<meta name="Date" content="2016-10-27" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7880.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7882.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] annotating vector quantities (e.g., (u,v) winds)</h1>
<!-- received="Thu Oct 27 14:19:30 2016" -->
<!-- isoreceived="20161027131930" -->
<!-- sent="Thu, 27 Oct 2016 20:19:30 +0000" -->
<!-- isosent="20161027201930" -->
<!-- name="Clune, Thomas L." -->
<!-- email="thomas.l.clune" -->
<!-- subject="[CF-metadata] annotating vector quantities (e.g., (u,v) winds)" -->
<!-- id="DEE78CA2-B1D6-4BCD-8A44-D6BFAD7607CD_at_nasa.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="CAPK-iMmU2rucfbdzXmoPv+dWsCHsQDD-KqzQn9xKuknYu+5A_g_at_mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7881" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7882.html" accesskey="d" title="Antonio S. Cofi&#0241;o: &quot;[CF-metadata] New standard names for NEMO ocean model output&quot;">Next message</a> ]
[ <a href="./7880.html" title="Thomas Lavergne: &quot;[CF-metadata] annotating vector quantities (e.g., (u,v) winds)&quot;">Previous message</a> ]
[ <a href="./7880.html" title="Thomas Lavergne: &quot;[CF-metadata] annotating vector quantities (e.g., (u,v) winds)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7881" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7881" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7881" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7881" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Clune, Thomas L. &lt;<a href="mailto:thomas.l.clune?Subject=Re%3A%20%5BCF-metadata%5D%20annotating%20vector%20quantities%20(e.g.%2C%20(u%2Cv)%20winds)">thomas.l.clune</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 27 Oct 2016 20:19:30 +0000</span><br />
</address>
<br />
Hello Thomas,
<br />
<br />Thank you very much for pointing me at the previous discussion.  (And apologies for not having done the search for myself.)
<br />
<br />I?m not sure I understand one sentence in the proposal:
<br />
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;To be valid, a vector variable shall have at least as many components as the dimensionality of the vector.?
<br />
<br />I do not see where the proposal defines the ?dimensionality? of the vector, aside from the number of components.  Hopefully this is not the number of coordinate dimensions, as it does not suit our current needs.
<br />
<br />Consider  (u,v) in a climate model using a lat lon grid.   Here u and v are both 3 dimensional (level, lat, lon).   Yes, in theory there is a ?w? component out there somewhere, but in practice it is treated quite differently.   And, even in the document, the variables do have a time dimension that would seem to run afoul of this constraint.     And finally, consider our new situation where the data is to be exported on cubed-sphere grid.   In this case, our variables have dims: (time, level, nf, ny, nx), where ?nf? is 6 corresponding to the 6 faces of the cube.     But our wind is still 2D - there is no ?face? component of the wind.
<br />
<br />Aside from that concern, I think the proposal meets our needs.
<br />
<br />Cheers,
<br />
<br />- Tom
<br />
<br /><br /><br />On Oct 27, 2016, at 3:51 PM, Thomas Lavergne &lt;thomasl at met.no&lt;mailto:thomasl at met.no&gt;&gt; wrote:
<br />
<br />Dear Thomas, and colleagues,
<br />
<br />Thank you for bringing this topic back in the spot lights. I made an attempt to define vectors in CF about 4 years ago. There was a lot of good discussion in here (<a href="http://cf-trac.llnl.gov/trac/ticket/79">http://cf-trac.llnl.gov/trac/ticket/79</a>) but we unfortunately never reached a conclusion (although there was some level of consensus at the start). I will gladely participate to this discussion.
<br />
<br />T.
<br />
<br />2016-10-27 21:23 GMT+02:00 Clune, Thomas L. (GSFC-6101) &lt;thomas.l.clune at nasa.gov&lt;mailto:thomas.l.clune at nasa.gov&gt;&gt;:
<br />
I could not find any discussion in the specs about how to indicate that two variables are part of a vector pair such as (u,v).    In theory one can infer the relationship from the long-name, but it would seem to be useful to have a more direct means to indicate this relationship.
<br />
<br />I see at least 4 different approaches to this:
<br />
<br /><br />&nbsp;&nbsp;1.  Each variable that is part of a vector has an attribute that names the partner component.   u:vector_partner = ?v&quot;  There is also an attribute that specifies the component index:  u:vector_index=1    Others may want vectors with more components, in which case naming the partners becomes more problematic.   And then one would also want an attribute that specifies the total number of components   u:vector_length=2
<br />
&nbsp;&nbsp;2.  Each vector component has an attribute that names the entire vector rather than the partner.   u:vector_name=?u-v?.   There would also be an attribute for specifying the vector component index as in (1) above.   This approach is more scalable for longer vectors, but tools would need to search through all variables to find the partner components.
<br />
&nbsp;&nbsp;3.  Have a separate variable which is a vector of strings.  Each string names the list of component variables with some standard separator.   E.g.,   ?u,v?,   ?mx, my?, ?
<br />
&nbsp;&nbsp;4.  Combine components into one variable with an extra vector index dimension.  But this seems to be contrary to CF conventions for naming variables.    It is also not very friendly to the tools that we are currently using.
<br />
<br />Thanks in advance,
<br />
<br />- Tom
<br />
<br /><br />_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu&lt;mailto:CF-metadata at cgd.ucar.edu&gt;
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<br /><br /><br /><br /><pre>
--
==========================================
Thomas Lavergne
Norwegian Meteorological Institute
P.O.BOX 43, Blindern, NO-0313 OSLO, Norway
Phone: (+47) 22963364&lt;callto:+47%29%2022963364&gt;  Skype: thomas.lavergne&lt;callto:+47%29%2022963380&gt;
Email: t.lavergne at met.no&lt;mailto:t.lavergne at met.no&gt;
OSISAF HL Portal:     <a href="http://osisaf.met.no">http://osisaf.met.no</a>&lt;<a href="http://osisaf.met.no/">http://osisaf.met.no/</a>&gt;
==========================================
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20161027/bb859473/attachment.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20161027/bb859473/attachment.html</a>&gt;
</pre>
<span id="received"><dfn>Received on</dfn> Thu Oct 27 2016 - 14:19:30 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7881">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7882.html" title="Next message in the list">Antonio S. Cofi&#0241;o: "[CF-metadata] New standard names for NEMO ocean model output"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7880.html" title="Previous message in the list">Thomas Lavergne: "[CF-metadata] annotating vector quantities (e.g., (u,v) winds)"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7880.html" title="Message to which this message replies">Thomas Lavergne: "[CF-metadata] annotating vector quantities (e.g., (u,v) winds)"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7881" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7881" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7881" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7881" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:07 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7880.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7882.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
