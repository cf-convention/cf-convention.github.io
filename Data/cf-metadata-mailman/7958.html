<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Composite area types in CMIP6 data from Karl Taylor on 2017-01-06 (cf-metadata-mailman)</title>
<meta name="Author" content="Karl Taylor (taylor13)" />
<meta name="Subject" content="[CF-metadata] Composite area types in CMIP6 data" />
<meta name="Date" content="2017-01-06" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7957.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7959.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Composite area types in CMIP6 data</h1>
<!-- received="Fri Jan  6 10:29:48 2017" -->
<!-- isoreceived="20170106102948" -->
<!-- sent="Fri, 6 Jan 2017 09:29:48 -0800" -->
<!-- isosent="20170106172948" -->
<!-- name="Karl Taylor" -->
<!-- email="taylor13" -->
<!-- subject="[CF-metadata] Composite area types in CMIP6 data" -->
<!-- id="e0a5d6b2-c33b-e341-1708-2369b1b2a130_at_llnl.gov" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20170106165934.GB7447_at_met.reading.ac.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7958" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7959.html" accesskey="d" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata] Composite area types in CMIP6 data&quot;">Next message</a> ]
[ <a href="./7957.html" title="Jonathan Gregory: &quot;[CF-metadata] Composite area types in CMIP6 data&quot;">Previous message</a> ]
[ <a href="./7957.html" title="Jonathan Gregory: &quot;[CF-metadata] Composite area types in CMIP6 data&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./7959.html" accesskey="t" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata] Composite area types in CMIP6 data&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7958" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7958" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7958" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7958" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Karl Taylor &lt;<a href="mailto:taylor13?Subject=Re%3A%20%5BCF-metadata%5D%20Composite%20area%20types%20in%20CMIP6%20data">taylor13</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 6 Jan 2017 09:29:48 -0800</span><br />
</address>
<br />
Hi Martin and Jonathan,
<br />
<br />An alternative would be to (generally) allow elemental area_types to be 
<br />
combined with logical not/and/or connectors.  area_types are used either 
<br />
as labels (stored in a variable pointed to by the coordinates attribute) 
<br />
or in cell_methods.  In both cases parsing combined types would be 
<br />
straightforward.   In your example their would only be a single 
<br />
area_type coordinate, and the value of the coordinate could simply be 
<br />
&quot;pastures .and. c4_plant_functional_types&quot; or even &quot;pastures and 
<br />
c4_plant_functional_types&quot;
<br />
<br />I know this appears like a significant change to the convention, but 
<br />
since area_types are just strings, I suspect that software won't care 
<br />
how long the strings are.   I doubt if any existing software would trip 
<br />
over the compound area types (except perhaps the CF checker?).
<br />
<br />best wishes,
<br />
Karl
<br />
<br />On 1/6/17 8:59 AM, Jonathan Gregory wrote:
<br />
<em class="quotelev1">&gt; Dear Martin
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; It's legal to have more than one axis of a given standard_name but it is
</em><br />
<em class="quotelev1">&gt; possibly inconvenient, because analysis software could not use the standard_
</em><br />
<em class="quotelev1">&gt; name of those two coordinate variables to distinguish them; instead, it would
</em><br />
<em class="quotelev1">&gt; have to use the long_name or the variable name, which is not a CF-like method.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Another possibility would be to introduce new standard_names, which are
</em><br />
<em class="quotelev1">&gt; more precise, such as area_type_of_land_use and area_type_of_vegetation in this
</em><br />
<em class="quotelev1">&gt; case, while also keeping area_type as the union. That would require a
</em><br />
<em class="quotelev1">&gt; rearrangement of the area_type table.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On the whole, I think in this case it would be best to introduce a new
</em><br />
<em class="quotelev1">&gt; combined area_type of pastures_of_c4_plant_functional_types i.e. flatten it.
</em><br />
<em class="quotelev1">&gt; I guess this will also be more convenient for analysts than having to search
</em><br />
<em class="quotelev1">&gt; the combination of two dimensions. You are right of course that doing this
</em><br />
<em class="quotelev1">&gt; could turn the area_type table into an N^2 or even an N^n problem, which would
</em><br />
<em class="quotelev1">&gt; be unmanageable, but if this is the *only* use-case, or even if we had a dozen
</em><br />
<em class="quotelev1">&gt; such use-cases, it is not a problem. Thus, I would say we cross this bridge
</em><br />
<em class="quotelev1">&gt; when we come to it, rather than anticipating a problem which hasn't arisen
</em><br />
<em class="quotelev1">&gt; yet.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On Fri, Jan 06, 2017 at 11:43:57AM +0000, martin.juckes at stfc.ac.uk wrote:
</em><br />
<em class="quotelev2">&gt;&gt; Date: Fri, 6 Jan 2017 11:43:57 +0000
</em><br />
<em class="quotelev2">&gt;&gt; From: martin.juckes at stfc.ac.uk
</em><br />
<em class="quotelev2">&gt;&gt; To: j.m.gregory at reading.ac.uk, taylor13 at llnl.gov, alison.pamment at stfc.ac.uk
</em><br />
<em class="quotelev2">&gt;&gt; CC: chris.d.jones at metoffice.gov.uk, cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; Subject: Composite area types in CMIP6 data
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Hello,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; In CMIP6 we have a request for some data on pasture land with C4 functional type. We already have CF area types for pasture and c4 plants in general. We could construct the required information as follows:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;      float pastureFracC4(time, lat, lon) ;
</em><br />
<em class="quotelev2">&gt;&gt;          pastureFracC4:coordinates = &quot;type ftpye&quot; ;
</em><br />
<em class="quotelev2">&gt;&gt;          pastureFracC4: standard_name = &quot;area_fraction&quot;;
</em><br />
<em class="quotelev2">&gt;&gt;          ......
</em><br />
<em class="quotelev2">&gt;&gt;      char type(strlen) ;
</em><br />
<em class="quotelev2">&gt;&gt;          type:long_name = &quot;Pasture Land&quot; ;
</em><br />
<em class="quotelev2">&gt;&gt;          type:standard_name = &quot;area_type&quot; ;
</em><br />
<em class="quotelev2">&gt;&gt;      char ftype(strlen) ;
</em><br />
<em class="quotelev2">&gt;&gt;          ftype:long_name = &quot;Plant Functional Type&quot; ;
</em><br />
<em class="quotelev2">&gt;&gt;          ftype:standard_name = &quot;area_type&quot; ;
</em><br />
<em class="quotelev2">&gt;&gt; data:
</em><br />
<em class="quotelev2">&gt;&gt;   type = &quot;patsures&quot; ;
</em><br />
<em class="quotelev2">&gt;&gt;   ftype = &quot;c4_plant_functional_types&quot;;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; This would provide the information that the variable pastureFracC4 refers to areas that are both &quot;pastures&quot; and &quot;c4_plant_functional_types&quot;. An altenative would be to add a new area type, but I have the feeling that the area_type list will become unmanagable if we keep adding new terms for combinations of existing terms.  Can anyone see a problem with using two area_type coordinates?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; regards,
</em><br />
<em class="quotelev2">&gt;&gt; Martin
</em><br />
<span id="received"><dfn>Received on</dfn> Fri Jan 06 2017 - 10:29:48 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7958">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7959.html" title="Next message in the list">martin.juckes at stfc.ac.uk: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7957.html" title="Previous message in the list">Jonathan Gregory: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7957.html" title="Message to which this message replies">Jonathan Gregory: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./7959.html" title="Next message in this discussion thread">martin.juckes at stfc.ac.uk: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./7959.html" title="Message sent in reply to this message">martin.juckes at stfc.ac.uk: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7958" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7958" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7958" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7958" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:08 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7957.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7959.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
