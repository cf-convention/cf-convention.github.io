<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Composite area types in CMIP6 data from Jonathan Gregory on 2017-01-08 (cf-metadata-mailman)</title>
<meta name="Author" content="Jonathan Gregory (j.m.gregory)" />
<meta name="Subject" content="[CF-metadata] Composite area types in CMIP6 data" />
<meta name="Date" content="2017-01-08" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./7960.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7962.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Composite area types in CMIP6 data</h1>
<!-- received="Sun Jan  8 14:28:09 2017" -->
<!-- isoreceived="20170108142809" -->
<!-- sent="Sun, 8 Jan 2017 21:28:09 +0000" -->
<!-- isosent="20170108212809" -->
<!-- name="Jonathan Gregory" -->
<!-- email="j.m.gregory" -->
<!-- subject="[CF-metadata] Composite area types in CMIP6 data" -->
<!-- id="20170108212809.GA8931_at_met.reading.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="E21FBC3F00D7304687CB46529F9676D70102916AD4_at_exchmbx01" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start7961" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./7962.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata]  Direct radiation standard name&quot;">Next message</a> ]
[ <a href="./7960.html" title="Karl Taylor: &quot;[CF-metadata] Composite area types in CMIP6 data&quot;">Previous message</a> ]
[ <a href="./7959.html" title="martin.juckes at stfc.ac.uk: &quot;[CF-metadata] Composite area types in CMIP6 data&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7961" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7961" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7961" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7961" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jonathan Gregory &lt;<a href="mailto:j.m.gregory?Subject=Re%3A%20%5BCF-metadata%5D%20Composite%20area%20types%20in%20CMIP6%20data">j.m.gregory</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Sun, 8 Jan 2017 21:28:09 +0000</span><br />
</address>
<br />
Dear Martin
<br />
<br />I agree with you. I think that it is consistent with the general CF approach
<br />
that we should not introduce a new way of doing things when we have only one
<br />
use-case. To solve this problem in hand, the easiest thing would be to add
<br />
something like pastures_of_c4_plant_functional_types to the area_type table -
<br />
just a simple addition to the lexicon with no structural change.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br />On Fri, Jan 06, 2017 at 05:52:52PM +0000, martin.juckes at stfc.ac.uk wrote:
<br />
<em class="quotelev1">&gt; Date: Fri, 6 Jan 2017 17:52:52 +0000
</em><br />
<em class="quotelev1">&gt; From: martin.juckes at stfc.ac.uk
</em><br />
<em class="quotelev1">&gt; To: taylor13 at llnl.gov, j.m.gregory at reading.ac.uk
</em><br />
<em class="quotelev1">&gt; CC: alison.pamment at stfc.ac.uk, chris.d.jones at metoffice.gov.uk,
</em><br />
<em class="quotelev1">&gt;  cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: RE: Composite area types in CMIP6 data
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Hello Karl, Jonathan,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; before writing this email, I had a look at a CMIP5 variable using a similar coordinate, the variable &quot;treeFracSecEver&quot;. That variable was provided by one institution (MIROC). I mention that, because I feel we should be cautious about extendin the convention in ways which commit us to a certain approach (because of the backward compatibility requirement of future changes) for a variable which can be described with the existing features and may not be used in the same form again.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I agree that there are many possible approaches, but, partly because of that, I don't agree that modifying the standard area type list of convention is &quot;not a problem&quot;. It can be done, but it takes time -- and it is harder when the request is coming from outside the board. 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I'm happy to exploit any modifications to the area type list or convention that get approved, but, in the meantime I'd like to encode the request for these variables in a way which is consistent with the current rules of the CF convention. From my perspective, it would make sense to use the existing convention and look into a more structured encoding if there is a specific requirement for it. 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; regards,
</em><br />
<em class="quotelev1">&gt; Martin
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ________________________________________
</em><br />
<em class="quotelev1">&gt; From: Karl Taylor [taylor13 at llnl.gov]
</em><br />
<em class="quotelev1">&gt; Sent: 06 January 2017 17:29
</em><br />
<em class="quotelev1">&gt; To: Jonathan Gregory; Juckes, Martin (STFC,RAL,RALSP)
</em><br />
<em class="quotelev1">&gt; Cc: Pamment, Alison (STFC,RAL,RALSP); chris.d.jones at metoffice.gov.uk; cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: Re: Composite area types in CMIP6 data
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Hi Martin and Jonathan,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; An alternative would be to (generally) allow elemental area_types to be
</em><br />
<em class="quotelev1">&gt; combined with logical not/and/or connectors.  area_types are used either
</em><br />
<em class="quotelev1">&gt; as labels (stored in a variable pointed to by the coordinates attribute)
</em><br />
<em class="quotelev1">&gt; or in cell_methods.  In both cases parsing combined types would be
</em><br />
<em class="quotelev1">&gt; straightforward.   In your example their would only be a single
</em><br />
<em class="quotelev1">&gt; area_type coordinate, and the value of the coordinate could simply be
</em><br />
<em class="quotelev1">&gt; &quot;pastures .and. c4_plant_functional_types&quot; or even &quot;pastures and
</em><br />
<em class="quotelev1">&gt; c4_plant_functional_types&quot;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I know this appears like a significant change to the convention, but
</em><br />
<em class="quotelev1">&gt; since area_types are just strings, I suspect that software won't care
</em><br />
<em class="quotelev1">&gt; how long the strings are.   I doubt if any existing software would trip
</em><br />
<em class="quotelev1">&gt; over the compound area types (except perhaps the CF checker?).
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; best wishes,
</em><br />
<em class="quotelev1">&gt; Karl
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On 1/6/17 8:59 AM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev2">&gt; &gt; Dear Martin
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; It's legal to have more than one axis of a given standard_name but it is
</em><br />
<em class="quotelev2">&gt; &gt; possibly inconvenient, because analysis software could not use the standard_
</em><br />
<em class="quotelev2">&gt; &gt; name of those two coordinate variables to distinguish them; instead, it would
</em><br />
<em class="quotelev2">&gt; &gt; have to use the long_name or the variable name, which is not a CF-like method.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Another possibility would be to introduce new standard_names, which are
</em><br />
<em class="quotelev2">&gt; &gt; more precise, such as area_type_of_land_use and area_type_of_vegetation in this
</em><br />
<em class="quotelev2">&gt; &gt; case, while also keeping area_type as the union. That would require a
</em><br />
<em class="quotelev2">&gt; &gt; rearrangement of the area_type table.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On the whole, I think in this case it would be best to introduce a new
</em><br />
<em class="quotelev2">&gt; &gt; combined area_type of pastures_of_c4_plant_functional_types i.e. flatten it.
</em><br />
<em class="quotelev2">&gt; &gt; I guess this will also be more convenient for analysts than having to search
</em><br />
<em class="quotelev2">&gt; &gt; the combination of two dimensions. You are right of course that doing this
</em><br />
<em class="quotelev2">&gt; &gt; could turn the area_type table into an N^2 or even an N^n problem, which would
</em><br />
<em class="quotelev2">&gt; &gt; be unmanageable, but if this is the *only* use-case, or even if we had a dozen
</em><br />
<em class="quotelev2">&gt; &gt; such use-cases, it is not a problem. Thus, I would say we cross this bridge
</em><br />
<em class="quotelev2">&gt; &gt; when we come to it, rather than anticipating a problem which hasn't arisen
</em><br />
<em class="quotelev2">&gt; &gt; yet.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Best wishes
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Jonathan
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On Fri, Jan 06, 2017 at 11:43:57AM +0000, martin.juckes at stfc.ac.uk wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Date: Fri, 6 Jan 2017 11:43:57 +0000
</em><br />
<em class="quotelev3">&gt; &gt;&gt; From: martin.juckes at stfc.ac.uk
</em><br />
<em class="quotelev3">&gt; &gt;&gt; To: j.m.gregory at reading.ac.uk, taylor13 at llnl.gov, alison.pamment at stfc.ac.uk
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CC: chris.d.jones at metoffice.gov.uk, cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Subject: Composite area types in CMIP6 data
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Hello,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; In CMIP6 we have a request for some data on pasture land with C4 functional type. We already have CF area types for pasture and c4 plants in general. We could construct the required information as follows:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      float pastureFracC4(time, lat, lon) ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          pastureFracC4:coordinates = &quot;type ftpye&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          pastureFracC4: standard_name = &quot;area_fraction&quot;;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          ......
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      char type(strlen) ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          type:long_name = &quot;Pasture Land&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          type:standard_name = &quot;area_type&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      char ftype(strlen) ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          ftype:long_name = &quot;Plant Functional Type&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;          ftype:standard_name = &quot;area_type&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; data:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;   type = &quot;patsures&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;   ftype = &quot;c4_plant_functional_types&quot;;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; This would provide the information that the variable pastureFracC4 refers to areas that are both &quot;pastures&quot; and &quot;c4_plant_functional_types&quot;. An altenative would be to add a new area type, but I have the feeling that the area_type list will become unmanagable if we keep adding new terms for combinations of existing terms.  Can anyone see a problem with using two area_type coordinates?
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; regards,
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Martin
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<span id="received"><dfn>Received on</dfn> Sun Jan 08 2017 - 14:28:09 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start7961">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./7962.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata]  Direct radiation standard name"</a></li>
<li><dfn>Previous message</dfn>: <a href="./7960.html" title="Previous message in the list">Karl Taylor: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<li><dfn>In reply to</dfn>: <a href="./7959.html" title="Message to which this message replies">martin.juckes at stfc.ac.uk: "[CF-metadata] Composite area types in CMIP6 data"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg7961" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg7961" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg7961" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg7961" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:08 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./7960.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./7962.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
