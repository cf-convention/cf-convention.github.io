<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF compliant tripolar grid representation from Sebastien Villaume on 2017-04-06 (cf-metadata-mailman)</title>
<meta name="Author" content="Sebastien Villaume (sebastien.villaume)" />
<meta name="Subject" content="[CF-metadata] CF compliant tripolar grid representation" />
<meta name="Date" content="2017-04-06" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./8239.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./8241.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF compliant tripolar grid representation</h1>
<!-- received="Thu Apr  6 16:17:28 2017" -->
<!-- isoreceived="20170406151728" -->
<!-- sent="Thu, 6 Apr 2017 22:17:28 +0000 (GMT-00:00)" -->
<!-- isosent="20170406221728" -->
<!-- name="Sebastien Villaume" -->
<!-- email="sebastien.villaume" -->
<!-- subject="[CF-metadata] CF compliant tripolar grid representation" -->
<!-- id="846069890.33455798.1491517048856.JavaMail.zimbra_at_ecmwf.int" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="D7D1372D480AEE41B3C1276C9A15404B42D3255F_at_EXXCMPD1DAG1.cmpd1.metoffice.gov.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start8240" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./8241.html" accesskey="d" title="V Balaji - NOAA Affiliate: &quot;[CF-metadata] Overstated restriction on references to external variables in version 1.7&quot;">Next message</a> ]
[ <a href="./8239.html" title="Sebastien Villaume: &quot;[CF-metadata] axis attribute&quot;">Previous message</a> ]
[ <a href="./8236.html" title="Hollis, Dan: &quot;[CF-metadata] CF compliant tripolar grid representation&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./8258.html" accesskey="t" title="Jim Biard: &quot;[CF-metadata] CF compliant tripolar grid representation&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg8240" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg8240" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg8240" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg8240" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Sebastien Villaume &lt;<a href="mailto:sebastien.villaume?Subject=Re%3A%20%5BCF-metadata%5D%20CF%20compliant%20tripolar%20grid%20representation">sebastien.villaume</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 6 Apr 2017 22:17:28 +0000 (GMT-00:00)</span><br />
</address>
<br />
Hi all,
<br />
<br />I can see here another example a misleading and overlapping concepts!
<br />
<br />what is a grid mapping compared to a map projections? I am not at all an expert but &quot;I thought&quot; (I may well be wrong) that grid mapping is how the grid is positioned of the earth sphere. One part of it is to project the grid on the sphere (&quot;map projection&quot;), then it can be whatever mathematical transformations ( like rotation)...
<br />
<br />So I see it like this:  grid_mapping = map_projection + transfo 1 + transfo 2 + transfo 3 + ...
<br />
<br />Of course if there are no transformations, a grid_mapping can be a pure map_projection. If appendix F is meant for grid_mapping that are only pure map projections then I suggest that it is renamed &quot;map projections&quot; only. But then we need a mechanism to describe grid_mapping
<br />
<br />In the case of tripolar grids, you are correct, mark, that those grids are not &quot;real&quot; grids. It is in fact a composite of two grids, one for the regular part and another one for the &quot;irregular part&quot;. Both parts can be described (in the mathematical sense) and can be projected but separately.
<br />
<br />Then some ORCA grids can be less conservative and move some of the points from land area to water regions in order to increase the resolution in these regions....
<br />
<br />____________________________________ 
<br />
<br />Dr. S?bastien Villaume 
<br />
Analyst 
<br />
ECMWF 
<br />
Shinfield Park, 
<br />
Reading RG2 9AX, UK 
<br />
+44 7825 521592 
<br />
sebastien.villaume at ecmwf.int 
<br />
____________________________________
<br />
<br />----- Original Message -----
<br />
From: &quot;Hollis, Dan&quot; &lt;dan.hollis at metoffice.gov.uk&gt;
<br />
To: &quot;Gregory, Jonathan&quot; &lt;j.m.gregory at reading.ac.uk&gt;, cf-metadata at cgd.ucar.edu
<br />
Cc: &quot;David Hassell&quot; &lt;david.hassell at ncas.ac.uk&gt;
<br />
Sent: Thursday, 6 April, 2017 17:35:35
<br />
Subject: Re: [CF-metadata] CF compliant tripolar grid representation
<br />
<br />Hi Jonathan,
<br />
<br />As is often the case, it's both informative and interesting to know something of the history of these things.
<br />
<br />I approach the subject from the perspective of someone who uses GIS software to map small portions of the globe. Consequently I'm thinking of this in terms of map projections (e.g. as defined by EPSG codes) rather than the more general grid mapping concept you describe.
<br />
<br />I guess it's all a question of how broad you make the concept. I see 'rotated pole' as 'lat-long CRS + a transformation', which is why I said I didn't think it was a CRS - from my viewpoint I'd probably prefer to see the base CRS and the transformation defined independently. In practice the grid mapping concept already extends to include rotated pole grids - based on the comments from David and Mark, and the fact that grid mapping was first introduced for models, I guess this is well accepted. Whether the concept can/should be even further generalised to accommodate any arbitrary mapping is unclear to me - it's certainly another step removed from what I might expect grid_mapping to describe. Clearly, from your perspective, it always was a general concept so no reinterpretation is required!
<br />
<br />Regards,
<br />
<br />Dan
<br />
<br /><br />-----Original Message-----
<br />
From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Jonathan Gregory
<br />
Sent: 06 April 2017 16:35
<br />
To: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] CF compliant tripolar grid representation
<br />
<br />Dear Dan and Mark
<br />
<br />It's true that the rotated pole is a different case from the others in App F, which are map projections. However my understanding of the grid mapping is that it's a more general idea. It maps the 1D x and y coordinates of the grid to geographical space. Like all of CF, it was first introduced for models, which have idealised worlds. Subsequently other parameters were added to describe mappings for worlds of realistic shape. There are quite a lot of additions to grid_mapping attributes in agreed trac tickets now being incorporated in CF 1.7 for this reason.
<br />
<br />With this general idea, it seems quite natural to me that a mapping from grid x and y indices to geographical space, which is what the tripolar grid does, fits in grid_mapping. There are many other model grids in use which are also not map projections, where it might be convenient to use grid_mapping to pro- vide further information about the construction of the grid in real space.
<br />
This would not require any new machinery in CF, except possibly attributes in grid_mapping for new parameters, so it's an economical solution.
<br />
<br />If the construction of the grid is really quite arbitary, then probably the only information grid_mapping could provide would be a link to documentation which explains how lat,lon relate to i,j. But that would still be useful, I think.
<br />
<br />The mention of Appendix D (rather than F) was my mistake.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br />----- Forwarded message from &quot;Hollis, Dan&quot; &lt;dan.hollis at metoffice.gov.uk&gt; -----
<br />
<br /><em class="quotelev1">&gt; Date: Thu, 6 Apr 2017 09:10:40 +0000
</em><br />
<em class="quotelev1">&gt; From: &quot;Hollis, Dan&quot; &lt;dan.hollis at metoffice.gov.uk&gt;
</em><br />
<em class="quotelev1">&gt; To: &quot;Hedley, Mark&quot; &lt;mark.hedley at metoffice.gov.uk&gt;, &quot;cf-metadata at cgd.ucar.edu&quot;
</em><br />
<em class="quotelev1">&gt; 	&lt;cf-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Hi Mark,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I support your concerns. There is a difference between stating which geographic and/or projected CRS is being used and defining which specific points are included in the data set. The issue of describing a tripolar grid seems to relate to the latter not the former.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; From a quick glance at Appendix F I would say that the odd one out is the rotated pole. Describing a grid as 'rotated pole' is surely just convenient shorthand for describing which points in a lat-long CRS you are using. It is certainly not a CRS and, arguably, not a grid mapping. Is it possible, for example, to declare that a grid is 'rotated pole' _and_ that the CRS is WGS84?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Perhaps tripolar grids and rotated pole grids are two parts of the same problem.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Regards,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dan
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; -----Original Message-----
</em><br />
<em class="quotelev1">&gt; From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf 
</em><br />
<em class="quotelev1">&gt; Of Hedley, Mark
</em><br />
<em class="quotelev1">&gt; Sent: 06 April 2017 09:28
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I would like to restate my concern about describing the tri-polar grid as a coordinate reference system, using the 'grid mapping' defined in approach in 5.6. Horizontal Coordinate Reference Systems, Grid Mappings, and Projections and Appendix F Grid Mappings.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I do not think that the tri-polar grid is a Coordinate Reference System, unlike all other entities defined in Appendix F.  I think that adding a tri-polar definition here fundamentally alters the interpretation of 'grid mapping' and has potentially significant implications for software providing capabilities to work with grid mapping entities.
</em><br />
<em class="quotelev1">&gt; This would represent a significant change of scope for these aspects of the Conventions document.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Currently all entries in Appendix F are either a Geographic Coordinate Reference System or a Projected Coordinate Reference System.
</em><br />
<em class="quotelev1">&gt; The tri-polar grid is neither of these.
</em><br />
<em class="quotelev1">&gt; The mechanics of looking up the required longitude and latitude values 
</em><br />
<em class="quotelev1">&gt; for a given x/i and y/j coordinate index are not mathematically 
</em><br />
<em class="quotelev1">&gt; similar to the calculations for geographic or projected space
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I think the CF community would do well to consider where else information defining a tri-polar grid may be encoded in a file, and to keep the scope of the Grid Mapping section constrained.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I saw Appendix D: Parametric Vertical Coordinates mentioned as well, all be it in passing.  The tri-polar grid does not seem like a case of parametric coordinates either, to me, even if the 'vertical' was relaxed.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I realise I am raising objections but not proposing solutions, I do not have an easy answer here, I am afraid.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; all the best
</em><br />
<em class="quotelev1">&gt; mark
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ________________________________________
</em><br />
<em class="quotelev1">&gt; From: CF-metadata [cf-metadata-bounces at cgd.ucar.edu] on behalf of 
</em><br />
<em class="quotelev1">&gt; Sebastien Villaume [sebastien.villaume at ecmwf.int]
</em><br />
<em class="quotelev1">&gt; Sent: 05 April 2017 19:20
</em><br />
<em class="quotelev1">&gt; To: Gregory, Jonathan
</em><br />
<em class="quotelev1">&gt; Cc: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dear Jonathan,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I will try to look at Appendix F and come back with a proposal. I have a rough idea of what I need but I have no clue what would be the proper terms for those: extra attributes to describe north pole 1 and north pole 2, latitude separating the &quot;regular&quot; from the irregular region, etc.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ____________________________________
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dr. S?bastien Villaume
</em><br />
<em class="quotelev1">&gt; Analyst
</em><br />
<em class="quotelev1">&gt; ECMWF
</em><br />
<em class="quotelev1">&gt; Shinfield Park,
</em><br />
<em class="quotelev1">&gt; Reading RG2 9AX, UK
</em><br />
<em class="quotelev1">&gt; +44 7825 521592
</em><br />
<em class="quotelev1">&gt; sebastien.villaume at ecmwf.int
</em><br />
<em class="quotelev1">&gt; ____________________________________
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- Original Message -----
</em><br />
<em class="quotelev1">&gt; From: &quot;Jonathan Gregory&quot; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Sent: Wednesday, 5 April, 2017 16:15:55
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dear Sebastien
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Apologies. I meant Appendix F (grid mappings) not D. Could you describe your species of tripolar grid as one of these? Maybe there aren't any parameters to be recorded.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- Forwarded message from Sebastien Villaume 
</em><br />
<em class="quotelev1">&gt; &lt;sebastien.villaume at ecmwf.int&gt; -----
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Date: Wed, 5 Apr 2017 08:47:57 +0000
</em><br />
<em class="quotelev2">&gt; &gt; From: Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev2">&gt; &gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev2">&gt; &gt; X-Mailer: Zimbra 8.6.0_GA_1200 (ZimbraWebClient - FF50
</em><br />
<em class="quotelev2">&gt; &gt; (Linux)/8.6.0_GA_1200)
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hi all,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I could try to draft an new entry in grid_mapping or a new entry in 
</em><br />
<em class="quotelev2">&gt; &gt; Appendix D (it will not be a dimensionless &quot;vertical&quot; coordinate but 
</em><br />
<em class="quotelev2">&gt; &gt; a dimensionless &quot;horizontal&quot; coordinate)
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Could we agree first on what I need to define? I don't want to invest too much time in defining something before everyone agree on the way forward.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; thanks
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Dr. S?bastien Villaume
</em><br />
<em class="quotelev2">&gt; &gt; Analyst
</em><br />
<em class="quotelev2">&gt; &gt; ECMWF Shinfield Park,
</em><br />
<em class="quotelev2">&gt; &gt; Reading RG2 9AX, UK
</em><br />
<em class="quotelev2">&gt; &gt; +44 7825 521592
</em><br />
<em class="quotelev2">&gt; &gt; sebastien.villaume at ecmwf.int
</em><br />
<em class="quotelev2">&gt; &gt; ____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev2">&gt; &gt; From: &quot;Jim Biard&quot; &lt;jbiard at cicsnc.org&gt;
</em><br />
<em class="quotelev2">&gt; &gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; Sent: Tuesday, 4 April, 2017 21:47:36
</em><br />
<em class="quotelev2">&gt; &gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hi.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I tend to agree with Jonathan about the use of the grid_mapping variable, although it would probably be necessary to provide a clear distinction between this sort of information about mapping grid indices to lats and lons and providing information about mapping projected coordinate axis values to lats and lons. This new use is probably more appropriate for the name of the variable ( grid _mapping). Having said that, the potential for confusion and complication makes me wonder if a new construct isn't needed.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; The problem that I see with x/y_coordinate_index is that the indices are very likely indices to lat/lon coordinates, not x/y coordinates. They function as a sort of unitless, non-geographic x and y, but I think it would better to avoid overloading concepts. It's also possible that these indices could be indices to x and y coordinates, so it seems to me that lat/lon_coordinate_index would be no better. This is what led me to the names in my list that didn't use x, y, lat, or lon. They could be useful in other scenarios, such as satellite swath imagery, which have axes of scan and sample, so I didn't want to constrain the terms too closely to the mesh grid scenario that this discussion started with.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Grace and peace,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Jim
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On 4/4/17 4:25 PM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Dear S?bastien et al.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; From what you say I understand that the translation of indices to 
</em><br />
<em class="quotelev2">&gt; &gt; coordinate values is rather ad-hoc, rather than being done by the 
</em><br />
<em class="quotelev2">&gt; &gt; same formulae for all sorts of tripolar grid. You could identify the 
</em><br />
<em class="quotelev2">&gt; &gt; grid construction, if that would be useful, in a non-standard way in 
</em><br />
<em class="quotelev2">&gt; &gt; some attribute such as &quot;comment&quot;. To provide a standardised 
</em><br />
<em class="quotelev2">&gt; &gt; description, I still think grid_mapping would be the right place, but evidently &quot;tripolar&quot; would not be a sufficient definition.
</em><br />
<em class="quotelev2">&gt; &gt; Instead you would need different entries in Appendix D for the 
</em><br />
<em class="quotelev2">&gt; &gt; different sorts of tripolar grid in use. In these entries you could 
</em><br />
<em class="quotelev2">&gt; &gt; certainly give URLs to documentation, I think, as well as a 
</em><br />
<em class="quotelev2">&gt; &gt; description. The aim of putting it in Appendix D would be to provide 
</em><br />
<em class="quotelev2">&gt; &gt; a source of information about how the indices are related to coordinate values.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I suggested [xy]_coordinate_index because these phrases are already 
</em><br />
<em class="quotelev2">&gt; &gt; used in standard names (one of each). If we don't like them now, we 
</em><br />
<em class="quotelev2">&gt; &gt; ought to change the existing names, since we should be consistent. I 
</em><br />
<em class="quotelev2">&gt; &gt; think the phrase &quot;coordinate index&quot; means &quot;the index to a coordinate 
</em><br />
<em class="quotelev2">&gt; &gt; value&quot;. Just &quot;index&quot; would be less informative, I feel.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Best wishes
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Jonathan
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ----- Forwarded message from Sebastien Villaume 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;sebastien.villaume at ecmwf.int&gt; -----
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Date: Mon, 3 Apr 2017 13:56:40 +0000
</em><br />
<em class="quotelev2">&gt; &gt; From: Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt; To: 
</em><br />
<em class="quotelev2">&gt; &gt; cf-metadata at cgd.ucar.edu Subject: Re: [CF-metadata] CF compliant 
</em><br />
<em class="quotelev2">&gt; &gt; tripolar grid representation
</em><br />
<em class="quotelev2">&gt; &gt; X-Mailer: Zimbra 8.6.0_GA_1200 (ZimbraWebClient - FF50
</em><br />
<em class="quotelev2">&gt; &gt; (Linux)/8.6.0_GA_1200)
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hi Mark,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I agree that we need to find the best way to describe these grids (with the appropriate controlled metadata) and not necessarily use an existing concept (crs, grid_mapping) if it does not fit the purpose and generates confusion.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; These tripolar grids are tricky and I guess this is why there is no standard systematic way to describe them.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Reading more on it, I realized that some of them are not always &quot;regular grids&quot; (by regular I mean monotonic increase of lat and lon when increasing i and j indices): it seems that some NEMO configurations reuse some of the i and j indices that are over land (large parts of Asia and Africa) and relocate them over specific water regions to locally increase the grid resolution!
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; This can be seen here: <a href="http://www.nemo-ocean.eu/content/download/7538/40914/file/meshmask_grid.pdf">http://www.nemo-ocean.eu/content/download/7538/40914/file/meshmask_grid.pdf</a> Some of these grids do not have a simple analytical description since it is a composite of several local descriptions. How can I then properly reference/identify them? using an attribute like &quot;model_grid_mapping&quot; or &quot;model_mesh_mapping&quot; or simply &quot;mesh_mapping&quot; instead of &quot;grid_mapping&quot; and points to an URN/URI?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; AMy main issue is that I can not derive directly from the metadata the type of grid used. I have to plot it to know what it is and this is not satisfactory.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Regardless of the preferred solution (if one exists), I would still like to have a proper standard name for my 1-D mesh indices i and j.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; thanks
</em><br />
<em class="quotelev2">&gt; &gt; ____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Dr. S?bastien Villaume
</em><br />
<em class="quotelev2">&gt; &gt; Analyst
</em><br />
<em class="quotelev2">&gt; &gt; ECMWF Shinfield Park,
</em><br />
<em class="quotelev2">&gt; &gt; Reading RG2 9AX, UK
</em><br />
<em class="quotelev2">&gt; &gt; +44 7825 521592 sebastien.villaume at ecmwf.int 
</em><br />
<em class="quotelev2">&gt; &gt; +____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev2">&gt; &gt; From: &quot;Hedley, Mark&quot; &lt;mark.hedley at metoffice.gov.uk&gt; To: &quot;Jim Biard&quot; 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;jbiard at cicsnc.org&gt; , cf-metadata at cgd.ucar.edu Sent: Monday, 3 
</em><br />
<em class="quotelev2">&gt; &gt; April,
</em><br />
<em class="quotelev2">&gt; &gt; 2017 10:28:05
</em><br />
<em class="quotelev2">&gt; &gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hello All,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I'd like to pick up on an earlier comment from Jim:
</em><br />
<em class="quotelev2">&gt; &gt; If I'm not mistaken, we would need to propose a new grid_mapping to 
</em><br />
<em class="quotelev2">&gt; &gt; be added to the Conventions that would define a Tripolar Coordinate 
</em><br />
<em class="quotelev2">&gt; &gt; Reference System, along with any attributes that don't currently 
</em><br />
<em class="quotelev2">&gt; &gt; exist that are needed to complete the definition. I did a search for 
</em><br />
<em class="quotelev2">&gt; &gt; a standard tripolar CRS in proj4 or epsg, and was unable to find 
</em><br />
<em class="quotelev2">&gt; &gt; one. Is it possible to make such a definition?
</em><br />
<em class="quotelev2">&gt; &gt; I don't think this is the correct approach
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; In my opinion, the tri-polar grid is described with respect to a Geographic Coordinate Reference System: typically the one used to co-locate the observations for assimilation, by spatial coordinates.
</em><br />
<em class="quotelev2">&gt; &gt; The 'Grid' is not a projection and it is not a coordinate reference system: it is the description of a model grid.
</em><br />
<em class="quotelev2">&gt; &gt; In data files I have seen, each spatial location is defined by a location in latitude, longitude and depth, with respect to a suitable geodetic datum.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I agree with your more recent comment Jim:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I'm wondering if x and y have too strong an association to projected 
</em><br />
<em class="quotelev2">&gt; &gt; coordinate systems. I also like u/v, but that may be too strongly 
</em><br />
<em class="quotelev2">&gt; &gt; associated for some people with vector components (wind, for example).
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I think that describing grid indices should be carefully distinguished from spatial coordinates. Put a different way, I don't think a grid index can be georeferenceable.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I think that a good deal of care not to confuse the grid indices with any interpretation of 'grid_mapping' relations is required here.
</em><br />
<em class="quotelev2">&gt; &gt; I don't think that a CF grid mapping should be used to connect any description of model index space with geographic space in these cases.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Sebastien states:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I would like to propose for addition standard names to support the mesh indices/coordinates:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; &quot;mesh_grid_i/j_index&quot; suggested by Jim or &quot;x/y_coordinate_index&quot; 
</em><br />
<em class="quotelev2">&gt; &gt; suggested by Jonathan
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; The mixing of the terms coordinate and index gives me pause for thought. What information is being encoded here?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; A key question I have is about the expectation for values of these indices, under operations such as sub-setting. I have seen many files which do not have coordinate variables for the x-like and y-like dimensions, the only horizontal spatial metadata is contained in auxiliary coordinates.
</em><br />
<em class="quotelev2">&gt; &gt; Clearly I can perform index operations on these arrays, but I don't consider the index values important and I don't preserve them.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Sebastien:
</em><br />
<em class="quotelev2">&gt; &gt; Is it the case that you would like to ensure that model index space values are preserved, for example when removing a regional subset from a tri-polar ocean model?
</em><br />
<em class="quotelev2">&gt; &gt; Would you like to be able to encode a result where it is clear that a regional subset of 50 &lt;= x &lt; 150, 70 &lt;= x &lt; 120 has been taken from a larger extent model?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; If standard names are provided to encode such information, I would 
</em><br />
<em class="quotelev2">&gt; &gt; advocate clear descriptive text stating that there is no 
</em><br />
<em class="quotelev2">&gt; &gt; mathematical relationship between such index coordinates (i still 
</em><br />
<em class="quotelev2">&gt; &gt; don't like mixing these terms) and projection coordinates or 
</em><br />
<em class="quotelev2">&gt; &gt; geographic coordinates
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Sebastien states:
</em><br />
<em class="quotelev2">&gt; &gt; I have checked both IPSL and CNRM CMIP5 datasets. It is indeed NEMO 
</em><br />
<em class="quotelev2">&gt; &gt; datasets and it is probably a ORCA tripolar grid in both cases. I 
</em><br />
<em class="quotelev2">&gt; &gt; write &quot;probably&quot; because it is not clear and conclusive without plotting the datasets: lat and lon are 2D fields, the datasets define 2 extra 1D coordinates &quot;i&quot; and &quot;j&quot;
</em><br />
<em class="quotelev2">&gt; &gt; to be used as mesh indices (but without a proper standard name).
</em><br />
<em class="quotelev2">&gt; &gt; The datasets also have bounds for lat and lon, defined as 
</em><br />
<em class="quotelev2">&gt; &gt; &quot;lat_vertices&quot; and &quot;lon_vertices&quot; which I think is one solution to 
</em><br />
<em class="quotelev2">&gt; &gt; describe the tripolar grid. I would prefer something more 
</em><br />
<em class="quotelev2">&gt; &gt; standardized and documented so that one can quickly identify from 
</em><br />
<em class="quotelev2">&gt; &gt; the metadata that it is a tripolar grid (defining the resolution, 
</em><br />
<em class="quotelev2">&gt; &gt; where are the poles, how it is derived, etc.)
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I appreciate the desire to have a standardised approach to defining 
</em><br />
<em class="quotelev2">&gt; &gt; such a model grid. I would not advocate trying to use grid mapping variables and relationships for this, I think this could do more harm than good.
</em><br />
<em class="quotelev2">&gt; &gt; I don't have a better suggestion to hand, I'm sad to say.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I am not raising principled objections to this conversation or the direction of travel; I am raising waryness and caution about introducing further confusion or implying stronger relationships than can be provided.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; all the best
</em><br />
<em class="quotelev2">&gt; &gt; mark
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; From: CF-metadata [ cf-metadata-bounces at cgd.ucar.edu ] on behalf of 
</em><br />
<em class="quotelev2">&gt; &gt; Jim Biard [ jbiard at cicsnc.org ]
</em><br />
<em class="quotelev2">&gt; &gt; Sent: 31 March 2017 23:26
</em><br />
<em class="quotelev2">&gt; &gt; To: cf-metadata at cgd.ucar.edu Subject: Re: [CF-metadata] CF compliant 
</em><br />
<em class="quotelev2">&gt; &gt; tripolar grid representation
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hi.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I like the more generic x/y_coordinate_index name, but I'm wondering if x and y have too strong an association to projected coordinate systems. I also like u/v, but that may be too strongly associated for some people with vector components (wind, for example). What do the rest of you think? Here are some names that come to mind. Feel free to suggest something better!
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;     * mesh_grid_i_index, mesh_grid_j_index
</em><br />
<em class="quotelev2">&gt; &gt;     * grid_i_index, grid_j_index
</em><br />
<em class="quotelev2">&gt; &gt;     * grid_i_coordinate, grid_j_coordinate
</em><br />
<em class="quotelev2">&gt; &gt;     * x_coordinate_index, y_coordinate_index
</em><br />
<em class="quotelev2">&gt; &gt;     * index_x_coordinate, index_y_coordinate (this ordering matches the projection_x/y_coordinate naming)
</em><br />
<em class="quotelev2">&gt; &gt;     * u_coordinate, v_coordinate
</em><br />
<em class="quotelev2">&gt; &gt;     * i_coordinate, j_coordinate
</em><br />
<em class="quotelev2">&gt; &gt;     * grid_row_coordinate, grid_column_coordinate
</em><br />
<em class="quotelev2">&gt; &gt;     * row_coordinate, column_coordinate
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; The more I look at these, the more I like the last two.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; As for a definitions, how about something like this variation on the ones for the projection_x/y_coordinate?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; column_coordinate: &quot;column&quot; indicates the fastest-changing dimension of a two-dimensional grid, when this is not associated with a spatial coordinate dimension such as longitude or projected X, positive with increasing column. The column coordinate, possibly in conjunction with the row coordinate, serves as a parametric driver mapping abstract grid positions to spatial coordinates such as latitude and longitude.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; row_coordinate: &quot;row&quot; indicates the the slowest-changing dimension 
</em><br />
<em class="quotelev2">&gt; &gt; of a 2-dimensional grid, when this is not associated with a spatial 
</em><br />
<em class="quotelev2">&gt; &gt; coordinate dimension such as latitude or projected Y, positive with 
</em><br />
<em class="quotelev2">&gt; &gt; increasing row. The row and column coordinates serve as a parametric 
</em><br />
<em class="quotelev2">&gt; &gt; driver mapping abstract grid positions to spatial coordinates such 
</em><br />
<em class="quotelev2">&gt; &gt; as latitude and longitude. Grace and peace,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Jim
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On 3/31/17 5:37 PM, Sebastien Villaume wrote:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hi all,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I have checked both IPSL and CNRM CMIP5 datasets. It is indeed NEMO 
</em><br />
<em class="quotelev2">&gt; &gt; datasets and it is probably a ORCA tripolar grid in both cases. I 
</em><br />
<em class="quotelev2">&gt; &gt; write &quot;probably&quot; because it is not clear and conclusive without 
</em><br />
<em class="quotelev2">&gt; &gt; plotting the datasets: lat and lon are 2D fields, the datasets 
</em><br />
<em class="quotelev2">&gt; &gt; define
</em><br />
<em class="quotelev2">&gt; &gt; 2 extra 1D coordinates &quot;i&quot; and &quot;j&quot; to be used as mesh indices (but 
</em><br />
<em class="quotelev2">&gt; &gt; without a proper standard name). The datasets also have bounds for 
</em><br />
<em class="quotelev2">&gt; &gt; lat and lon, defined as &quot;lat_vertices&quot; and &quot;lon_vertices&quot; which I 
</em><br />
<em class="quotelev2">&gt; &gt; think is one solution to describe the tripolar grid. I would prefer 
</em><br />
<em class="quotelev2">&gt; &gt; something more standardized and documented so that one can quickly 
</em><br />
<em class="quotelev2">&gt; &gt; identify from the metadata that it is a tripolar grid (defining the 
</em><br />
<em class="quotelev2">&gt; &gt; resolution, where are the poles, how it is derived, etc.)
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I would like to propose for addition standard names to support the mesh indices/coordinates:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; &quot;mesh_grid_i/j_index&quot; suggested by Jim or &quot;x/y_coordinate_index&quot; 
</em><br />
<em class="quotelev2">&gt; &gt; suggested by Jonathan
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I let the experts in standard names decide which pair suits best the present case.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Regarding tripolar grids characteristics, I did some research and came to the conclusion that &quot;Murray tripolar grids&quot; are not identical to &quot;ORCA/NEMO tripolar grids&quot;. This is true even without considering characteristics like the grid resolution, the location of the poles or where the latitude boundary is placed between the modified and unmodified parts.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; The Murray tripolar grid (used by GFDL) has its &quot;north&quot; poles on the boundary as shown here: <a href="https://www.gfdl.noaa.gov/wp-content/uploads/pix/user_images/mw/bipolar.gif">https://www.gfdl.noaa.gov/wp-content/uploads/pix/user_images/mw/bipolar.gif</a> The ORCA/NEMO tripolar grids have the &quot;north&quot; poles within the modified regions but not on the boundary as shown in my original post: <a href="http://www.geomar.de/typo3temp/pics/globe_grid2_14_b8edb639ae.png">http://www.geomar.de/typo3temp/pics/globe_grid2_14_b8edb639ae.png</a> This complicates things...
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Dr. S?bastien Villaume
</em><br />
<em class="quotelev2">&gt; &gt; Analyst
</em><br />
<em class="quotelev2">&gt; &gt; ECMWF Shinfield Park,
</em><br />
<em class="quotelev2">&gt; &gt; Reading RG2 9AX, UK
</em><br />
<em class="quotelev2">&gt; &gt; +44 7825 521592 sebastien.villaume at ecmwf.int 
</em><br />
<em class="quotelev2">&gt; &gt; +____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev2">&gt; &gt; From: &quot;James Orr&quot; &lt;James.Orr at lsce.ipsl.fr&gt; To: &quot;Karl Taylor&quot; 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;taylor13 at llnl.gov&gt; Cc: cf-metadata at cgd.ucar.edu Sent: Thursday, 30 
</em><br />
<em class="quotelev2">&gt; &gt; March, 2017 23:01:54
</em><br />
<em class="quotelev2">&gt; &gt; Subject: Re: [CF-metadata] CF compliant tripolar grid representation
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; The IPSL and CNRM cimate models that participated in CMIP5 both used 
</em><br />
<em class="quotelev2">&gt; &gt; the NEMO model (ORCA2 and ORCA1 configurations) with tripolar grids.
</em><br />
<em class="quotelev2">&gt; &gt; Both provided output the was CF compliant.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; James
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On Thu, 30 Mar 2017, Karl Taylor wrote:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hi Sebastien,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; More than one group stored output on a tripolar grid in CMIP5.  I'm 
</em><br />
<em class="quotelev2">&gt; &gt; pretty sure they did it in a CF-conforming way.  I know at least 
</em><br />
<em class="quotelev2">&gt; &gt; some of the GFDL model output was reported on a tripolar grid, as 
</em><br />
<em class="quotelev2">&gt; &gt; described at <a href="http://nomads.gfdl.noaa.gov/CM2.X/oceangrid.html">http://nomads.gfdl.noaa.gov/CM2.X/oceangrid.html</a> (or 
</em><br />
<em class="quotelev2">&gt; &gt; search on &quot;tripolar grid&quot; for additional links).  You could look to their example, and see if you think it is done correctly.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I don't think extensions or modifications to CF are needed for 
</em><br />
<em class="quotelev2">&gt; &gt; tripolar grids.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; best regards,
</em><br />
<em class="quotelev2">&gt; &gt; Karl
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On 3/30/17 9:42 AM, Jim Biard wrote:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; S?bastien,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; If I'm not mistaken, we would need to propose a new grid_mapping to 
</em><br />
<em class="quotelev2">&gt; &gt; be added to the Conventions that would define a Tripolar Coordinate 
</em><br />
<em class="quotelev2">&gt; &gt; Reference System, along with any attributes that don't currently 
</em><br />
<em class="quotelev2">&gt; &gt; exist that are needed to complete the definition. I did a search for 
</em><br />
<em class="quotelev2">&gt; &gt; a standard tripolar CRS in proj4 or epsg, and was unable to find 
</em><br />
<em class="quotelev2">&gt; &gt; one. Is it possible to make such a definition?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Regarding the standard names for your X and Y coordinate variables, 
</em><br />
<em class="quotelev2">&gt; &gt; I think you could use &quot;projection_x/y_coordinate&quot; once a 
</em><br />
<em class="quotelev2">&gt; &gt; grid_mapping has been defined. Of course you could always leave the 
</em><br />
<em class="quotelev2">&gt; &gt; attribute off, since a standard_name attribute is not a requirement.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; If making a new grid_mapping is not feasible, you could request 
</em><br />
<em class="quotelev2">&gt; &gt; standard names along the lines of mesh_grid_i_index and 
</em><br />
<em class="quotelev2">&gt; &gt; mesh_grid_j_index. These standard names would (on reading their
</em><br />
<em class="quotelev2">&gt; &gt; definitions) make it clear that the measurements are on a mesh grid 
</em><br />
<em class="quotelev2">&gt; &gt; for which there is no CRS. At least that's what comes to mind at the moment.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Grace and peace,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Jim
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On 3/30/17 11:52 AM, Sebastien Villaume wrote:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Hello all,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I am looking for the best approach to describe in a CF compliant way 
</em><br />
<em class="quotelev2">&gt; &gt; the tripolar grids usually used in NEMO configurations.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Basically, the difference with a usual bipolar grid (north 
</em><br />
<em class="quotelev2">&gt; &gt; pole-south
</em><br />
<em class="quotelev2">&gt; &gt; pole) is that the north pole is split into 2 poles moved over Canada 
</em><br />
<em class="quotelev2">&gt; &gt; and Russia (to have distortions/singularities not over the ocean). A 
</em><br />
<em class="quotelev2">&gt; &gt; good visual representation can be found here:
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://www.geomar.de/typo3temp/pics/globe_grid2_14_b8edb639ae.png">http://www.geomar.de/typo3temp/pics/globe_grid2_14_b8edb639ae.png</a>
</em><br />
<em class="quotelev2">&gt; &gt; everything south of the green line (40degN) is identical to a 
</em><br />
<em class="quotelev2">&gt; &gt; regular grid, but everything north of it is computed using a 
</em><br />
<em class="quotelev2">&gt; &gt; technique described
</em><br />
<em class="quotelev2">&gt; &gt; here:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Madec, G. and M. Imbard, 1996 : A global ocean mesh to overcome the 
</em><br />
<em class="quotelev2">&gt; &gt; north pole singularity. Clim. Dyn., 12, 381-388.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; The usual NEMO output of the grid looks like this:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;      float longitude(y, x) ;
</em><br />
<em class="quotelev2">&gt; &gt;          longitude:standard_name = &quot;longitude&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          longitude:units = &quot;degrees_east&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          longitude:long_name = &quot;longitude&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;      float latitude(y, x) ;
</em><br />
<em class="quotelev2">&gt; &gt;          latitude:standard_name = &quot;latitude&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          latitude:units = &quot;degrees_north&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          latitude:long_name = &quot;latitude&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Basically both latitudes and longitudes need to be specified for 
</em><br />
<em class="quotelev2">&gt; &gt; each grid point, hence lat and lon are 2D arrays. This is not a 
</em><br />
<em class="quotelev2">&gt; &gt; problem itself but I would like to give more information through 
</em><br />
<em class="quotelev2">&gt; &gt; maybe grid_mapping or crs so it is clear that the grid is tripolar. 
</em><br />
<em class="quotelev2">&gt; &gt; This is useful information if one want to project/interpolate this back to a more regular representation.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Looking at the CF conventions, I can see that grids can be fairly 
</em><br />
<em class="quotelev2">&gt; &gt; nicely documented but nothing for tripolar grids.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Is there some documentation/guidelines on how to derive a proper 
</em><br />
<em class="quotelev2">&gt; &gt; grid_mapping/crs with valid attributes for tripolar grids?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I would also like to add to my netcdf file a way to better describe axes:
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;      double y(y) ;
</em><br />
<em class="quotelev2">&gt; &gt;          y:units = &quot;1&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          y:long_name = &quot;j-index of mesh grid&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          y:standard_name = ??? ;
</em><br />
<em class="quotelev2">&gt; &gt;      double x(x) ;
</em><br />
<em class="quotelev2">&gt; &gt;          x:units = &quot;1&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          x:long_name = &quot;i-index of mesh grid&quot; ;
</em><br />
<em class="quotelev2">&gt; &gt;          x:standard_name = ??? ;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; what would be the standard name of these?
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Thanks,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ____________________________________
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Dr. S?bastien Villaume
</em><br />
<em class="quotelev2">&gt; &gt; Analyst
</em><br />
<em class="quotelev2">&gt; &gt; ECMWF Shinfield Park,
</em><br />
<em class="quotelev2">&gt; &gt; Reading RG2 9AX, UK
</em><br />
<em class="quotelev2">&gt; &gt; +44 7825 521592 sebastien.villaume at ecmwf.int 
</em><br />
<em class="quotelev2">&gt; &gt; +____________________________________
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list CF-metadata at cgd.ucar.edu 
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a> -- CICS-NC 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="http://www.cicsnc.org/">http://www.cicsnc.org/</a>&gt; Visit us on Facebook 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="http://www.facebook.com/cicsnc">http://www.facebook.com/cicsnc</a>&gt; *Jim Biard* *Research Scholar* 
</em><br />
<em class="quotelev2">&gt; &gt; Cooperative Institute for Climate and Satellites NC 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="http://cicsnc.org/">http://cicsnc.org/</a>&gt; North Carolina State University 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="http://ncsu.edu/">http://ncsu.edu/</a>&gt; NOAA National Centers for Environmental 
</em><br />
<em class="quotelev2">&gt; &gt; Information &lt;<a href="http://ncdc.noaa.gov/">http://ncdc.noaa.gov/</a>&gt; /formerly NOAA's National 
</em><br />
<em class="quotelev2">&gt; &gt; Climatic Data Center/
</em><br />
<em class="quotelev2">&gt; &gt; 151 Patton Ave, Asheville, NC 28801
</em><br />
<em class="quotelev2">&gt; &gt; e: jbiard at cicsnc.org &lt;mailto:jbiard at cicsnc.org&gt; o: +1 828 271 4900
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; /Connect with us on Facebook for climate 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="https://www.facebook.com/NOAANCEIclimate">https://www.facebook.com/NOAANCEIclimate</a>&gt; and ocean and geophysics 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="https://www.facebook.com/NOAANCEIoceangeo">https://www.facebook.com/NOAANCEIoceangeo</a>&gt; information, and follow 
</em><br />
<em class="quotelev2">&gt; &gt; us on Twitter at _at_NOAANCEIclimate 
</em><br />
<em class="quotelev2">&gt; &gt; &lt;<a href="https://twitter.com/NOAANCEIclimate">https://twitter.com/NOAANCEIclimate</a>&gt;
</em><br />
<em class="quotelev2">&gt; &gt; and _at_NOAANCEIocngeo &lt;<a href="https://twitter.com/NOAANCEIocngeo">https://twitter.com/NOAANCEIocngeo</a>&gt; . /
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list CF-metadata at cgd.ucar.edu 
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a> --
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;       Visit us on
</em><br />
<em class="quotelev2">&gt; &gt; Facebook      Jim Biard
</em><br />
<em class="quotelev2">&gt; &gt; Research Scholar
</em><br />
<em class="quotelev2">&gt; &gt; Cooperative Institute for Climate and Satellites NC North Carolina 
</em><br />
<em class="quotelev2">&gt; &gt; State University NOAA National Centers for Environmental Information 
</em><br />
<em class="quotelev2">&gt; &gt; formerly NOAA's National Climatic Data Center
</em><br />
<em class="quotelev2">&gt; &gt; 151 Patton Ave, Asheville, NC 28801
</em><br />
<em class="quotelev2">&gt; &gt; e: jbiard at cicsnc.org o: +1 828 271 4900
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Connect with us on Facebook for climate and ocean and geophysics information, and follow us on Twitter at _at_NOAANCEIclimate and &#64;NOAANCEIocngeo &#46;<!--nospam-->
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list CF-metadata at cgd.ucar.edu 
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list CF-metadata at cgd.ucar.edu 
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt; &gt; ----- End forwarded message -----
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list CF-metadata at cgd.ucar.edu 
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; --
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;       Visit us on
</em><br />
<em class="quotelev2">&gt; &gt; Facebook      Jim Biard
</em><br />
<em class="quotelev2">&gt; &gt; Research Scholar
</em><br />
<em class="quotelev2">&gt; &gt; Cooperative Institute for Climate and Satellites NC North Carolina 
</em><br />
<em class="quotelev2">&gt; &gt; State University NOAA National Centers for Environmental Information 
</em><br />
<em class="quotelev2">&gt; &gt; formerly NOAA's National Climatic Data Center
</em><br />
<em class="quotelev2">&gt; &gt; 151 Patton Ave, Asheville, NC 28801
</em><br />
<em class="quotelev2">&gt; &gt; e: jbiard at cicsnc.org
</em><br />
<em class="quotelev2">&gt; &gt; o: +1 828 271 4900
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Connect with us on Facebook for climate and ocean and geophysics information, and follow us on Twitter at _at_NOAANCEIclimate and &#64;NOAANCEIocngeo &#46;<!--nospam-->
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- End forwarded message -----
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<br />----- End forwarded message -----
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
_______________________________________________
<br />
CF-metadata mailing list
<br />
CF-metadata at cgd.ucar.edu
<br />
<a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
<br />
<span id="received"><dfn>Received on</dfn> Thu Apr 06 2017 - 16:17:28 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start8240">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./8241.html" title="Next message in the list">V Balaji - NOAA Affiliate: "[CF-metadata] Overstated restriction on references to external variables in version 1.7"</a></li>
<li><dfn>Previous message</dfn>: <a href="./8239.html" title="Previous message in the list">Sebastien Villaume: "[CF-metadata] axis attribute"</a></li>
<li><dfn>In reply to</dfn>: <a href="./8236.html" title="Message to which this message replies">Hollis, Dan: "[CF-metadata] CF compliant tripolar grid representation"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./8258.html" title="Next message in this discussion thread">Jim Biard: "[CF-metadata] CF compliant tripolar grid representation"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg8240" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg8240" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg8240" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg8240" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:13 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./8239.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./8241.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
