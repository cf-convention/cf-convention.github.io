<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] CF conventions and netCDF4 groups from Maarten Sneep on 2018-03-26 (cf-metadata-mailman)</title>
<meta name="Author" content="Maarten Sneep (maarten.sneep)" />
<meta name="Subject" content="[CF-metadata] CF conventions and netCDF4 groups" />
<meta name="Date" content="2018-03-26" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./8747.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./8749.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] CF conventions and netCDF4 groups</h1>
<!-- received="Mon Mar 26 07:28:51 2018" -->
<!-- isoreceived="20180326062851" -->
<!-- sent="Mon, 26 Mar 2018 15:28:51 +0200" -->
<!-- isosent="20180326132851" -->
<!-- name="Maarten Sneep" -->
<!-- email="maarten.sneep" -->
<!-- subject="[CF-metadata] CF conventions and netCDF4 groups" -->
<!-- id="ede2c744-56d5-5540-c7fe-f3f9532cf245_at_knmi.nl" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="7ac09aba39984ccdba9ba97a921de6f0_at_OEMLBAC02.eum.root.eumetsat.int" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start8748" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./8749.html" accesskey="d" title="Jim Biard: &quot;[CF-metadata] bounds variable &#0038; closed-open intervals&quot;">Next message</a> ]
[ <a href="./8747.html" title="Daniel Lee: &quot;[CF-metadata] CF conventions and netCDF4 groups&quot;">Previous message</a> ]
[ <a href="./8747.html" title="Daniel Lee: &quot;[CF-metadata] CF conventions and netCDF4 groups&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./8753.html" accesskey="t" title="Erik Quaeghebeur: &quot;[CF-metadata] CF conventions and netCDF4 groups&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg8748" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg8748" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg8748" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg8748" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Maarten Sneep &lt;<a href="mailto:maarten.sneep?Subject=Re%3A%20%5BCF-metadata%5D%20CF%20conventions%20and%20netCDF4%20groups">maarten.sneep</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 26 Mar 2018 15:28:51 +0200</span><br />
</address>
<br />
On 26/03/18 15:00, Daniel Lee wrote:
<br />
<em class="quotelev1">&gt; Hi Erik,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; This has been the subject of a lot of discussion and for EUMETSAT it's also an important concern. Last year at the Advancing netCDF-CF workshop, there was a session devoted to it:
</em><br />
<em class="quotelev1">&gt; <a href="https://drive.google.com/drive/folders/0Bz54loClKyEKY1BnNjhyTTBIbEE">https://drive.google.com/drive/folders/0Bz54loClKyEKY1BnNjhyTTBIbEE</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Charlie Zender has led the effort on a draft extension for using groups in CF, which I think is very important. You can find it here:
</em><br />
<em class="quotelev1">&gt; <a href="https://docs.google.com/document/d/1KK6IZ2ZmpaUTVgrw-GlFd6almppjvGz6D7nxVTO3BtI/edit">https://docs.google.com/document/d/1KK6IZ2ZmpaUTVgrw-GlFd6almppjvGz6D7nxVTO3BtI/edit</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I haven't seen a lot of motion on this recently, but I'm hoping that we can generate some more momentum at the upcoming netCDF-CF workshop in June. My suggestion: Check out the proposals and get involved, or at least indicate your support if they're in line with your requirements. It sounds like your setup would essentially be using an intuitive &quot;scoping&quot; mechanism to make higher-level metadata &quot;visible&quot; &quot;from&quot; groups lower down the tree, goes in the direction of work done so far..
</em><br />
<br />Sentinel 5 precursor didn't have time to wait for the standards, so we went ahead and
<br />
implemented what we consider the most natural extension of the current situation:
<br />
<br />* referring to coordinates and ancillary variables is possible as long as the
<br />
variable and the coordinate or support variable share the same relevant dimensions.
<br />
This means that scoping rules are constrained by the scoping rules for dimensions.
<br />
<br />* References within groups use a variable name, references outside the group use a
<br />
full HDF-5 path (unix-like, groups separated by slashes).
<br />
<br />The structure in S5P is difference for L1B and L2, it looks like you may benefit most
<br />
from the L1B structure. See <a href="http://www.tropomi.eu/data-products/level-1">http://www.tropomi.eu/data-products/level-1</a> specifically
<br />
the IODS. There will be an update of this document, related specifically to the
<br />
references.
<br />
<br />Kind regards,
<br />
<br />Maarten Sneep
<br />
<br /><br /><em class="quotelev2">&gt;&gt; -----Original Message-----
</em><br />
<em class="quotelev2">&gt;&gt; From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf
</em><br />
<em class="quotelev2">&gt;&gt; Of Erik Quaeghebeur
</em><br />
<em class="quotelev2">&gt;&gt; Sent: 26 March 2018 11:14
</em><br />
<em class="quotelev2">&gt;&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; Subject: [CF-metadata] CF conventions and netCDF4 groups
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Dear list,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; I have not come across any mention of netCDF4 groups (and other netCDF4
</em><br />
<em class="quotelev2">&gt;&gt; features) in the CF conventions. I was wondering if there are nevertheless
</em><br />
<em class="quotelev2">&gt;&gt; standard ways to use groups.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; For example, I have repackaged some statistics data (csv files) from met
</em><br />
<em class="quotelev2">&gt;&gt; masts in netCDF4. I've been trying to apply the CF conventions, but bump
</em><br />
<em class="quotelev2">&gt;&gt; into issues, e.g., of duplication.
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Currently, the structure I use is:
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; root level:
</em><br />
<em class="quotelev2">&gt;&gt;   * time dimension/variable
</em><br />
<em class="quotelev2">&gt;&gt;   * per-instrument-type groups
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; instrument level:
</em><br />
<em class="quotelev2">&gt;&gt;   * height (of instrument) dimension/variable
</em><br />
<em class="quotelev2">&gt;&gt;   * instrument metadata attributes (not covered by CF conventions)
</em><br />
<em class="quotelev2">&gt;&gt;   * signal groups (some instruments measure more than one signal)
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; signal level:
</em><br />
<em class="quotelev2">&gt;&gt;   * signal specific metadata, e.g., units (covered by CF conventions, but for
</em><br />
<em class="quotelev2">&gt;&gt; variables)
</em><br />
<em class="quotelev2">&gt;&gt;   * signal statistics variables
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; statistics variables:
</em><br />
<em class="quotelev2">&gt;&gt;   * data
</em><br />
<em class="quotelev2">&gt;&gt;   * some statistic-specific attributes like cell_methods
</em><br />
<em class="quotelev2">&gt;&gt;   * should I duplicate the signal metadata such as unit here?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; The group structure is helpful, because its structure improves self-
</em><br />
<em class="quotelev2">&gt;&gt; descriptiveness, I feel. I guess the structure is also a form of metadata. But
</em><br />
<em class="quotelev2">&gt;&gt; perhaps it is considered out-of-scope for the CF conventions?
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Best,
</em><br />
<em class="quotelev2">&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Erik
</em><br />
<br /><br /><br />Maarten Sneep
<br />
<pre>
-- 
KNMI
T: 030 2206747
E: maarten.sneep at knmi.nl
R: A2.14
</pre>
<span id="received"><dfn>Received on</dfn> Mon Mar 26 2018 - 07:28:51 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start8748">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./8749.html" title="Next message in the list">Jim Biard: "[CF-metadata] bounds variable &#0038; closed-open intervals"</a></li>
<li><dfn>Previous message</dfn>: <a href="./8747.html" title="Previous message in the list">Daniel Lee: "[CF-metadata] CF conventions and netCDF4 groups"</a></li>
<li><dfn>In reply to</dfn>: <a href="./8747.html" title="Message to which this message replies">Daniel Lee: "[CF-metadata] CF conventions and netCDF4 groups"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./8753.html" title="Next message in this discussion thread">Erik Quaeghebeur: "[CF-metadata] CF conventions and netCDF4 groups"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg8748" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg8748" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg8748" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg8748" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:20 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./8747.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./8749.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
