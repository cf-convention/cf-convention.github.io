<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.3-c (Mar 8, 1996) by Nikos Drakos 
(nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Proposed netCDF conventions for climate data</TITLE>
<META NAME="description" CONTENT="Proposed netCDF conventions for climate 
data">
<META NAME="keywords" CONTENT="netCDF">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
</HEAD>
<BODY LANG="EN">
<P>
<H1 ALIGN=CENTER>Proposed netCDF conventions for climate data</H1>
<P ALIGN=CENTER><STRONG>Jonathan Gregory (1), Bob Drach (2) and Simon 
Tett (1)</STRONG>
<br>
(1) Hadley Centre, UK Met Office;
(2) PCMDI, temporarily at the Hadley Centre</p><p>
<P ALIGN=CENTER><STRONG>10th June 1997</STRONG></P><P>
<P>
<H1><A NAME="SECTION00010000000000000000">1 Purposes</A></H1>
This standard defines a set of conventions adopted in order to promote the
interchange and sharing of files created with the netCDF Application
Programmer Interface (API). This standard is based upon version 2.4 of
netCDF. Documentation of the netCDF API may be found in the ``NetCDF
Users' Guide'', Version 2.4, February 1996, available from URL
<TT>http://www.unidata.ucar.edu/packages/netcdf/</TT> or via anonymous ftp at
<TT>ftp.unidata.ucar.edu</TT>.
<P>
This standard is intended for use with climate data,
and was designed with data generated by GCMs particularly in mind.
We recognise that there are limits to what a standard can practically cover;
we restrict ourselves to issues which we believe to be of common and
frequent concern in the design of climate metadata.
This standard is mostly additional to the conventions sponsored by COARDS
(<TT>ftp://ftp.unidata.ucar.edu/netcdf/Conventions/COARDS</TT>).
In the following standard, parts which are identical to
or paraphrases of the COARDS
standard are prefixed with <font size=-1><small>COARDS</small></font>,
and new material with <font size=-1><small>NEW</small></font>.
Material from the Unidata netCDF users' guide is marked <font 
size=-1><small>UNIDATA</small></font>.
All Unidata recommendations are supported here
unless noted to the contrary.
Comments indicate the places where there are differences
between the standards.
Comments and examples are not part of the standard,
and are given in <EM>italic</EM>.
<P>
<font size=-1><small>COARDS</small></font>: This standard also refers to the 
udunits standard
supported by Unidata.
The udunits package is available via anonymous
ftp at <TT>ftp.unidata.ucar.edu</TT>.
<font size=-1><small>NEW</small></font>: See section <A 
HREF="#units">11</A> for details of how the package
is used by this convention to define units for physical quantities.
<P>
<H1><A NAME="SECTION00020000000000000000">2 Filename</A></H1>
<font size=-1><small>COARDS</small></font>: NetCDF files should have the file 
name extension <TT>.nc</TT>.
<P>
<A NAME="datatype"></A>
<H1><A NAME="SECTION00030000000000000000">3 Data types</A></H1>
<P>
<font size=-1><small>NEW</small></font>: The netCDF data types
<TT>char</TT>, <TT>short</TT>, <TT>long</TT>, <TT>float</TT>, and 
<TT>double</TT>
are all acceptable.
All numeric types are signed.
The <TT>byte</TT> data type, which is functionally identical to <TT>char</TT>,
is not recommended because its signedness may become ambiguous in
future versions of netCDF.
<EM>The COARDS convention deprecates <TT>char</TT>, rather than 
<TT>byte</TT>.</EM>
<P>
<font size=-1><small>NEW</small></font>: NetCDF does not support a character 
string type,
so these have to be represented as <TT>char</TT> arrays.
In this standard, we refer to them as type ``string''.
A string array must be implemented as a
two-dimensional character data variable,
serving as a vector of fixed-length strings,
the second dimension of its CDL declaration
<EM>(leading dimension in terms of Fortran)</EM>
being a constant <TT>StringMaxLength</TT>,
recorded as a dimension in the netCDF file.
<P>
<A NAME="attributes"></A>
<H1><A NAME="SECTION00040000000000000000">4 Attributes</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: This standard describes many 
attributes
(some mandatory, others optional),
but a file may also contain non-standard attributes.
Such attributes do not represent a violation of this standard.
Application programs should ignore attributes that they do not recognise
or which are irrelevant for their purposes.
<font size=-1><small>UNIDATA</small></font>: Conventional attribute names 
should be used wherever applicable.
Non-standard names should be as meaningful as possible.
Before introducing an attribute, consideration should be given to
whether the information would be better represented as a variable.
In general, if a proposed attribute
requires ancillary data to describe it,
is multidimensional, requires any of the defined netCDF
dimensions to index its values,
or requires a significant amount of storage,
a variable should be used instead.
<font size=-1><small>NEW</small></font>: When this standard defines string 
attributes which make take
various prescribed values, the possible values are given in lower case.
However, applications programs should not be sensitive to case
in these attributes.
<EM>See Appendix&nbsp;A for a list of attributes described by this 
standard.</EM>
<P>
<A NAME="global"></A>
<H1><A NAME="SECTION00050000000000000000">5 Global attributes</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: Although not mandatory,
the Unidata-standard attribute <TT>history</TT> is recommended to
record the evolution of the data contained within a netCDF
file. Applications which process netCDF data can append their
information to the <TT>history</TT> attribute.
<P>
<font size=-1><small>COARDS</small></font>: The Unidata-standard attribute 
<TT>Conventions</TT>
is recommended to reference this standard.
<P>
<font size=-1><small>NEW</small></font>: Use of the string attributes 
<TT>institution</TT> and
<TT>production</TT> is recommended.
The attribute
<TT>institution</TT> specifies who produced or supplied the data.
<EM>We prefer this name to ``center'' or ``centre'' because the two
possible spellings could cause confusion.</EM>
The attribute
<TT>production</TT> indicates how the data was produced.
If it was model-generated, <TT>production</TT> should name the model
and its version, as specifically as could be useful.
If it is observational, <TT>production</TT> should characterise it
<EM>e.g. <TT>&quot;surface observation&quot;</TT> or 
<TT>&quot;radiosonde&quot;</TT>.</EM>
A further string attribute <TT>comment</TT> is proposed, to contain
extra information about the file,
and additional attributes may be included as required.
<EM>The Hadley Centre, for example, will include an attribute <TT>
source</TT> to name the model integration.</EM>
<P>
<font size=-1><small>NEW</small></font>: The <TT>float</TT> attribute 
<TT>appendices</TT> is recommended to record
the version number of the appendices to this standard used by the
application which generated the file (see section <A 
HREF="#quantity">12</A>).
<P>
<font size=-1><small>NEW</small></font>: The <TT>calendar</TT> attribute (see 
section <A HREF="#time">24</A>) may
be recorded as a global attribute.
The global <TT>calendar</TT>
attribute is interpreted as a default for all time axes.
<P>
<A NAME="variablenames"></A>
<H1><A NAME="SECTION00060000000000000000">6 Variable names</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: Variable names should begin with a 
letter
and be composed of letters,
digits, and underscores.
<font size=-1><small>NEW</small></font>: Case is significant in netCDF names, 
but it is recommended that
names should not be distinguished purely by case
i.e. if case is disregarded, no two names should be the same.
<P>
<A NAME="datavariables"></A>
<H1><A NAME="SECTION00070000000000000000">7 Data variables</A></H1>
<P>
<font size=-1><small>NEW</small></font>: The netCDF variables which contain the
physical data are referred to as ``data variables'',
also referred to as ``primary variables'' by Unidata.
Apart from the general naming rules for variables (above,
section <A HREF="#variablenames">6</A>),
the names of data variables are not standardised by these
conventions (since files may in general contain multiple
data variables of the same physical quantity).
<P>
<A NAME="dimensionality"></A>
<H1><A NAME="SECTION00080000000000000000">8 Axes and dimensionality of a data 
variable</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A data variable may have any number of
 dimensions, including zero,
and the dimensions must all have different names.
<EM>COARDS strongly recommends limiting the number to four,
but we wish to allow greater flexibility.</EM>
The dimensions of the variable define the axes of the quantity it contains.
Dimensions other than those of space and time may be included.
<EM>One example is a dimension in electromagnetic radiation wavelength
for a data variable of radiative flux.
Components of vector or tensor quantities could be contained
in a single data variable by giving the variable a dimension over components.
While there exist advantages for manipulating such a variable in memory,
we see no strong advantage in introducing this complexity into the netCDF
description, and do not recommend it.</EM>
Under certain circumstances, one may need more than one
dimension in a particular quantity
(see section <A HREF="#multipletime">29</A> concerning multiple time
 axes).
<EM>For instance, a data variable containing a two-dimensional probability
density function might correlate the temperature at two different
vertical levels,
and hence would have temperature on both axes.</EM>
<P>
<font size=-1><small>COARDS</small></font>: If any or all of the
dimensions of a data variable have the interpretations
of ``date or time'' (<TT>T</TT>), ``height or depth'' (<TT>Z</TT>),
``latitude'' (<TT>Y</TT>), or ``longitude'' (<TT>X</TT>) then those
dimensions should appear in the relative order <TT>T</TT>, then <TT>Z</TT>,
then <TT>Y</TT>, then <TT>X</TT> in the CDL definition corresponding to the 
file.
<EM>N.B. In terms of Fortran, this means <TT>X</TT> is the first dimension
of the array.</EM> Non-spatiotemporal dimensions
should be placed to the left
of the spatiotemporal dimensions
<EM>i.e. as trailing dimensions in terms of Fortran</EM>.
<P>
<font size=-1><small>NEW</small></font>: Each dimension of a data variable must
 have a coordinate variable
supplying the coordinates of the points along that axis
(section <A HREF="#coordinates">9</A>).
The coordinates of points within the data variable are
the simple ordered tuples formed by associating values from the
coordinate variables.
<P>
<font size=-1><small>NEW</small></font>: Dimensions may be of any size, 
including unity.
When a single value of some physical quantity applies to all the values
in a data variable,
the recommended means of attaching this information to the variable
is by use of a singleton dimension (a dimension of size unity)
with a one-element coordinate variable.
<EM>For example, a data variable on a pressure level would use a
singleton pressure dimension to record the level.</EM>
Singleton dimensions also result from contractions, described
in section <A HREF="#contractions">23</A>.
<P>
<A NAME="coordinates"></A>
<H1><A NAME="SECTION00090000000000000000">9 Coordinate variables and 
topology</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: A one-dimensional netCDF variable
associated with an axis of one or more data variables
is called a ``coordinate variable''.
A coordinate variable whose dimension name is identical to
its own name is referred to as a ``main coordinate variable''
in this standard,
when it is necessary to distinguish it
from other types of coordinate variable
(sections <A HREF="#ancillary">17</A> and <A 
HREF="#boundary">21</A>).
Each axis of a data variable must have a main coordinate variable,
but other types are optional.
Apart from the general naming rules for variables (above,
section <A HREF="#variablenames">6</A>),
the names of coordinate variables are not standardised by these
conventions (since files may in general contain multiple
coordinate variables of the same orientation).
<P>
<font size=-1><small>UNIDATA</small></font>: The values in a main coordinate 
variable must be
strictly monotonic
(all values are different and either increasing or decreasing).
<font size=-1><small>NEW</small></font>: If a main coordinate variable is 
merely a ``dummy'',
not containing any physical
information, its values should be set equal to their indices (0, 1, 2, ...).
<EM>This is the netCDF default for an omitted coordinate variable.
This standard requires it to be made explicit.</EM>
<P>
<A NAME="systems"></A>
<H1><A NAME="SECTION000100000000000000000">10 Coordinate systems</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A coordinate system for the Earth's 
surface which is rectilinear but
based on a polar axis other than the normal geographical axis is referred
to as a ``rotated grid''.
To describe rotated grids, a two-element <TT>float</TT> attribute
<TT>north_pole</TT> is attached to the data variable,
specifying the (longitude,latitude) coordinates of the rotated north pole.
If the attribute is absent and relevant,
it is assumed to have the value (0.,90.) i.e. the geographical north pole.
<P>
<font size=-1><small>NEW</small></font>: In some systems,
the axes covering the Earth's surface
do not define a rectilinear grid.
We do not wish necessarily to exclude non-rectilinear systems.
For the moment, this standard is undefined for these systems,
and we invite comments from potential users on the appropriate definition.
<EM>The COARDS standard excludes non-rectilinear systems.
In principle, any coordinate system can be handled,
albeit clumsily, by replacing the relevant two or more axes by
by a single axis which indexes the points,
and providing ancillary coordinate variables to specify the coordinates,
point by point (see section <A HREF="#ancillary">17</A>).</EM>
<P>
<A NAME="units"></A>
<H1><A NAME="SECTION000110000000000000000">11 Units</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: The udunits package includes a
file <TT>udunits.dat</TT>, which lists collections of unit names. The names
given in the most recent version of this file
and their plural forms will be regarded as acceptable
unit names for this standard, with a few modifications which will be
listed in Appendix&nbsp;C to this standard.
<EM>COARDS lists some modifications within the standard,
but we would prefer to put in place a means to allow future
modifications to be made easily.</EM>
<font size=-1><small>NEW</small></font>: Users of this standard should not 
define their own units,
because this would make their files less portable;
requests for new units should be directed to Unidata.
<P>
<font size=-1><small>NEW</small></font>: The udunits package also defines a 
means for linear transformation
of units by a scale factor and an offset.
This convention is allowed when it is natural to express a unit in
such a form
<EM>e.g. density of sea-water in
kg m&#175;&#179;
in excess of 1000
kg m&#175;&#179;,
which can be specified to udunits as <TT>&quot;kg m-3 @ 1000&quot;</TT>.
COARDS does not permit the use of this facility.</EM>
It can also be used to specify a scale factor and/or offset for a dimensionless
quantity <EM>e.g. sea-ice concentration in tenths (no unit)</EM>.
It should not be used as a means of data compression,
for which an alternative is provided
(see section <A HREF="#pack">34</A>).
<P>
<A NAME="quantity"></A>
<H1><A NAME="SECTION000120000000000000000">12 Physical quantity of a 
variable</A></H1>
<P>
<font size=-1><small>NEW</small></font>: These conventions standardise three 
attributes for specifying
the physical quantity of data and coordinate variables.
All of them are strings:
<OL><LI> <TT>units</TT>, formatted as per the
recommendations in the Unidata udunits package,
with extensions for time
(see section <A HREF="#othercalendars">26</A>).
This attribute is mandatory unless the quantity is dimensionless
(a pure number).
Dimensionless quantities will not generally have units;
a unit string specifying a linear transformation alone is permissible.
<EM>For instance, a unit of tenths is given as <TT>&quot;0.1&quot;</TT>.
There are a few defined dimensionless units,
such as <TT>percent</TT>.
There is no need for a wide variety of dimensionless units for quantities
like sea-ice concentration, cloud fraction, probability and so on;
this descriptive information is the <TT>quantity</TT> rather
than the <TT>units</TT>.</EM><LI> <TT>quantity</TT>, a short descriptive name.
The <TT>quantity</TT> attribute is optional for most variables,
but mandatory for coordinate variables
of longitude, latitude, vertical axes and time
(see sections <A HREF="#longitude">14</A>, <A 
HREF="#latitude">15</A>, <A HREF="#vertical">16</A>
and <A HREF="#time">24</A>).
If the <TT>quantity</TT> attribute is present,
it must be one from a list which constitutes
Appendix&nbsp;E of this standard <EM>(see below)</EM>.
The use of a standard list aims to clarify whether data from different
sources is comparable.
The list will include all quantities which are used as coordinate variables.
The list will also define the physical dimensions
of the quantity by stating an appropriate unit.
The <TT>units</TT> and the <TT>quantity</TT> of the data variable must be 
compatible.
Appendix&nbsp;E will indicate the version number of the appendices at which 
each
quantity was introduced.
In conjunction with the <TT>appendices</TT> attribute (section <A 
HREF="#global">5</A>),
this enables the application to deduce the entire set of distinct quantities
known to the application which generated the file.<LI> <TT>long_name</TT>, a 
long descriptive name.
It should not include the <TT>units</TT>.
</OL>
The <TT>long_name</TT> is useful as the title of a plot of a data variable,
or the title of the axis of a coordinate variable.
In its absence, the <TT>quantity</TT> may be used,
or, failing that, the name of the variable itself.
In addition, other model-dependent attributes may included to define
the quantity of a variable.
<EM>The Hadley Centre model will give each data variable integer <TT>stash</TT>
and <TT>submodel</TT> attributes, for example.</EM>
<P>
<EM>Whether two physical quantities are different or the same is often
not a question with a well-defined answer.
Certainly if they are the same, they must have the same unit, but
various quantities with the same unit may have to be distinguished
e.g. <TT>temperature</TT> and <TT>soil temperature</TT>.
In practice,
the most specific description applicable should be used.
We intend to expand the list of quantities in Appendix&nbsp;E on an ongoing 
basis
in response to requests by users of this standard,
since we cannot foresee all the possibilities,
and we will err on the side of expansion, rather than restriction,
when it is unclear whether a newly requested quantity is identical to
one already listed.
However, quantities which differ only with regard to
surfaces (sections <A HREF="#surfaces">30</A>),
linear unweighted contractions (section <A 
HREF="#contractions">23</A>)
or other distinctions which can represented simply by attributes described
in later sections will not be regarded as
distinct physical quantities
e.g. net downward shortwave radiation at the surface,
and net downward shortwave radiation at the top of the atmosphere.</EM>
<P>
<font size=-1><small>NEW</small></font>: The optional <TT>modulo</TT> attribute
 of a data variable, if present,
records a number which can be added or subtracted
without altering the validity or physical significance of 
the quantity.
<EM>This is most likely to be useful for longitude coordinate axes,
with a <TT>modulo</TT> of 360.</EM>
<P>
<font size=-1><small>NEW</small></font>: We note that the Unidata-standard 
<TT>FORTRAN_format</TT> attribute
may be useful for both coordinate and data variables.
<P>
<A NAME="topology"></A>
<H1><A NAME="SECTION000130000000000000000">13 Topology of an axis</A></H1>
<P>
<font size=-1><small>NEW</small></font>: An axis with ``circular topology'' is 
one
which can be legitimately
transformed by shifting all the points one place along the axis,
moving the last point to the beginning, any number of times.
The main coordinate variable of an axis with circular topology is distinguished
by the presence of an attribute <TT>topology=&quot;circular&quot;</TT>.
<EM>A longitude axis which circles the whole globe is an example.</EM>
The value <TT>linear</TT> or the absence of this attribute
indicates an axis with ``linear topology''.
The topology is indicated only by the main coordinate variable,
but since it is the property of the axis it applies to any ancillary
coordinate variables (section <A HREF="#ancillary">17</A>) as well.
<P>
<font size=-1><small>NEW</small></font>: When a circular axis is rotated, the 
main coordinate values must be
altered in order to remain monotonic.
Therefore the main coordinate variable
requires a <TT>modulo</TT> (section <A HREF="#quantity">12</A>).
<P>
<A NAME="longitude"></A>
<H1><A NAME="SECTION000140000000000000000">14 Longitude dimension</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: Coordinate variables representing
longitudes must always explicitly
include the <TT>units</TT> attribute; there is no default value.
The <TT>units</TT> attribute will be a
string formatted as per the recommendations in the Unidata udunits
package.
The recommended unit of longitude is <TT>degrees_east</TT> (eastward
positive). Also acceptable are <TT>degree_east</TT>, <TT>degree_E</TT>, and
<TT>degrees_E</TT>. The unit <TT>degrees_west</TT> (westward positive) is not
recommended because it implies a negative conversion factor from
<TT>degrees_east</TT>.
<P>
<font size=-1><small>NEW</small></font>: A longitude coordinate variable must 
have an attribute
<TT>quantity=&quot;longitude&quot;</TT>.
<font size=-1><small>COARDS</small></font>: Such a variable is also 
identifiable from its units
string. <EM>The COARDS convention relies on the unit as the only way to
identify a longitude variable. This standard uses the <TT>quantity</TT>, but
requires the <TT>units</TT> to be specified as well for compatibility with
COARDS.</EM>
<P>
<font size=-1><small>NEW</small></font>: Longitude axes should have the 
attribute <TT>modulo=360</TT>,
indicating that they may be interpreted modulo 360.
<EM>Thus, for example,
-180, 180, and 540 are all valid representations of the International Dateline
and 0 and 360 are both valid representations of the Prime Meridian.
COARDS assumes that longitudes may always be treated in this way.
Since we have introduced the <TT>modulo</TT> attribute,
we require that it should be specified to indicate this.
But the presence of a <TT>modulo</TT>
does not mean that the axis necessarily has circular topology
(section <A HREF="#coordinates">9</A>);
a longitude axis covering only part of the globe cannot have its points
rotated.</EM>
<font size=-1><small>COARDS</small></font>: Note
that the sequence of numerical longitude values stored in the netCDF
file must be monotonic in a non-modulo sense
for a main coordinate variable of longitude.
<P>
<A NAME="latitude"></A>
<H1><A NAME="SECTION000150000000000000000">15 Latitude dimension</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: Coordinate variables representing
latitudes must always explicitly
include the <TT>units</TT> attribute; there is no default value.
The <TT>units</TT> attribute will be a
string formatted as per the recommendations in the Unidata udunits
package.
The recommended unit of latitude is <TT>degrees_north</TT>. Also acceptable
are <TT>degree_north</TT>, <TT>degree_N</TT>, and <TT>degrees_N</TT>.
<P>
<font size=-1><small>NEW</small></font>: A latitude coordinate variable must 
have an attribute
<TT>quantity=&quot;latitude&quot;</TT>.
<font size=-1><small>COARDS</small></font>: Such a variable is also 
identifiable from its units
string.  <EM>The COARDS convention relies on the unit as the only way to
identify a latitude variable. This standard uses the <TT>quantity</TT>, but
requires the <TT>units</TT> to be specified as well for compatibility with
COARDS.</EM>
<P>
<A NAME="vertical"></A>
<H1><A NAME="SECTION000160000000000000000">16 Vertical (height or depth) 
dimension</A></H1>
<P>
<font size=-1><small>NEW</small></font>: Whereas the two horizontal dimensions 
are usually longitude
and latitude, whose direction is well defined,
a variety of quantities may be used for the vertical axis.
The <TT>quantity</TT> attribute is mandatory for the vertical axis.
The direction of positive,
whether up or down, may be useful for
applications displaying or processing the data.
For this reason Appendix&nbsp;E to this standard
will state the usual direction of positive
for all quantities which are commonly used as vertical axes.
This information should be taken only as guidance,
and may be overridden by the application.
<P>
<EM>The COARDS standard requires the units of 
the vertical axis to be selected from a defined list,
in order that this axis can be recognised by its units.
It gives special status to units of pressure,
for which the direction of positive is defined,
and introduces a mandatory <TT>positive</TT> attribute
for vertical axes with other units.</EM>
<P>
<EM>We have adopted a different approach for a number of reasons.
Firstly, to require units for the vertical axis
means defining dimensionless units for any
dimensionless quantity one might wish to use for that axis.
This seems inconsistent with the treatment of a data variable which
happened to contain a dimensionless physical quantity,
for which the standard would not require that units be invented.
Secondly, the <TT>quantity</TT> attribute is more informative than the units,
and for most practical axes will clarify the direction of positive.
Thirdly, the direction of positive is mostly an issue for displaying the data,
and is to some extent a matter of personal preference.
If we introduce special treatment for the vertical axis,
we should also include information about how any other axis should be
displayed.
For instance, when latitude is shown on the horizontal axis of a plot,
is north on the left or the right?
This is the same kind of question,
but it strikes us as more a matter for a graphics application to consider
than one to be recorded in the data structure.
Fourthly, the vertical dimension is recognisable from the order of dimensions
(see section <A HREF="#dimensionality">8</A>),
which allows any application expecting such a
dimension to know where to find it without any further indication.
The absence of the <TT>positive</TT> attribute means that vertical axes
with coordinates other than pressure will not necessarily be recognised
as such by COARDS software.
If this is a concern, the <TT>positive</TT> attribute could optionally be 
included
with one of the allowed values <TT>up</TT> or <TT>down</TT>,
indicating the sense of the direction of positive.</EM>
<P>
<EM>For example, if an oceanographic netCDF file encodes the depth of the
surface as 0 and the depth of 1000 meters as 1000 then the axis would
use attributes as follows: <TT>units=&quot;meters&quot;</TT>,
<TT>quantity=&quot;depth&quot;</TT>.
If, on the other hand, the depth of 1000 meters were represented as
-1000
then the value of the quantity attribute would have been <TT>height</TT>.
The COARDS <TT>positive</TT> attribute in these two cases would have values
<TT>down</TT> and <TT>up</TT> respectively.</EM>
<P>
<A NAME="ancillary"></A>
<H1><A NAME="SECTION000170000000000000000">17 Ancillary coordinate 
variables</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A single axis might require more than 
one set of coordinate values,
for various purposes described in sections <A 
HREF="#component">18</A>,
<A HREF="#associated">19</A> and <A 
HREF="#bundles">20</A>.
The additional sets of values required to specify the axis should
be contained in extra one-dimensional variables
(formally two-dimensional for string-valued variables).
We refer to these as ``ancillary coordinate variables''.
Ancillary coordinate variables are recognised as being associated with their
axes by having the same dimension,
but distinguished from the main coordinate variable for the axis
by not sharing the name of the dimension.
<P>
<A NAME="component"></A>
<H1><A NAME="SECTION000180000000000000000">18 Component coordinate 
variables</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A continuous physical coordinate may 
require
more than one number to specify it at each point.
We refer to these as ``components''.
This standard requires that a main coordinate variable should nonetheless
be supplied which represents a combination of the components that can be
used to order the points on the axis.
As usual, the main coordinate variable must be monotonic.
<P>
<font size=-1><small>NEW</small></font>: The values of the components
are recorded in ancillary coordinate variables
referred to as ``component coordinate variables''.
Unlike the main coordinate variable,
the components do not need to be monotonic.
The names of the component coordinate variables are recorded as
a comma-separated list in a <TT>component</TT> string attribute
of the main coordinate variable.
<P>
<EM>An example is the hybrid vertical coordinate
eta = <i>p/p0</i> + sigma,
used in the Hadley Centre GCM.
Atmospheric model levels are specified in terms of
(p,sigma)
pairs,
where <I>p</I> is pressure,
<i>p0</i>
is a constant and
sigma
is fraction
of surface pressure (which is variable).
The eta
value is a linear combination of the two,
which cannot be uniquely decomposed back into
(p,sigma).
We would record
eta
as the coordinate variable <TT>eta(eta)</TT>, say,
with <I>p</I> and
sigma
in ancillary coordinate variables
<TT>pressure(eta)</TT> and <TT>sigma(eta)</TT>.
The <TT>eta</TT> variable would have a string attribute
<TT>component=&quot;pressure,sigma&quot;</TT>.
Information about how to relate the components to the combination
would reside in the application.</EM>
<P>
<A NAME="associated"></A>
<H1><A NAME="SECTION000190000000000000000">19 Associated coordinate 
variables</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A qualitatively different situation
arises where an axis has a number
of alternative ways of being labelled,
providing different kinds of information.
We refer to the alternative sets as ``associated coordinates''
and store them in ancillary coordinate variables.
The main coordinate variable records the names of these variables
as a comma-separated list in an <TT>associate</TT> string attribute.
The main coordinate variable must be monotonic, as usual,
but associated coordinate variables need not be.
<P>
<EM>One example is a vertical axis where one wishes to store both the
physical coordinate and the ordinal model level number.
The latter could be recorded as an associated coordinate variable.
In this instance, if the physical coordinate was the
eta
of the
section <A HREF="#component">18</A>,
it would also have component coordinate variables.
Another example is the value of a quantity along a one-dimensional
trajectory.
In such a case, we might have a coordinate variable containing
distance along the trajectory and
associated coordinate variables
giving the latitude and longitude of each point.</EM>
<P>
<A NAME="bundles"></A>
<H1><A NAME="SECTION000200000000000000000">20 Bundles</A></H1>
<P>
<font size=-1><small>NEW</small></font>: If several data arrays containing the 
same physical quantity
have one or more identical axes,
but are distinguished by the values of other singleton coordinate variables,
it may be convenient to store them in the same data variable.
The common axes of the separate arrays become axes of the combined variable.
One or more additional axes are introduced to ``bundle up'' the separate
arrays.
Such an axis does not correspond to a continuous physical coordinate.
It acts simply as an index of the bundled-up arrays.
<EM>For instance,
the Hadley Centre GCM can generate timeseries of the values of quantities
at individual points.
Typically, timeseries from many different points are produced of the same
quantity at the same sampling times.
It is natural to contain this information
in a data variable with two dimensions.
One dimension is the common time axis, specifying the sampling times,
which are the same for all the points sampled.
The other dimension is not a continuous physical coordinate;
it is simply being used to ``bundle up'' the timeseries,
the points being
irregularly scattered in a space of two or more dimensions.
This axis might have a meaningful coordinate variable, such as
a station number (in which case it must be monotonic),
but otherwise it may be no more than an index.</EM>
<P>
<font size=-1><small>NEW</small></font>: The singleton values of the separate 
arrays are recorded in
associated coordinate variables for the bundling dimension.
They should not be interpreted as continuous coordinates.
<EM>In the timeseries example,
the latitude and longitude of the points would be recorded in associated
coordinate variables.
It might be desirable to have a string-valued coordinate variable as well,
to name the points.
For a set of temperature timeseries,
suppose that the dimension <TT>points</TT> specified the number of points,
and <TT>times</TT> the number of sampling times.
The data variable might be <TT>temperature(times,points)</TT>
and the time axis <TT>times(times)</TT>.
The main coordinate variable for the <TT>points</TT> axis would be
<TT>points(points)</TT>.
The associated coordinate variables would be
<TT>latitude(points)</TT>, <TT>longitude(points)</TT>
and <TT>names(points,StringMaxLength)</TT>.
This same form could be used for observed timeseries from stations.</EM>
<P>
<EM>Another application could be that of vertical
profiles at sets of points;
for example, a vertical temperature profile through the ocean,
or data from a radiosonde.
One dimension is the height or depth, with the physical vertical coordinate.
The other has a main coordinate variable containing just an index,
with associated coordinate variables recording the geographical location of
the points.</EM>
<P>
<EM>This section raises the question of how best to store a single timeseries,
or a single vertical profile.
Following the scheme of this section,
it could be contained in a two-dimensional data variable with the bundling
axis being of size unity.
The associated information such as latitude or longitude would then be
stored in singleton coordinate variables,
all associated with the same dimension.
Alternatively, these values could be recorded as
separate singleton dimensions (following section <A 
HREF="#dimensionality">8</A>).
We have no recommendation for this.
Either scheme could be appropriate;
which is more natural perhaps depends on how the data was extracted from
the continuous axes.</EM>
<P>
<A NAME="boundary"></A>
<H1><A NAME="SECTION000210000000000000000">21 Boundary coordinate 
variables</A></H1>
<P>
<font size=-1><small>NEW</small></font>: Along a dimension,
the values might relate to points (at the coordinate values)
or to contiguous or non-contiguous cells.
The boundaries of the cells should be defined
as well as the cell coordinate values.
The convention is to define an additional two-dimensional
``boundary coordinate variable'' with
a left-hand dimension <EM>(trailing dimension in Fortran terms)</EM> of size 
two.
The values for which this dimension has index 0
(numbering from 0 i.e. in C notation) supply the boundaries
with the smaller coordinate values,
and those with index 1 the large values,
where ``smaller'' and ``larger'' refer simply to numerical comparison,
not to a physical direction.
The name of the boundary coordinate variable is recorded in a string attribute
<TT>bounds</TT> of the main coordinate variable.
We recommend that the it should be named
by the coordinate dimension with the prefix <TT>bounds_</TT>.
<EM>Thus, for instance, a coordinate variable <TT>lat(lat)</TT>
might have attribute <TT>bounds=&quot;bounds_lat&quot;</TT>
pointing to a boundary coordinate variable
<TT>bounds_lat(2,lat)</TT> (declared as in CDL).
In C notation,
<TT>lat[0]</TT> gives the coordinate of the first point,
<TT>bounds_lat[0][0]</TT> its lower boundary, <TT>bounds_lat[1][0]</TT>
its upper boundary.
In Fortran notation, the declarations are <TT>lat(lat)</TT>
and <TT>bounds_lat(lat,2)</TT>,
and the relevant elements are <TT>lat(1)</TT>, <TT>bounds_lat(1,1)</TT>,
<TT>bounds_lat(1,2)</TT>.</EM>
Supplying upper and lower boundaries separately allows for the possibility
that the cells might not be contiguous; they might even overlap.
<P>
<font size=-1><small>NEW</small></font>: Boundary coordinate variables
are recommended if the main coordinate values
are not evenly spaced,
or if the dimension has a size of unity.
If the coordinates are evenly spaced,
and boundaries are not specified,
generic applications may assume that the main coordinates
lie at the centres of their cells.
Boundary coordinate variables may be supplied for ancillary
coordinate variables as well as main coordinate variables.
The upper and lower boundaries of ancillary coordinates are ordered
so as to correspond with those of the main coordinate.
<P>
<A NAME="subcell"></A>
<H1><A NAME="SECTION000220000000000000000">22 Point values versus average 
values</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A <TT>subcell</TT> attribute may be 
given
to the main coordinate variable for a dimension to
specify whether the data values represent
a point value (<TT>subcell=&quot;point&quot;</TT>)
or an average over the cell (<TT>subcell=&quot;cell&quot;</TT>) in that 
dimension.
It is conceivable that the interpretation as point or average values might
differ for the various dimensions.
<EM>An important example of the need to distinguish arises for timeseries,
which might be instantaneous values (such as is usual with pressure
measured at synoptic stations) or values representing a time-mean
(such as the rainfall rate derived from the total accumulated over the
observation period).</EM>
<P>
<A NAME="contractions"></A>
<H1><A NAME="SECTION000230000000000000000">23 Contracted dimensions</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A contracted dimension is one in which
all data points share the entire contracted axis.
It indicates the relationship of the data variable which is
being described to another variable of higher dimensionality.
A contracted dimension will have a size of unity, a single representative
coordinate value and boundary coordinate values supplying the
range of the uncontracted axis.
If the uncontracted axis had the attribute <TT>subcell=&quot;point&quot;</TT>,
the boundaries of the contracted axis will be
the extreme point coordinate values of the uncontracted axis;
if the uncontracted axis had <TT>subcell=&quot;cell&quot;</TT>,
the boundaries will be the extreme boundary coordinate values.
<P>
<font size=-1><small>NEW</small></font>: The <TT>contraction</TT> attribute
of the coordinate variable specifies the operation which contracted
the axis;
permitted values are detailed in Appendix&nbsp;B and
include <TT>sum</TT>, <TT>mean</TT>, <TT>max</TT>,
<TT>min</TT>, <TT>sd</TT>, <TT>var</TT>.
Contractions are limited to common and
well-defined statistical operations
performed using the values of the data variable and possibly
the coordinate variable,
which may be needed to determine statistical weights.
If weights have been used,
the quantity used for weighting may be recorded in a <TT>weight</TT> attribute,
and should be one of the quantities listed in Appendix&nbsp;E
(section <A HREF="#quantity">12</A>).
Note that some operations, such as taking a weighted sum or a variance,
imply that the quantity in the data variable does not have the same
physical unit as the quantity which had the uncontracted axis.
In this case, the <TT>units</TT> and <TT>quantity</TT> should be altered;
the <TT>contraction</TT> does not suffice.
This standard also states that two variables related by a
non-linear contraction,
such as the standard deviation,
necessarily have different <TT>quantity</TT> attributes,
even if they have the same <TT>units</TT>.
This will be reflected in Appendix&nbsp;E.
<EM>For instance, ``orographic height''
and ``standard deviation of orographic height'' are
regarded as different quantities,
while ``maximum orographic height'' is treated as the same quantity
as ``orographic height''.</EM>
<P>
<font size=-1><small>NEW</small></font>: The optional <TT>min_interval</TT> and
 <TT>max_interval</TT> attributes
specify the minimum and maximum distance between
two adjacent coordinates of the uncontracted axis.
Equality implies that the uncontracted coordinates were evenly spaced.
<P>
<EM>The most obvious example of a contracted dimension
is the time information belonging to an array
where time is not otherwise a dimension.
The beginning and ending times of the period over which a time-mean
(for example) has been
calculated form the lower and upper time boundaries of a contracted
dimension of time.
(See below, section <A HREF="#time">24</A>, for more on time axes.)
Zonal and meridional means are further common examples of contracted axes,
whose boundary coordinate
variables would specify the ranges of longitude and latitude
over which the mean had been formed.</EM>
<P>
<font size=-1><small>NEW</small></font>: In some cases, several axes are 
contracted simultaneously.
If the operation cannot be peformed on them separately,
probably because it involves a non-linear operation,
the contraction has to be recorded as affecting more than one axis at a time.
This is done by replacing all the affected dimensions with one new
singleton dimension
carrying the <TT>contraction</TT> attribute.
The information from the individual contracted axes is recorded on
singleton coordinate variables associated with the contracted axis
(see section <A HREF="#associated">19</A>).
<EM>For instance, the standard deviation involves a non-linear operation,
so an area-weighted standard deviation must be performed on both
horizontal axes at once.
On calculating the area-weighted standard deviation of an array
of <TT>temperature(lat,lon)</TT>,
we might record the result in <TT>sd_temperature(area)</TT>,
with <TT>area</TT> as a dimension of size unity,
having a dummy coordinate variable <TT>area(area)</TT>
with attributes <TT>contraction=&quot;sd&quot;</TT> and 
<TT>weight=&quot;area&quot;</TT>
and associated coordinate variables <TT>lat(area)</TT> and <TT>lon(area)</TT>
with boundaries, units, etc.</EM>
<P>
<A NAME="time"></A>
<H1><A NAME="SECTION000240000000000000000">24 Time axes</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A ``time axis'' is one which 
represents date and time,
which we will refer to hereafter just as ``time''.
Time is usually defined by a set of up to six numbers
(year, month, day, hour, minute, second) of various data types.
It would be possible to define it thus in a netCDF file,
using six ancillary coordinate variables.
However, it is more efficient and for many purposes more convenient
to encode a time into a single number,
giving the elapsed interval since a certain reference.
The units of the interval and the reference time are
matters of convention.
<P>
<font size=-1><small>NEW</small></font>: A ``calendar'' defines the set of 
valid dates
(year-month-day combinations).
The standard calendar is the Gregorian
(the calendar of udunits),
but climate models do not always use this.
<EM>For instance, in the calendar of
the Hadley Centre GCM, all months have 30 days.</EM>
The elapsed interval between two dates will not necessarily be the same
in two different calendars,
because there may be different numbers of valid dates between them.
<EM>For example,
the interval between 1 February 1996 and 1 March 1996 is
29 days in the Gregorian calendar, but 30 days in the Hadley Centre
model calendar,
since 30 February is a valid date in the latter.</EM>
Therefore the encoding of a time into an elapsed interval will
depend on the calendar,
and it is necessary to know the calendar when converting.
<P>
<font size=-1><small>NEW</small></font>: This standard permits the use of the 
standard calendar
(below, section <A HREF="#gregorian">25</A>)
and of other calendars (section <A HREF="#othercalendars">26</A>).
In addition, we propose and recommend a new calendar
(section <A HREF="#unimonth">27</A>),
which has the advantage of being able to encode a date which is legal
in any of the other calendars,
and which can therefore be used in all cases.
<P>
<font size=-1><small>COARDS</small></font>: Time coordinate variables must 
always explicitly include
the <TT>units</TT> attribute; there is no default value.
<font size=-1><small>NEW</small></font>: The <TT>quantity</TT> is also 
mandatory,
having one of the values <TT>time</TT> or <TT>unitime</TT>
(see section <A HREF="#unimonth">27</A> concerning the latter).
A time coordinate
variable will be identifiable by its <TT>units</TT> and <TT>quantity</TT>.
The <TT>quantity</TT> in conjunction with the <TT>calendar</TT>
attribute, when required, will indicate
the calendar in use and how it has been encoded.
The <TT>calendar</TT> attribute is described in the following sections.
If a time coordinate variable has no <TT>calendar</TT> attribute,
the global <TT>calendar</TT> attribute (section <A 
HREF="#global">5</A>),
if present, applies to it.
<font size=-1><small>NEW</small></font>: The attribute <TT>time_format</TT> can
 be included to specify
a format for printing the date and time,
according to the conventions of the
Unix (TM) <TT>date</TT> command.
<P>
<A NAME="gregorian"></A>
<H1><A NAME="SECTION000250000000000000000">25 Gregorian calendar</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: Intervals between two times in the 
standard
Gregorian calendar can be calculated by the udunits package.
<EM>This calendar is actually the mixed Gregorian/Julian calendar system,
as followed in England.
Dates prior to 1582-10-15 are assumed to use the Julian calendar.</EM>
Time coordinates in this calendar may have units of time formatted as per the
recommendations in the Unidata udunits package,
which specify a unit and a reference time
<EM>e.g. a unit of <TT>seconds since 1992-10-8 15:15:42.5</TT>
indicates seconds since 8 October 1992 at 3 hours, 15 minutes and
42.5 seconds in the afternoon, in Universal Coordinated Time
(time zones can also be handled).</EM>
<P>
<font size=-1><small>NEW</small></font>: The file <TT>udunits.dat</TT> defines
second, minute, hour and day as units of time.
Units of months and years must not be used,
because both are of variable length.
Since udunits defines a
year as exactly 365 days and a month as exactly a twelfth of a year,
use of these units will not always give the expected results.
<EM>For example, <TT>1 month since 1997-4-1 0:0:0</TT> is treated by udunits as
<TT>30.4368 days since 1997-4-1 0:0:0</TT>,
not <TT>1997-5-1 0:0:0</TT>.</EM>
Note, however, that this standard deals only with the encoding of time
in the netCDF file.
An application which processes such a file may have an interface
which handles intervals defined in months or years, if desired.
<P>
<font size=-1><small>NEW</small></font>: This standard recommends that 
Gregorian
times be given in units of
<TT>days since 1-1-1</TT> i.e. midnight on 1 January 1 AD,
in data type <TT>double</TT>.
<EM>(Note that udunits treats 0 AD as identical to 1 AD.)</EM>
This data type gives a precision of about 16 decimal digits,
which means that it can resolve tenths of a second
for years of up to around 10,000 AD.
The larger the year, the worse the absolute precision.
If this precision is not sufficient, use of a different reference time,
in order to make the year smaller, is recommended.
<P>
<font size=-1><small>NEW</small></font>: If there is no <TT>calendar</TT> 
attribute applying to
a time coordinate variable in any standard unit of time,
the coordinates are assumed to be in the normal Gregorian
calendar, encoded following the udunits convention.
This can be made explicit by setting <TT>calendar</TT> to <TT>standard</TT>
or <TT>gregorian</TT>.
<P>
<A NAME="othercalendars"></A>
<H1><A NAME="SECTION000260000000000000000">26 Non-Gregorian calendars</A></H1>
<P>
<font size=-1><small>NEW</small></font>: It is recommended that
times in other calendars should 
be encoded in data type <TT>double</TT> with a <TT>units</TT> string
of <TT>days since 1-1-1</TT>, interpreted as
days since midnight on 1 January of year 1
in the calendar concerned.
If a different base time is chosen, the udunits syntax
``<TT>days since</TT> date-and-time'' should be used.
The udunits package itself can process only
the standard calendar.
An extension will be required for other calendars.
Shorter units than days may be used,
but units of months and years are not allowed, as above.
<P>
<font size=-1><small>NEW</small></font>: Apart from the Gregorian,
calendars recognised by this standard are
<TT>julian</TT> for the Julian calendar (in which all years divisible
by four are leap years),
<TT>noleap</TT> for a calendar with 365 days in every year,
and <TT>360</TT> when each month has 30 days in every year.
If any other calendar is used, a suitable description should appear
in the <TT>calendar</TT> attribute,
but generic applications cannot be expected to be able to encode and
decode times in the calendar concerned.
<P>
<A NAME="unimonth"></A>
<H1><A NAME="SECTION000270000000000000000">27 Unimonth calendar</A></H1>
<P>
<font size=-1><small>NEW</small></font>: This standard proposes
a new means of representing times,
namely the ``unimonth'' calendar,
which assumes all months have 100 days.
A time coordinate variable in the unimonth calendar is indicated by
a <TT>quantity</TT> attribute of <TT>unitime</TT>.
This standard recommends that times should be given in
<TT>days since 1-1-1</TT>
in data type <TT>double</TT>
in the unimonth calendar.
Dates can be converted into this unitime form and back
unambiguously, according to
<table>
<tr><td><tt>days</tt><td>= ((<tt>year</tt>-1) x 12 +
(<tt>month</tt>-1)) x 100 + (<tt>day_in_month</tt>-1)
<tr><td><td>+ (<tt>hour</tt> + (<tt>minute</tt> +
<tt>second</tt> / 60) / 60) / 24
</table>
This formula defines the time <TT>0 days</TT>
as midnight on 1 January in year 1.
<EM>We are not, of course, suggesting that the unimonth calendar should
be adopted as the calendar of a climate model, or in place of the Gregorian
calendar.
It is introduced only to provide a convenient means of encoding times.</EM>
<P>
<font size=-1><small>NEW</small></font>: The main reason for proposing this 
convention is that
all dates (year, month, day) in any of the calendars recognised by this
standard (sections <A HREF="#gregorian">25</A> and <A 
HREF="#othercalendars">26</A>)
are valid in the unimonth calendar.
Hence any such dates can be converted
into and out of unitime.
Moreover, no knowledge of the specific calendar is required to do this.
This knowledge is still required for calculating some intervals of time
(see below, section <A HREF="#intervals">28</A>),
so when the unimonth calendar is used to encode a time axis into unitime,
the <TT>calendar</TT> attribute should be used to record the original calendar.
<P>
<A NAME="intervals"></A>
<H1><A NAME="SECTION000280000000000000000">28 Intervals of time</A></H1>
<P>
<font size=-1><small>NEW</small></font>: An interval of time is the difference 
between two times.
The <TT>quantity</TT> is as for absolute time;
an interval is distinguished by the lack of a reference time in
its <TT>units</TT> string
<EM>e.g. plain <TT>seconds</TT>,
compared with <TT>seconds since 1992-10-8 15:15:42.5</TT>.
Both data variables and coordinate variables might contain intervals of time,
mostly probably expressing elapsed time since some event
e.g. days since the onset of the monsoon.</EM>
A further specialised application is in the representation of
climatological time using multiple time axes,
described below (section <A HREF="#multipletime">29</A>).
<P>
<font size=-1><small>NEW</small></font>: To be unambiguous, a time interval
must be expressed in units which have a well-defined value.
We identify two different kinds of time interval.
For intervals defined as numbers of days
or shorter units of time,
there is no problem, as these units are well defined by udunits.
We recommend the use of days with data type <TT>double</TT>,
but allow the use of shorter units of time instead.
However, months and years are not well defined
(as discussed above, section <A HREF="#time">24</A>),
so must not be used as units of intervals of time.
We may nonetheless have need to express time intervals in terms of years
and months (and possibly a remainder of days or less),
so we need a means of encoding these unambiguously.
<EM>A climatological season, for example, is three months.</EM>
<P>
<font size=-1><small>NEW</small></font>: Any interval of time expressed as a 
number of years, months, days,
hours, minutes and seconds can be unambiguously converted to an
interval in unitime (see above, section <A HREF="#time">24</A>)
and back without knowledge of the calendar.
This standard recommends that intervals of the second kind above
(involving months or years) should be enocoded in data type <TT>double</TT>
in days of unitime,
according to the formula
<table>
<tr><td><tt>days</tt><td>= (<tt>years</tt> x 12 + <tt>month</tt>) x 100
+ <tt>days_in_month</tt>
<tr><td><td>+ (<tt>hours</tt> + (<tt>minutes</tt> +
<tt>seconds</tt> / 60) / 60) / 24
</table>
Shorter units than days can also be used.
Intervals of the first kind (not involving months or years)
less than 100 days in length
can also be represented in unitime.
<P>
<EM>An example may help to clarify these two kinds of interval further.
The interval between 1 February 1996 and 1 March 1996 is
29 days in the Gregorian calendar, but 30 days in the Hadley Centre
model calendar.
If we wish to record this interval as a number of days,
we can do so as <TT>29 days</TT> or <TT>30 days</TT> respectively,
of either ordinary time or unitime.
If, however, our intention is to record that it is one month,
we encode it as <TT>100 days</TT> of unitime.
The interval between 1 February and 1 March is <TT>100 days</TT> of unitime
(i.e. one month) in all years in all calendars.
The importance of the distinction is that it tells us how to add an
interval to an absolute time.</EM>
<P>
<A NAME="multipletime"></A>
<H1><A NAME="SECTION000290000000000000000">29 Multiple time axes and 
climatological time</A></H1>
<P>
<font size=-1><small>NEW</small></font>: There is no bar on a data variable 
having more than one dimension in
a particular quantity, so long as the dimensions have different names.  A
particular need for this arises for multiple time dimensions, when there has
been a contraction over at least one of them.
This provides a means of describing ``climatological time'',
in which the data does not apply to a specific time or times.
<P>
<font size=-1><small>NEW</small></font>: This need must be described firstly 
with reference to
the original uncontracted dimension
spanning a period of time which contains repetitions of a cycle or cycles
<EM>(most often the seasonal or diurnal cycles)</EM>.
This dimension can be decomposed into an
absolute time, labelling the beginning of the cycle or cycles,
and offsets giving the phases within the cycles.
The absolute time is coded just as for a normal time axis
(section <A HREF="#time">24</A>).
We recommend that
the offsets be specified in days,
as described above for intervals of time
(section <A HREF="#intervals">28</A>),
with a <TT>quantity</TT> of <TT>time</TT> or <TT>unitime</TT>,
as appropriate.
Offsets in shorter units than days are also acceptable.
The first offset is relative to the absolute time,
the second offset is relative to the first offset, etc.
(In practice, there is not likely to be more than one offset.)
These time dimensions should be successive dimensions of the data variable,
in order to indicate their grouping,
and should appear in order, with the absolute time dimension first
in the sense of a CDL declaration
(<EM>last in Fortran terms</EM>).
Each offset time variable should have a string attribute <TT>wrt</TT>
(``with respect to''),
naming the next time dimension in the group.
The first of them might have <TT>subcell=&quot;point&quot;</TT> or 
<TT>subcell=&quot;cell&quot;</TT>,
and might have boundary coordinate values,
but all the others are taken as point values.
The actual time of a data value is obtained by adding up the
values of all its time coordinates.
Unless the offsets are all exact numbers of months and years,
this addition may require knowledge of the calendar,
which is an attribute of the absolute time axis.
The <TT>calendar</TT> attribute is not required for the offsets.
<P>
<EM>To take an example, consider a time dimension which has coordinates at
daily intervals from 1 June to 30 June in each of the five years 1990-1994.
This dimension has a size of
30 x 5 = 150.
The first coordinate is 1
June 1990 and the last is 30 June 1994.  This single time dimension can be
decomposed into two: an absolute dimension of size 5 and values at yearly
intervals from 1 June 1990 to 1 June 1994, and an offset of size 30 and values
of 0, 1, ..., 29 days.  The data value for 13 June 1992 appears at indexes
2 and 12 (numbering from 0) in these two dimensions, respectively, and its time
coordinate is obtained by adding 12 days to 1 June 1992.  A decomposition into
three might be appropriate if the original time coordinate had values at, say,
3-hourly intervals.  The third dimension would then have a size of 8 and values
of 0, 3, 6, ..., 21 hours (expressed in days).  Such a representation
would be appropriate for quantities measured instantaneously at 3-hourly
intervals.  If, on the other hand, they were means over successive intervals of
3 hours, the third dimension would have <TT>subcell=&quot;cell&quot;</TT>, 
lower time
boundaries of 0, 3, 6, ..., 21 hours and upper time boundaries of 3, 6,
9, ..., 24 hours.</EM>
<P>
<font size=-1><small>NEW</small></font>: Once a time dimension has been 
decomposed in this way,
any of the resulting
time dimensions can be contracted, as for any other dimension.
That is the main reason for performing the decomposition,
and it is most useful when it is the leading dimensions which are contracted,
since a contracted trailing time dimension can be merged into a preceding
uncontracted time dimension with no loss of information.
After contraction, boundary coordinate variables should record the first and
last times of the contracted dimension, and
<TT>min_interval</TT> and <TT>max_interval</TT> the extreme spacings between 
the
coordinates.
The combination of a contracted absolute time dimension and one or more
offset-time dimensions indicates climatological time.
<EM>COARDS recommends use of year 0 to indicate climatological time.
We do not favour this convention.
Firstly, it does not provide any way of recording which years were used
to make the climatology.
Secondly, udunits treats year 0 and year 1 as identical
(which is reasonable because year 0 does not exist--there is
no year between 1 AD and 1 BC).</EM>
<P>
<EM>In the example above, we might contract the first time axis.
It would then have a size of one, boundaries of 1 June 1990 and 1 June 1994,
and minimum and maximum intervals of one year.
The data variable would contain 5-year means for the individual days of June.
If we contracted the second dimension as well,
it would have a size of one also, boundaries of 0 and 29 days
(or 0 and 1 month, for time-means over the days
rather than instantaneous values),
minimum and maximum intervals of 1 day.
This would be a 5-year June mean.
The first contracted dimension tells us it is made from five years,
and the second that it uses one month from each year.
If we had retained the third dimension uncontracted,
we would have a set of values for times at 3-hourly intervals
within an average June day.</EM>
<P>
<A NAME="surfaces"></A>
<H1><A NAME="SECTION000300000000000000000">30 Special surfaces</A></H1>
<P>
<font size=-1><small>NEW</small></font>: A data variable may be defined as 
existing on a surface,
the general description of a surface being a set of points which have
two or more independent dimensions and other dimensions which
are single-valued functions of the independent dimensions.
Existence on a surface is a property of the data variable,
and should be indicated by giving it a <TT>surface</TT> attribute
identifying the surface,
one from a list which constitutes Appendix&nbsp;D of this standard.
To provide a longer description of the surface than the <TT>surface</TT>
attribute itself,
a <TT>surface_name</TT> attribute may be included.
<EM>For example, a data variable of pressure at mean sea level would have an
attribute <TT>surface=&quot;sea level&quot;</TT>.
We intend to expand Appendix&nbsp;D in response to requests,
as for Appendix&nbsp;E.
Note that surfaces which can be defined by the numeric value of physical
quantities will not be included.
For example, the surface 1.5&nbsp;m above the ground is not a special surface
in the sense of this section,
as a variable can be described as being on this surface
by giving it a singleton height coordinate with a value of 1.5&nbsp;m.</EM>
<P>
<font size=-1><small>NEW</small></font>: If a plain description is insufficient
 to characterise the surface,
then the values of the dependent coordinates which define it must be
supplied as additional data variables.
These variables should be named as a comma-separated list
in an attribute <TT>surface_coords</TT>.
<EM>If it were necessary to know the depth
of mean sea-level below ground, this could be done by specifying
<TT>surface_coords=&quot;mslheight&quot;</TT> and including a data variable
<TT>mslheight(lat,lon)</TT> (CDL declaration),
<TT>lat</TT> and <TT>lon</TT> also being dimensions
of the pressure variable.</EM>
<P>
<A NAME="invalid"></A>
<H1><A NAME="SECTION000310000000000000000">31 Invalid values in a data 
variable</A></H1>
<P>
<font size=-1><small>NEW</small></font>: Invalid values are not permitted in a 
coordinate variable, so this
section applies only to data variables. Invalid values are any which fall
outside the valid range or equal the fill value, as indicated by the
Unidata-standard attributes described here. An invalid value indicates bad data
i.e. a software problem, which is a different circumstance from unknown or
missing data (see section&nbsp;<A HREF="#missing">32</A>).
<P>
<font size=-1><small>UNIDATA</small></font>: The attribute <TT>valid_min</TT> 
is a scalar specifying the
minimum valid value for a variable.  The attribute <TT>valid_max</TT> specifies
the maximum valid value, while <TT>valid_range</TT> is a vector of two numbers
specifying the minimum and maximum valid values, in that order, equivalent to
specifying values for both <TT>valid_min</TT> and <TT>valid_max</TT>
attributes. Any of these attributes define the valid range.  The attribute <TT>
valid_range</TT> must not be defined if either <TT>valid_min</TT> or <TT>
valid_max</TT> is defined. Generic applications should treat values outside the
valid range as invalid. The type of each <TT>valid_range</TT>, 
<TT>valid_min</TT>
and <TT>valid_max</TT> attribute should match the type of its variable.  
<EM>The
Unidata special treatment of <TT>byte</TT> type is not included here as we do 
not
recommend use of that type (see section <A 
HREF="#datatype">3</A>).</EM>
<P>
<font size=-1><small>COARDS</small></font>: A scalar attribute with the name 
<TT>_FillValue</TT> and of the
same type as its variable is used as the fill value for the variable.  The
netCDF package defines a default fill value for each type of variable, so it is
not necessary to define your own <TT>_FillValue</TT> attribute if the default 
is
suitable.  The purpose of the fill value is to save the applications programmer
the work of prefilling the data and also to eliminate the duplicate writes that
result from netCDF filling in undefined data with its default fill value,
only to be immediately overwritten by the programmer's preferred value. This
value is considered to be a special value that indicates undefined data, and is
returned when reading values that were not written.  The <TT>_FillValue</TT>
should be outside the range specified by <TT>valid_range</TT> (if used) for a
variable.  <font size=-1><small>NEW</small></font>: In cases where the data 
variable is packed using the <TT>
scale_factor</TT> and <TT>add_offset</TT> attributes (section <A 
HREF="#pack">34</A>), the
<TT>_FillValue</TT> attribute applies the numbers as packed, so they must be
checked against it before unpacking.
<P>
<font size=-1><small>NEW</small></font>: If none of <TT>valid_min</TT>, 
<TT>valid_max</TT> or <TT>valid_range</TT>
is defined then generic applications should define a valid range by using the
fill value (whether defined explicitly or by default); if the fill value is
positive then it defines a valid maximum, otherwise it defines a valid
minimum. For integer types, there should be a difference of 1 between the fill
value and this valid minimum or maximum. For floating point types, the valid
extreme should have a magnitude which is half the magnitude of the fill value.
<EM>We recommend a factor of two, rather than a difference of one bit, because
it is easier for applications programmers.  There is no special treatment for
<TT>byte</TT> as we do not recommend that type (see section <A 
HREF="#datatype">3</A>).</EM>
<P>
<A NAME="missing"></A>
<H1><A NAME="SECTION000320000000000000000">32 Missing values in a data 
variable</A></H1>
<P>
<font size=-1><small>NEW</small></font>: Missing values are not permitted in a 
coordinate variable, so this
section applies only to data variables. The <TT>missing_value</TT> attribute
indicates a value that is used for data that are unknown or ``missing''. This
attribute is not be treated in any special way by the netCDF API, unlike the
<TT>_FillValue</TT> attribute (section <A HREF="#invalid">31</A>).
The <TT>missing_value</TT> should be outside the valid range
(section <A HREF="#invalid">31</A>), so that generic applications 
will treat it
appropriately.
The netCDF data type of
the <TT>missing_value</TT> attribute should match the netCDF data type of the
data variable that it describes. In cases where the data variable is packed via
the <TT>scale_factor</TT> and <TT>add_offset</TT> attributes (section <A 
HREF="#pack">34</A>),
the <TT>missing_value</TT> attribute
matches the type of and should be compared with the data
after unpacking.
<EM>This standard is unlike COARDS in giving
a particular interpretation to the
distinction between <TT>missing_value</TT> and <TT>_FillValue</TT>.</EM>
<P>
<A NAME="gather"></A>
<H1><A NAME="SECTION000330000000000000000">33 Compression by gathering</A></H1>
<P>
<font size=-1><small>NEW</small></font>: To save space in the netCDF file,
it may be desirable to eliminate points
from data arrays which are invariably missing.
Such a compression can operate over one or more adjacent axes,
and is accomplished with reference to a list of
the points to be stored.
<EM>The axes to be compressed might not be all the axes.
For example, we might wish to compress a three-dimensional
longitude-latitude-depth array of soil temperatures
by eliminating sea points at all depths.
In this case, only the longitude and latitude axes would be affected
by the compression.</EM>
The list is constructed by considering a mask array which has just the
axes to be compressed,
and mapping this array onto one dimension without reordering.
The list is the set of indices
in this one-dimensional mask of the required points.
In the compressed array,
the axes to be compressed are all replaced by a single axis,
whose dimension is the number of wanted points.
The wanted points appear along this dimension in the same order they
appear in the uncompressed array, with the unwanted points skipped over.
Compression and uncompression are executed by looping over the list.
<P>
<font size=-1><small>NEW</small></font>: The list is stored as the
coordinate variable for the compressed axis of the data array.
Thus, the list variable and its dimension have the same name.
The list variable has a string attribute <TT>compressed</TT>,
containing a comma-separated list of the dimensions which were affected
by the compression in the order of the CDL declaration of the
uncompressed array.
The list, the compressed arrays and the original dimensions
are written to the archived netCDF file.
The uncompressed arrays can be reconstituted
using this information.
<EM>In the example above, suppose the original data variable is
<TT>soilt(level,lat,lon)</TT>.
We construct a list <TT>landpoint(landpoint)</TT>
containing the indices of land points
in a mask array <TT>landmask(lat,lon)</TT>.
We compress the data variable to a new variable
<TT>landsoilt(level,landpoint)</TT>
and record the original dimensions in an attribute
<TT>compressed=&quot;lat,lon&quot;</TT> of the <TT>landpoint</TT> list 
variable.</EM>
<P>
<A NAME="pack"></A>
<H1><A NAME="SECTION000340000000000000000">34 Compression using a scale and 
offset</A></H1>
<P>
<font size=-1><small>COARDS</small></font>: This standard
endorses the use of the optional Unidata-standard attributes
<TT>scale_factor</TT> and <TT>add_offset</TT>
for data and coordinate variables.
These attributes
can be used to provide simple number compression (packing),
to store low-resolution
floating-point data as small integers in a netCDF file.
After the data values of the variable have been read in,
they are to be multiplied by the <TT>scale_offset</TT>,
and have <TT>add_offset</TT> added to them.
If both <TT>scale_factor</TT> and <TT>add_offset</TT> attributes are present, 
the
data are scaled before the offset is added.
When scaled data are
written, the application should first subtract the offset and then divide by
the scale factor.
<font size=-1><small>NEW</small></font>: This procedure is concerned only with 
storage.
It does not affect the unit of the quantity.
<EM>For instance, a pressure variable with values in the range
900.0-1100.0&nbsp;Pa
could be converted to short integers in the range
&#177;20000
by subtracting 1000 and dividing by 0.005 i.e. multiplying by 200.
The units of the compressed variable are still recorded as pascals.</EM>
<P>
<font size=-1><small>COARDS</small></font>: This standard is more restrictive 
than the netCDF Users'
Guide with respect to the use of the <TT>scale_factor</TT> and 
<TT>add_offset</TT>
attributes; ambiguities and precision problems related to data type conversions
are resolved by these restrictions. If the <TT>scale_factor</TT> and <TT>
add_offset</TT> attributes are of the same data type as the associated variable
 no
restrictions apply; the unpacked data is assumed to be of the same data type as
the packed data. However, if the <TT>scale_factor</TT> and <TT>add_offset</TT>
attributes are of a different data type from the associated variable
(containing the packed data) then in files adhering to this standard the
associated variable may only be of type <TT>short</TT> or <TT>long</TT>.  
<EM>We
exclude <TT>byte</TT> on grounds discussed in section <A 
HREF="#datatype">3</A>.</EM> The
attributes <TT>scale_factor</TT> and <TT>add_offset</TT> (which must match in 
data
type) must be of type <TT>float</TT> or <TT>double</TT>. The data type of the
attributes should match the intended type of the unpacked data. (It is not
advised to unpack a <TT>long</TT> into a <TT>float</TT> as there is a potential
precision loss.)  <EM>Users should note that Unidata may provide a built-in
means of packing data in netCDF files in future.</EM>
<P>
<P>
<P>
<H1><A NAME="SECTION000350000000000000000">A Attributes</A></H1>
<DIV ALIGN=CENTER><P ALIGN=CENTER><TABLE COLS=3 BORDER FRAME=BOX RULES=GROUPS>
<COLGROUP><COL ALIGN=LEFT><COLGROUP><COL ALIGN=LEFT><COLGROUP><COL 
ALIGN=JUSTIFY>
<TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
Attribute </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Section(s) </TD><TD 
VALIGN=BASELINE ALIGN=LEFT> Description </TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP><TT>add_offset</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A HREF="#invalid">31</A> <A 
HREF="#pack">34</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
Additive offset for packing data </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>appendices</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Version number of these appendices </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>associate</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#associated">19</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Identifies variables containing
alternative sets of coordinates </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>bounds</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#boundary">21</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Identifies a variable containing boundary
coordinate values </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>calendar</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> <A HREF="#time">24</A> <A 
HREF="#gregorian">25</A> 
<A HREF="#othercalendars">26</A> <A 
HREF="#unimonth">27</A> <A HREF="#multipletime">29</A> 
</TD><TD VALIGN=BASELINE ALIGN=LEFT>
Calendar used for encoding time axes </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>comment</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Additional information about the file </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>component</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#component">18</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Identifies variables containing
components of a coordinate variable </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>compressed</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#gather">33</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
Records the dimensions which have been compressed by gathering </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>contraction</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#contractions">23</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
Records how an axis was contracted to a point </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>Conventions</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Identifies the netCDF standard </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>_FillValue</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#invalid">31</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Indicator of invalid data </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>FORTRAN_format</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#quantity">12</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Format 
for printing the
values of a variable </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>history</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Evolution of the data in the file </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>institution</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Who 
made or supplied the data </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>long_name</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#quantity">12</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Long 
description
of a physical quantity </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>max_interval</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#contractions">23</A> <A 
HREF="#multipletime">29</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
The maximum separation between points on an axis
before contraction </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>min_interval</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#contractions">23</A> <A 
HREF="#multipletime">29</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
The minimum separation between points on an axis
before contraction </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>modulo</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#quantity">12</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Arithmetic modulo of a coordinate
variable </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>north_pole</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#systems">10</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Geographical location of rotated
North Pole </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>positive</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#vertical">16</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
Direction of positive for a vertical axis </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>production</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#attributes">4</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> How 
the data was produced </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>quantity</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#quantity">12</A> <A HREF="#longitude">14</A> <A 
HREF="#latitude">15</A>
<A HREF="#vertical">16</A> <A HREF="#time">24</A> <A 
HREF="#unimonth">27</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
Short description of a physical quantity </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>scale_factor</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#invalid">31</A> <A HREF="#pack">34</A> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT>
Multiplicative factor for packing data </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>subcell</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#subcell">22</A> <A HREF="#multipletime">29</A> 
</TD><TD VALIGN=BASELINE ALIGN=LEFT>
Indicates whether data values are points
samples or cell averages </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>surface</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#surfaces">30</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Identifies a surface on which a quantity
is defined </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>surface_coords</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#surfaces">30</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Identifies dependent variables
defining a surface </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>surface_name</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#surfaces">30</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Description of a surface </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>topology</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#topology">13</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Topology of an axis (circular or not) </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>time_format</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#time">24</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Format for 
printing a time and date </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>units</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#quantity">12</A> <A HREF="#longitude">14</A> <A 
HREF="#latitude">15</A> <A HREF="#time">24</A>
<A HREF="#intervals">28</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT>
Units of a physical quantity </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>valid_max</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#invalid">31</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Largest 
valid value of a variable </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>valid_min</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#invalid">31</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Smallest
 valid value of a variable </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>valid_range</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#invalid">31</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> Smallest
 and largest valid values
of a variable </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>weight</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#contractions">23</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Weighting for points used when performing
a statistical contraction of an axis </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>wrt</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <A 
HREF="#multipletime">29</A> </TD><TD VALIGN=BASELINE ALIGN=LEFT> 
Indicates the time axis to which a
time offset applies </TD></TR>
</TBODY>
</TABLE>
</P></DIV>
<P>
<P>
<H1><A NAME="SECTION000360000000000000000">B Contractions</A></H1>
<DIV ALIGN=CENTER><P ALIGN=CENTER><TABLE COLS=4 BORDER FRAME=BOX RULES=GROUPS>
<COLGROUP><COL ALIGN=LEFT><COLGROUP><COL ALIGN=LEFT><COLGROUP><COL 
ALIGN=LEFT><COLGROUP><COL ALIGN=LEFT>
<TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
Contraction </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Units </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> Quantity </TD><TD VALIGN=BASELINE ALIGN=LEFT
 NOWRAP> Description </TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP><TT>max</TT> </TD><TD VALIGN=BASELINE
 ALIGN=LEFT NOWRAP> <I>u</I> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> N 
</TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Maximum </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>min</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <I>u</I> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> N </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> Minimum </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>mean</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <I>u</I> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> N </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> Mean </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>sd</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <I>u</I> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> Y </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> Standard deviation </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>sum</TT> without <TT>weight</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> <I>u</I> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> N </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> Sum </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>sum</TT> with <TT>weight</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
<i>u</i> x <i>w</i>
</TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Y </TD><TD VALIGN=BASELINE 
ALIGN=LEFT NOWRAP> Weighted sum </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>var</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
<i>u</i>&#178;
</TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Y </TD><TD VALIGN=BASELINE 
ALIGN=LEFT NOWRAP> Variance </TD></TR>
</TBODY>
</TABLE>
</P></DIV>
<P><B>Units:</B> <I>u</I> means the units of the original quantity,
and <I>w</I> the units of the weighting quantity
<P><B>Quantity:</B> ``N'' means
the quantity does not change, ``Y'' that it does change
<P>
<H1><A NAME="SECTION000370000000000000000">C Modifications to 
<TT>udunits.dat</TT></A></H1>
None at present.
<font size=-1><small>COARDS</small></font>: The unit <TT>degrees</TT> is not 
permitted, because
it creates ambiguities when attempting to
differentiate longitude and latitude coordinate variables.
This unit does not appear in the current version
of the file.
<P>
<H1><A NAME="SECTION000380000000000000000">D Surfaces</A></H1>
This Appendix is not yet available.
It will contain entries such as:
<P>
<DIV ALIGN=CENTER><P ALIGN=CENTER><TABLE COLS=2 BORDER FRAME=BOX RULES=GROUPS>
<COLGROUP><COL ALIGN=LEFT><COLGROUP><COL ALIGN=LEFT>
<TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
Surface </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Description </TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP><TT>surface</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> Surface of the land or sea </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>sea level</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Mean sea-level 
</TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
<TT>TOA</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Top of the atmosphere 
</TD></TR>
</TBODY>
</TABLE>
</P></DIV>
<P>
<P><B>Surface:</B> Case, spaces and punctuation are not
significant in the name of the surface.
<P><B>Description:</B> This is an explanation of the surface for
the purpose of this Appendix only.
Applications should not rely on this Appendix as a lookup table for
explanations, however.
If the surface needs a description,
it should be attached to the variable in a <TT>surface_name</TT> attribute.
<P>
<P>
<H1><A NAME="SECTION000390000000000000000">E Quantities</A></H1>
This Appendix is not yet available.
As well as existing as part of this standard,
it will be made available
as a flat ASCII file for use by applications programs.
It will contain entries such as:
<P>
<DIV ALIGN=CENTER><P ALIGN=CENTER><TABLE COLS=5 BORDER FRAME=BOX RULES=GROUPS>
<COLGROUP><COL ALIGN=LEFT><COLGROUP><COL ALIGN=LEFT><COLGROUP><COL 
ALIGN=LEFT><COLGROUP><COL ALIGN=LEFT><COLGROUP><COL ALIGN=JUSTIFY>
<TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
Version </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> Quantity </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> Unit </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> Positive </TD><TD VALIGN=BASELINE ALIGN=LEFT> Description </TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>1.0 </TD><TD VALIGN=BASELINE 
ALIGN=LEFT NOWRAP> <TT>height</TT> </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
m </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> U </TD><TD VALIGN=BASELINE 
ALIGN=LEFT> Height above the surface of the land or sea </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>depth</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> m </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> D </TD><TD VALIGN=BASELINE ALIGN=LEFT> Depth below the surface of the 
land or sea </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>pressure</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> Pa </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> D </TD><TD VALIGN=BASELINE ALIGN=LEFT> Pressure </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>longitude</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> degree_east </TD><TD VALIGN=BASELINE 
ALIGN=LEFT NOWRAP> - </TD><TD VALIGN=BASELINE ALIGN=LEFT> Longitude </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>latitude</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> degree_north </TD><TD VALIGN=BASELINE 
ALIGN=LEFT NOWRAP> - </TD><TD VALIGN=BASELINE ALIGN=LEFT> Latitude </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>time</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> d </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> - </TD><TD VALIGN=BASELINE ALIGN=LEFT> Time (in any calendar except 
unimonth) </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>unitime</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> d </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> - </TD><TD VALIGN=BASELINE ALIGN=LEFT> Time (in the unimonth calendar) 
</TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>temperature</TT> </TD><TD 
VALIGN=BASELINE ALIGN=LEFT NOWRAP> K </TD><TD VALIGN=BASELINE ALIGN=LEFT 
NOWRAP> - </TD><TD VALIGN=BASELINE ALIGN=LEFT> Temperature </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>soil temperature</TT> 
</TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> K </TD><TD VALIGN=BASELINE 
ALIGN=LEFT NOWRAP> - </TD><TD VALIGN=BASELINE ALIGN=LEFT> Temperature of the 
soil </TD></TR>
<TR><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> 
1.0 </TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> <TT>precipitation rate</TT> 
</TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP>
kg m&#175;&#178; s&#175;&#185;
</TD><TD VALIGN=BASELINE ALIGN=LEFT NOWRAP> - </TD><TD VALIGN=BASELINE 
ALIGN=LEFT>
Rate of precipitation in all phases together </TD></TR>
</TBODY>
</TABLE>
</P></DIV>
<P>
<P><B>Version:</B> The version of the appendices at which this
quantity was introduced.
<P><B>Quantity:</B> Case, spaces and punctuation are not
significant in the name of the quantity.
<P><B>Positive:</B> For quantities commonly used as vertical axes,
``U'' means that values increase upwards along the axis,
``D'' means downwards.
No value is indicated for quantities not used in this way.
<P><B>Description:</B> This is an explanation of the quantity for
the purpose of this Appendix only.
Applications should not rely on this Appendix as a lookup table for
explanations, however.
If the quantity needs a description,
it should be attached to the variable in a <TT>long_name</TT> attribute.
<P>
<BR> <HR>
<P><ADDRESS>
Jonathan Gregory | jmgregory@meto.gov.uk
</ADDRESS>
</BODY>
</HTML>
