<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Getting back to ensembles from John Caron on 2006-11-20 (cf-metadata-mailman)</title>
<meta name="Author" content="John Caron (caron)" />
<meta name="Subject" content="[CF-metadata] Getting back to ensembles" />
<meta name="Date" content="2006-11-20" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./0461.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0463.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Getting back to ensembles</h1>
<!-- received="Mon Nov 20 11:12:00 2006" -->
<!-- isoreceived="20061120111200" -->
<!-- sent="Mon, 20 Nov 2006 11:12:00 -0700" -->
<!-- isosent="20061120181200" -->
<!-- name="John Caron" -->
<!-- email="caron" -->
<!-- subject="[CF-metadata] Getting back to ensembles" -->
<!-- id="4561EFF0.6010100_at_unidata.ucar.edu" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="1164030812.16116.0.camel_at_localhost.localdomain" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start462" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./0463.html" accesskey="d" title="Brian Eaton: &quot;[CF-metadata] Getting back to ensembles&quot;">Next message</a> ]
[ <a href="./0461.html" title="Egil St&#0248;ren: &quot;[CF-metadata] CF provisional standards&quot;">Previous message</a> ]
[ <a href="./0460.html" title="Bryan Lawrence: &quot;[CF-metadata] Getting back to ensembles&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./0463.html" accesskey="t" title="Brian Eaton: &quot;[CF-metadata] Getting back to ensembles&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg462" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg462" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg462" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg462" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: John Caron &lt;<a href="mailto:caron?Subject=Re%3A%20%5BCF-metadata%5D%20Getting%20back%20to%20ensembles">caron</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Mon, 20 Nov 2006 11:12:00 -0700</span><br />
</address>
<br />
Hello all:
<br />
<br /><br />Bryan Lawrence wrote:
<br />
<em class="quotelev1">&gt; Hi Folks
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I've said enough about process for now.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; We should get back to discussing exactly what's on the table. I've
</em><br />
<em class="quotelev1">&gt; enumerated key paragraphs to help discussion.  I will move this to trac
</em><br />
<em class="quotelev1">&gt; once Kyle reminds me what my account details are :-(
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 1) I think there is general acceptance that we can have something like:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; float temperature(realization,time,lat,lon):
</em><br />
<em class="quotelev1">&gt; temperature:coordinates = 'realization time lat lon' ;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 2) I then muddied the waters by suggesting using ancillary variables for
</em><br />
<em class="quotelev1">&gt; metadata about the realizations. Jamie and Jonathan stressed that we
</em><br />
<em class="quotelev1">&gt; should use auxillary coordinate variables. They were right.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 3) Jonathan's example then was similar to the following, where I've
</em><br />
<em class="quotelev1">&gt; added an extra metadata label to stress the point that as I understand
</em><br />
<em class="quotelev1">&gt; it the auxillary coordinate variables provide a mechanism for slicing
</em><br />
<em class="quotelev1">&gt; the realizations in many ways, without adding to the dimensionality of
</em><br />
<em class="quotelev1">&gt; the ensemble itself (by the way, this could be useful for station data
</em><br />
<em class="quotelev1">&gt; as it stands provided we don't overload much meaning into
</em><br />
<em class="quotelev1">&gt; &quot;realization&quot;). This should allow a lot of the functionality paco wants.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; float temperature(realization,time,lat,lon):
</em><br />
<em class="quotelev1">&gt;     temperature:coordinates = 'time lat lon metadata1 metadata2' ;
</em><br />
<em class="quotelev1">&gt;   char metadata1(realization,len100):
</em><br />
<em class="quotelev1">&gt;     metadata1:standard_name=&quot;institution&quot;; // for instance
</em><br />
<em class="quotelev1">&gt;   char metadata2(realization,len100):
</em><br />
<em class="quotelev1">&gt;     metadata2:standard_name=&quot;thing2; // for instance
</em><br />
<em class="quotelev1">&gt;     
</em><br />
<em class="quotelev1">&gt; 4) As an aside at this point it seems we don't need a standard name for
</em><br />
<em class="quotelev1">&gt; &quot;realization&quot; even though we have one ... (although we'd need it for the
</em><br />
<em class="quotelev1">&gt; case where there were no auxillary coordinate variables).
</em><br />
<br />im not clear if you are suggesting we standardize the dimension name to = realization? I will assume for now you are not saying that.
<br />
<br /><em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 5) I suggested that where we don't already have standard names for the
</em><br />
<em class="quotelev1">&gt; metadata here, that we should not invent them.  I made the argument that
</em><br />
<em class="quotelev1">&gt; we were opening a huge metadata door here and that we ought not reinvent
</em><br />
<em class="quotelev1">&gt; the entire wheel within CF.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 6) I further made the argument that whatever metadata we did want
</em><br />
<em class="quotelev1">&gt; internally for these  should not be *standard names*, which in my mind
</em><br />
<em class="quotelev1">&gt; really ought to be about defining physical variables  (things with
</em><br />
<em class="quotelev1">&gt; units), or at least things which we directly might expect to manipulate
</em><br />
<em class="quotelev1">&gt; (e.g. realization weights). I think the intention for this stuff is also
</em><br />
<em class="quotelev1">&gt; different from the flag concept as well ...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 7) I accept that there is merit in standard &quot;somethings&quot; which map our
</em><br />
<em class="quotelev1">&gt; existing global attributes, which ought to help aggregation tools. John?
</em><br />
<br />Ok, let me restate the situation from the common data model, which is a bit different from CF, though compatible.
<br />
<br />let me munge your examples slightly:
<br />
<br />1)
<br />
float temperature(rdim,time,lat,lon):
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature:coordinates = 'realization time lat lon' ;
<br />
<br />char realization (rdim, strlen):
<br />
<br />assuming that time,lat,lon are the usual CF conventions, then the new thing is that I have a string valued coordinate, but i dont know what it is intended to mean. But if I unambiguously indicate it as:
<br />
<br />char realization (rdim, strlen):
<br />
&nbsp;&nbsp;realization :standard_name=&quot;realization&quot;; // or whatever we decide
<br />
<br />Now I know its an ensemble dimension, and can present it to the user for slicing and dicing, in a way that the user knows for sure what the dimension is used for. I would require that the strings are unique, so there is a 1-1 mapping. What the string values are doesnt matter to me.
<br />
<br />2) if i understand, you want to deal with the case where you do care what the strings mean, sometimes they indicate runs from different institution, or maybe just perturbations from the same run. You certainly can add multiple (auxiliary) coordinate variables. I still need the standard name on one of them so i know its an ensemble dimension, and I need a 1-1 mapping. One possibility would be to consider the variable that has the standard name on it to be special, and its values required to be unique. Or one could put a standard name on all of them, and assume that the concatentation of the values is unique.  
<br />
<br />float temperature(rdim,time,lat,lon):
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature:coordinates = 'metadata1 metadata2 time lat lon' ;
<br />
<br />char metadata1(rdim, strlen):
<br />
&nbsp;&nbsp;metadata1:standard_name=&quot;institution&quot;; // for instance
<br />
<br />char metadata2(rdim, strlen):
<br />
&nbsp;&nbsp;metadata2:standard_name=&quot;thing2; // for instance
<br />
<br />I assume that you are saying lets not standardize the values of these strings. However, I do need to understand that &quot;institution&quot; and &quot;thing2&quot; are types of an ensemble dimension, not intended to represent something else, ie a vector.
<br />
<br />Probably enough for now, for me.
<br />
<br /><br /><em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 8) So, I was proposing something new, which I then think should be
</em><br />
<em class="quotelev1">&gt; provisional: firstly, that we create a new class of standard
</em><br />
<em class="quotelev1">&gt; identifiers, which we call &quot;standard_metadata&quot;, and we put the global
</em><br />
<em class="quotelev1">&gt; file attribute things in here, and anything else we find external
</em><br />
<em class="quotelev1">&gt; vocabularies inadequate for.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 9) So the example would be rather than in 3) above, we would have:
</em><br />
<em class="quotelev1">&gt; float temperature(realization,time,lat,lon):
</em><br />
<em class="quotelev1">&gt;     temperature:coordinates = 'time lat lon metadata1 metadata2' ;
</em><br />
<em class="quotelev1">&gt;   char metadata1(realization,len100):
</em><br />
<em class="quotelev1">&gt;     metadata1:standard_metadata=&quot;institution&quot;; // for instance
</em><br />
<em class="quotelev1">&gt;   char metadata2(realization,len100):
</em><br />
<em class="quotelev1">&gt;     metadata2:standard_metadata=&quot;thing2; // for instance
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Note that one could still have *standard_names* in as auxillary
</em><br />
<em class="quotelev1">&gt; coordinate variables, but when we use standard_metadata, we are
</em><br />
<em class="quotelev1">&gt; explicitly saying there is nothing physical about this information!
</em><br />
<em class="quotelev1">&gt; I think that would be of considerable aid to software! 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 10) But, secondly, where possible *for metadata* we should use external
</em><br />
<em class="quotelev1">&gt; vocabularies, and *not* add new stuff into our controlled vocabularies.
</em><br />
<em class="quotelev1">&gt; I thought the mechanism for doing this would be (for anything actually,
</em><br />
<em class="quotelev1">&gt; not just for standard_metadata):
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; char metadata1(realization,len100):
</em><br />
<em class="quotelev1">&gt;    metadata1:external_vocabulary = <a href="http://wmo.foo.int/identifierY">http://wmo.foo.int/identifierY</a> 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 11) Obviously if one wrote a file containing this stuff, one would 
</em><br />
<em class="quotelev1">&gt; a) be documenting the file consistently, this doesn't  necessarily rely
</em><br />
<em class="quotelev1">&gt; on external tables any more than using standard_names relies on the
</em><br />
<em class="quotelev1">&gt; external definitions.
</em><br />
<em class="quotelev1">&gt; b) want some faith that www.foo.int will keep that meaning around at
</em><br />
<em class="quotelev1">&gt; least as long as the data exists. That's no more or less a leap of faith
</em><br />
<em class="quotelev1">&gt; than in CF ... any given data producer can then make their own decision
</em><br />
<em class="quotelev1">&gt; about doing that.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 12) If there is an existing cf standard name or cf standard metadata for
</em><br />
<em class="quotelev1">&gt; this, then *don't* use them both - that way lies confusion (it's
</em><br />
<em class="quotelev1">&gt; unlikely that the two will really be identical). In this I differ
</em><br />
<em class="quotelev1">&gt; strongly from Jonathan's last suggestion.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; That's probably enough for now.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Bryan
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://www.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<span id="received"><dfn>Received on</dfn> Mon Nov 20 2006 - 11:12:00 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start462">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./0463.html" title="Next message in the list">Brian Eaton: "[CF-metadata] Getting back to ensembles"</a></li>
<li><dfn>Previous message</dfn>: <a href="./0461.html" title="Previous message in the list">Egil St&#0248;ren: "[CF-metadata] CF provisional standards"</a></li>
<li><dfn>In reply to</dfn>: <a href="./0460.html" title="Message to which this message replies">Bryan Lawrence: "[CF-metadata] Getting back to ensembles"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./0463.html" title="Next message in this discussion thread">Brian Eaton: "[CF-metadata] Getting back to ensembles"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./0463.html" title="Message sent in reply to this message">Brian Eaton: "[CF-metadata] Getting back to ensembles"</a></li>
<li><dfn>Reply</dfn>: <a href="./0467.html" title="Message sent in reply to this message">Bryan Lawrence: "[CF-metadata] Getting back to ensembles"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg462" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg462" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg462" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg462" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:56:50 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./0461.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./0463.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
