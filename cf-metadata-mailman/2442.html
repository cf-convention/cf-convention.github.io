<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] Questions on cell boundaries from Bryan Lawrence on 2010-02-19 (cf-metadata-mailman)</title>
<meta name="Author" content="Bryan Lawrence (bryan.lawrence)" />
<meta name="Subject" content="[CF-metadata] Questions on cell boundaries" />
<meta name="Date" content="2010-02-19" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./2441.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./2443.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] Questions on cell boundaries</h1>
<!-- received="Fri Feb 19 07:45:01 2010" -->
<!-- isoreceived="20100219074501" -->
<!-- sent="Fri, 19 Feb 2010 14:45:01 +0000" -->
<!-- isosent="20100219144501" -->
<!-- name="Bryan Lawrence" -->
<!-- email="bryan.lawrence" -->
<!-- subject="[CF-metadata] Questions on cell boundaries" -->
<!-- id="201002191445.01907.bryan.lawrence_at_stfc.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="1306703531.376737.1266588947389.JavaMail.root_at_imap1b" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start2442" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./2443.html" accesskey="d" title="Karl Taylor: &quot;[CF-metadata] Questions on cell boundaries&quot;">Next message</a> ]
[ <a href="./2441.html" title="Thomas Lavergne: &quot;[CF-metadata] Questions on cell boundaries&quot;">Previous message</a> ]
[ <a href="./2441.html" title="Thomas Lavergne: &quot;[CF-metadata] Questions on cell boundaries&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./2443.html" accesskey="t" title="Karl Taylor: &quot;[CF-metadata] Questions on cell boundaries&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg2442" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg2442" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg2442" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg2442" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Bryan Lawrence &lt;<a href="mailto:bryan.lawrence?Subject=Re%3A%20%5BCF-metadata%5D%20Questions%20on%20cell%20boundaries">bryan.lawrence</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 19 Feb 2010 14:45:01 +0000</span><br />
</address>
<br />
hi Thomas
<br />
<br />I think Nan's right that four points is enough to unambiguously define an ellipse, but how do we know it's an ellipse?
<br />
<br />We get the vertices from cell bounds
<br />
We get the area from cell measures
<br />
<br />The only thing missing is the knowledge that the bounds need to be interpreted as ellipse coordinates rather than a polygon when plotting or something more sophisticated.
<br />
<br />There are at least two possible routes:
<br />
&nbsp;&nbsp;a) while long_name is not required for a boundary variable, we could use it to say it's an elllipse, or
<br />
&nbsp;&nbsp;b) We extend cell_measures or cell_methods. My preference would be the latter, so we could add ellipse or FOV or something like that to appendix E (I haven't thought this through in detail yet, I was hoping someone else would suggest something).
<br />
<br />Cheers
<br />
Bryan
<br />
<br />On Friday 19 February 2010 14:15:47 Thomas Lavergne wrote:
<br />
<em class="quotelev1">&gt; Hei Nan and Bryan,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Indeed, as far as I see it, you could not specify or reproduce this shape since you do not know it is an ellipse. It might furthermore be slanted with respect to the axis, which requires an extra piece of information.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Bryan, did I miss something or you haven't yet proposed your &quot;slight modification&quot;? I am all ears :-)
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Thomas 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- &quot;Bryan Lawrence&quot; &lt;bryan.lawrence at stfc.ac.uk&gt; wrote:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Hi Nan
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; ... but you couldn't plot this properly because you don't know that
</em><br />
<em class="quotelev2">&gt; &gt; it's an ellipse ... which is why I would suggest a very slight
</em><br />
<em class="quotelev2">&gt; &gt; modification to add that particular piece of metadata ... (or am I
</em><br />
<em class="quotelev2">&gt; &gt; missing something)
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Cheers
</em><br />
<em class="quotelev2">&gt; &gt; Bryan
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; On Thursday 18 February 2010 14:36:05 Nan Galbraith wrote:
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Four coordinates and an area is enough to define an ellipse; if
</em><br />
<em class="quotelev3">&gt; &gt; &gt; these are more complex shapes, that's another problem.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; As long as these are ellipses, the existing convention should work; 
</em><br />
<em class="quotelev2">&gt; &gt; you'd
</em><br />
<em class="quotelev3">&gt; &gt; &gt; give the n/s e/w extremes of the disc in lat(cell), lon(cell) and
</em><br />
<em class="quotelev2">&gt; &gt; use
</em><br />
<em class="quotelev3">&gt; &gt; &gt; cell_measures = &quot;area: cell_area&quot; after calculating the area from
</em><br />
<em class="quotelev2">&gt; &gt; the 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; lengths
</em><br />
<em class="quotelev3">&gt; &gt; &gt; of the major &amp; minor axes.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Maybe my geometry is even rustier than I thought, otherwise this
</em><br />
<em class="quotelev2">&gt; &gt; should
</em><br />
<em class="quotelev3">&gt; &gt; &gt; work as it exists in the standard.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; The vertices of the cells can be stored in the variable identified
</em><br />
<em class="quotelev2">&gt; &gt; by 
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the bounds 
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; attribute, but the cell perimeter is not uniquely defined by its 
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; vertices (because
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the vertices could, for example, be connected by straight lines,
</em><br />
<em class="quotelev2">&gt; &gt; or, 
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; on a sphere,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; by lines following a great circle, or, in general, in some other
</em><br />
<em class="quotelev2">&gt; &gt; way). 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; - Nan
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; On Wednesday 17 February 2010 13:36:21 Thomas Lavergne wrote:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;   
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; Dear all,
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; I do not think someone reacted on my concern/question about
</em><br />
<em class="quotelev2">&gt; &gt; non-polygonal cell boundaries. Maybe I am the only one with this issue
</em><br />
<em class="quotelev2">&gt; &gt; or maybe this topic went un-noticed because of heavy load on the CF
</em><br />
<em class="quotelev2">&gt; &gt; list at that time. 
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; I thus re-post my original message in hope that someone will
</em><br />
<em class="quotelev2">&gt; &gt; comment on it (or point me to an archived thread that I did not yet
</em><br />
<em class="quotelev2">&gt; &gt; see).
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; Original post:
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;     
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; Hi everyone,
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; I refer to Chapter 7 on &quot;Data Representative of Cells&quot;, 7.1
</em><br />
<em class="quotelev2">&gt; &gt; &quot;Cell
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; Boundaries&quot;. 
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; The specification of those boundaries seems to biased towards
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; polygonal boundaries (in the case of a 2D surface). This covers
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; certainly most of the needs but what happens if the cell is
</em><br />
<em class="quotelev2">&gt; &gt; defined as
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; a disc of radius x km (with center at the coordinate value)? 
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; Of course, I can always give 10 to 10,000 vertices that will
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; approximate my disc but it does not sound very neat nor
</em><br />
<em class="quotelev2">&gt; &gt; efficient. We
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; would have to somehow move away from listing the 'bounds' and
</em><br />
<em class="quotelev2">&gt; &gt; start
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; describing the shape of the cell (disc, ellipse, rectangle,
</em><br />
<em class="quotelev2">&gt; &gt; etc...).
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; Note that the concepts of &quot;cell measures&quot; and &quot;cell methods&quot;
</em><br />
<em class="quotelev2">&gt; &gt; would
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; still perfectly hold.
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; One example of such a dataset would be one where at each grid
</em><br />
<em class="quotelev2">&gt; &gt; location
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; we report the mean/minimum/maximum temperature or pressure
</em><br />
<em class="quotelev2">&gt; &gt; recorded by
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; any station found in a radius of, say, 30 km around the central
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; point. 
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; Another example is satellite data in swath projection where
</em><br />
<em class="quotelev2">&gt; &gt; each
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; record is associated to a Field Of View, which is often
</em><br />
<em class="quotelev2">&gt; &gt; approximated
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; as a an ellipse. 
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt; Did someone give it a thought already?
</em><br />
<em class="quotelev2">&gt; &gt; &gt; &gt;&gt;&gt;       
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt;&gt;     
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;   
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; -- 
</em><br />
<em class="quotelev2">&gt; &gt; Bryan Lawrence
</em><br />
<em class="quotelev2">&gt; &gt; Director of Environmental Archival and Associated Research
</em><br />
<em class="quotelev2">&gt; &gt; (NCAS/British Atmospheric Data Centre and NCEO/NERC NEODC)
</em><br />
<em class="quotelev2">&gt; &gt; STFC, Rutherford Appleton Laboratory
</em><br />
<em class="quotelev2">&gt; &gt; Phone +44 1235 445012; Fax ... 5848; 
</em><br />
<em class="quotelev2">&gt; &gt; Web: home.badc.rl.ac.uk/lawrence
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<br /><br /><br /><pre>
-- 
Bryan Lawrence
Director of Environmental Archival and Associated Research
(NCAS/British Atmospheric Data Centre and NCEO/NERC NEODC)
STFC, Rutherford Appleton Laboratory
Phone +44 1235 445012; Fax ... 5848; 
Web: home.badc.rl.ac.uk/lawrence
</pre>
<span id="received"><dfn>Received on</dfn> Fri Feb 19 2010 - 07:45:01 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start2442">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./2443.html" title="Next message in the list">Karl Taylor: "[CF-metadata] Questions on cell boundaries"</a></li>
<li><dfn>Previous message</dfn>: <a href="./2441.html" title="Previous message in the list">Thomas Lavergne: "[CF-metadata] Questions on cell boundaries"</a></li>
<li><dfn>In reply to</dfn>: <a href="./2441.html" title="Message to which this message replies">Thomas Lavergne: "[CF-metadata] Questions on cell boundaries"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./2443.html" title="Next message in this discussion thread">Karl Taylor: "[CF-metadata] Questions on cell boundaries"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./2443.html" title="Message sent in reply to this message">Karl Taylor: "[CF-metadata] Questions on cell boundaries"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg2442" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg2442" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg2442" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg2442" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:25 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./2441.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./2443.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
