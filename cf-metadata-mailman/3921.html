<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] standards for probabilities from Kettleborough, Jamie on 2011-11-18 (cf-metadata-mailman)</title>
<meta name="Author" content="Kettleborough, Jamie (jamie.kettleborough)" />
<meta name="Subject" content="[CF-metadata] standards for probabilities" />
<meta name="Date" content="2011-11-18" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./3920.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3922.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] standards for probabilities</h1>
<!-- received="Fri Nov 18 05:16:57 2011" -->
<!-- isoreceived="20111118051657" -->
<!-- sent="Fri, 18 Nov 2011 12:16:57 -0000" -->
<!-- isosent="20111118121657" -->
<!-- name="Kettleborough, Jamie" -->
<!-- email="jamie.kettleborough" -->
<!-- subject="[CF-metadata] standards for probabilities" -->
<!-- id="E51EDFEBF10BE44BB4BDAF5FC2F024B90FB7F895_at_EXXMAIL02.desktop.frd.metoffice.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="2132240915.308451.1321445912744.JavaMail.root_at_imap1a" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start3921" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./3922.html" accesskey="d" title="Jonathan Gregory: &quot;[CF-metadata] standards for probabilities&quot;">Next message</a> ]
[ <a href="./3920.html" title="Vegard B&#0248;nes: &quot;[CF-metadata] standards for probabilities&quot;">Previous message</a> ]
[ <a href="./3919.html" title="Vegard B&#0248;nes: &quot;[CF-metadata] standards for probabilities&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./3922.html" accesskey="t" title="Jonathan Gregory: &quot;[CF-metadata] standards for probabilities&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3921" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3921" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3921" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3921" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Kettleborough, Jamie &lt;<a href="mailto:jamie.kettleborough?Subject=Re%3A%20%5BCF-metadata%5D%20standards%20for%20probabilities">jamie.kettleborough</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Fri, 18 Nov 2011 12:16:57 -0000</span><br />
</address>
<br />
Hello Vegard,
<br />
<br />Sorry it looks like my memory is more flawed than I thought.  I can't find realization_weight in the standard name table, although I thought I remembered it being added.  I think a possible entry point into the discussion at the time around this can be found at
<br />
<br /><a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2007/019229.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2007/019229.html</a>
<br />
<br />Though the whole discussion of probabilities and ensembles is one of those things that it seems hard to keep the momentum going on (at least for me) given how hard the problem is and the available brain cycles.
<br />
<br />Jamie
<br />
<br /><em class="quotelev1">&gt; -----Original Message-----
</em><br />
<em class="quotelev1">&gt; From: Vegard B?nes [mailto:vegard.bones at met.no] 
</em><br />
<em class="quotelev1">&gt; Sent: 16 November 2011 12:19
</em><br />
<em class="quotelev1">&gt; To: Kettleborough, Jamie
</em><br />
<em class="quotelev1">&gt; Cc: cf-metadata at cgd.ucar.edu; Jonathan Gregory
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] standards for probabilities
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Hi,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; The methods for estimating probabililties are non-trivial, 
</em><br />
<em class="quotelev1">&gt; and may change over time. Because of that I will prefer to 
</em><br />
<em class="quotelev1">&gt; keep information about the exact process outside of the 
</em><br />
<em class="quotelev1">&gt; generated file.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I have not been able able to find any references to 
</em><br />
<em class="quotelev1">&gt; realization_weight in the standard documents. Could you 
</em><br />
<em class="quotelev1">&gt; please refer me to the right place?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; VG
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- Original Message -----
</em><br />
<em class="quotelev1">&gt; Fra: &quot;Jamie Kettleborough&quot; &lt;jamie.kettleborough at metoffice.gov.uk&gt;
</em><br />
<em class="quotelev1">&gt; Til: &quot;Vegard B?nes&quot; &lt;vegard.bones at met.no&gt;, &quot;Jonathan Gregory&quot; 
</em><br />
<em class="quotelev1">&gt; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; Kopi: cf-metadata at cgd.ucar.edu, &quot;Jamie Kettleborough&quot; 
</em><br />
<em class="quotelev1">&gt; &lt;jamie.kettleborough at metoffice.gov.uk&gt;
</em><br />
<em class="quotelev1">&gt; Sendt: 16. november 2011 11:53:22
</em><br />
<em class="quotelev1">&gt; Emne: RE: [CF-metadata] standards for probabilities
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Hello Vegard,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; How do you generate your cdf from your realisations?  Do you 
</em><br />
<em class="quotelev1">&gt; simply weight each ensemble member equally?  I think there 
</em><br />
<em class="quotelev1">&gt; are cases where you may weight by some measure of how 'good' 
</em><br />
<em class="quotelev1">&gt; you think the ensemble member is (some sort of measure of its 
</em><br />
<em class="quotelev1">&gt; error - you downweight those with high errors).  If you are 
</em><br />
<em class="quotelev1">&gt; storing the output from ensemble members in the file then 
</em><br />
<em class="quotelev1">&gt; think cf allows for this using the 'realzation_weight' 
</em><br />
<em class="quotelev1">&gt; standard name - to store your errors/weights in the file.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Furthermore you may want to know the sensitivity of your cdf 
</em><br />
<em class="quotelev1">&gt; to your error estimates so you could have more than one cdf 
</em><br />
<em class="quotelev1">&gt; for the same variable, but based on different ways of 
</em><br />
<em class="quotelev1">&gt; deriving the errors/weights.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Is this something CF needs to worry about, or is it a case of 
</em><br />
<em class="quotelev1">&gt; trying to add something that's not really needed yet?  Or 
</em><br />
<em class="quotelev1">&gt; maybe this is not in scope for CF anyway, and it should be 
</em><br />
<em class="quotelev1">&gt; left to something more like 'audit/history/provenance' meta data?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jamie 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; -----Original Message-----
</em><br />
<em class="quotelev2">&gt; &gt; From: cf-metadata-bounces at cgd.ucar.edu 
</em><br />
<em class="quotelev2">&gt; &gt; [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf Of Vegard B?nes
</em><br />
<em class="quotelev2">&gt; &gt; Sent: 15 November 2011 13:15
</em><br />
<em class="quotelev2">&gt; &gt; To: Jonathan Gregory
</em><br />
<em class="quotelev2">&gt; &gt; Cc: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; Subject: Re: [CF-metadata] standards for probabilities
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Thank you, Jonathan! :)
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; So, a bit more concrete, this is option 1:
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; float rain_25(time, y, x);
</em><br />
<em class="quotelev2">&gt; &gt;  rain_25:standard_name = &quot;precipitation_amount&quot;; 
</em><br />
<em class="quotelev1">&gt; rain_25:cell_methods 
</em><br />
<em class="quotelev2">&gt; &gt; = &quot;realization: percentile(25)&quot;;
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; The only problem I see with this is that in the resulting cdm 
</em><br />
<em class="quotelev2">&gt; &gt; realization is not used anywhere, apart from possibly in 
</em><br />
<em class="quotelev1">&gt; cell methods. 
</em><br />
<em class="quotelev2">&gt; &gt; But maybe this is ok?
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; If I understand the second option correctly, this would lead to 
</em><br />
<em class="quotelev2">&gt; &gt; something like this:
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; float precipitation_amount(time, percentile, y, x);  ...
</em><br />
<em class="quotelev2">&gt; &gt; float percentile(percentile);
</em><br />
<em class="quotelev2">&gt; &gt;  percentile:units = &quot;1&quot;;
</em><br />
<em class="quotelev2">&gt; &gt;  percentile:standard_name =
</em><br />
<em class="quotelev2">&gt; &gt; &quot;cumulative_distribution_function_of_precipitation_amount&quot;;
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; But what is the purpose of explicitly refering to 
</em><br />
<em class="quotelev1">&gt; precipitation_amount 
</em><br />
<em class="quotelev2">&gt; &gt; in the standard name? would not cumulative_distribution_function be 
</em><br />
<em class="quotelev2">&gt; &gt; better? Then the same dimension could be used for other 
</em><br />
<em class="quotelev1">&gt; data, such as 
</em><br />
<em class="quotelev2">&gt; &gt; air_temperature.
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Or, if we want to add something about the nature of the source data 
</em><br />
<em class="quotelev2">&gt; &gt; for the function, it could be called something like 
</em><br />
<em class="quotelev2">&gt; &gt; cumulative_distribution_function_due_to_realization?
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; I am still a bit uncertain about what is the best, though.
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; -- Vegard
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev2">&gt; &gt; Fra: &quot;Jonathan Gregory&quot; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev2">&gt; &gt; Til: &quot;Vegard B??nes&quot; &lt;vegard.bones at met.no&gt;
</em><br />
<em class="quotelev2">&gt; &gt; Kopi: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; Sendt: 15. november 2011 11:11:52
</em><br />
<em class="quotelev2">&gt; &gt; Emne: Re: [CF-metadata] standards for probabilities
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Dear Vegard
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I want to express such things as &quot;25th percentile
</em><br />
<em class="quotelev2">&gt; &gt; precipitation amount&quot; (based on ensemble data), and 
</em><br />
<em class="quotelev1">&gt; probability that 
</em><br />
<em class="quotelev2">&gt; &gt; air temperature will be within 2.5 degrees of the forecast. 
</em><br />
<em class="quotelev1">&gt; How should 
</em><br />
<em class="quotelev2">&gt; &gt; I do this?
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; You are right, this case has not yet been dealt with, although the 
</em><br />
<em class="quotelev2">&gt; &gt; guidelines for construction of standard names foresee that 
</em><br />
<em class="quotelev1">&gt; needs like 
</em><br />
<em class="quotelev2">&gt; &gt; this might arise!
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; If the quantity is a precipitation_amount, it's fine to use that 
</em><br />
<em class="quotelev2">&gt; &gt; standard name. The question is how to record that is the 25th 
</em><br />
<em class="quotelev2">&gt; &gt; percentile. Two possible ways to do this would be:
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; * To extend the possible syntax of cell_methods so that it can 
</em><br />
<em class="quotelev2">&gt; &gt; describe percentiles. It is already possible to indicate a 
</em><br />
<em class="quotelev1">&gt; median in 
</em><br />
<em class="quotelev2">&gt; &gt; cell_methods, and that is a particular percentile. The advantage of 
</em><br />
<em class="quotelev2">&gt; &gt; this way of doing it would be that you would record whether the 
</em><br />
<em class="quotelev2">&gt; &gt; distribution of precipitation amounts being considered was for 
</em><br />
<em class="quotelev2">&gt; &gt; time-variation, or spatial variation, or some other kind of 
</em><br />
<em class="quotelev1">&gt; variation. 
</em><br />
<em class="quotelev2">&gt; &gt; Obviously you could have a probability distribution with 
</em><br />
<em class="quotelev1">&gt; percentiles 
</em><br />
<em class="quotelev2">&gt; &gt; for many different independent variables.
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; * To use a size-1 or scalar coordinate variable to record the 
</em><br />
<em class="quotelev2">&gt; &gt; probability, with a new standard_name, perhaps 
</em><br />
<em class="quotelev2">&gt; &gt; cumulative_distribution_function_of_precipitation_amount.
</em><br />
<em class="quotelev2">&gt; &gt; The value of this coordinate would be 0.25 for the 25th percentile. 
</em><br />
<em class="quotelev2">&gt; &gt; The advantage of this method would be that you could have several 
</em><br />
<em class="quotelev2">&gt; &gt; different percentiles in the same variable, by having a multivalued 
</em><br />
<em class="quotelev2">&gt; &gt; probability coord.
</em><br />
<em class="quotelev2">&gt; &gt; If you wanted to be specific about what the independent 
</em><br />
<em class="quotelev1">&gt; variable was, 
</em><br />
<em class="quotelev2">&gt; &gt; that would have to be included in the standard name as well e.g.
</em><br />
<em class="quotelev2">&gt; &gt; cumulative_distribution_function_of_precipitation_amount_over_time.
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; What do you think?
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Cheers
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Jonathan
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt; &gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<span id="received"><dfn>Received on</dfn> Fri Nov 18 2011 - 05:16:57 GMT</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start3921">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./3922.html" title="Next message in the list">Jonathan Gregory: "[CF-metadata] standards for probabilities"</a></li>
<li><dfn>Previous message</dfn>: <a href="./3920.html" title="Previous message in the list">Vegard B&#0248;nes: "[CF-metadata] standards for probabilities"</a></li>
<li><dfn>In reply to</dfn>: <a href="./3919.html" title="Message to which this message replies">Vegard B&#0248;nes: "[CF-metadata] standards for probabilities"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./3922.html" title="Next message in this discussion thread">Jonathan Gregory: "[CF-metadata] standards for probabilities"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg3921" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg3921" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg3921" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg3921" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:57:53 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./3920.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./3922.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
