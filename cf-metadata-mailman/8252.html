<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] axis attribute from Jonathan Gregory on 2017-04-11 (cf-metadata-mailman)</title>
<meta name="Author" content="Jonathan Gregory (j.m.gregory)" />
<meta name="Subject" content="[CF-metadata] axis attribute" />
<meta name="Date" content="2017-04-11" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./8251.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./8253.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] axis attribute</h1>
<!-- received="Tue Apr 11 08:36:08 2017" -->
<!-- isoreceived="20170411073608" -->
<!-- sent="Tue, 11 Apr 2017 15:36:08 +0100" -->
<!-- isosent="20170411143608" -->
<!-- name="Jonathan Gregory" -->
<!-- email="j.m.gregory" -->
<!-- subject="[CF-metadata] axis attribute" -->
<!-- id="20170411143608.GA15532_at_met.reading.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start8252" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./8253.html" accesskey="d" title="Little, Chris: &quot;[CF-metadata] CF-metadata Digest, Vol 168, Issue 24&quot;">Next message</a> ]
[ <a href="./8251.html" title="James Orr: &quot;[CF-metadata] New standard names for OMIP biogeochemistry and chemistry&quot;">Previous message</a> ]
<!-- unextthread="start" -->
[ <a href="./8260.html" accesskey="t" title="Jim Biard: &quot;[CF-metadata] axis attribute&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg8252" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg8252" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg8252" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg8252" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Jonathan Gregory &lt;<a href="mailto:j.m.gregory?Subject=Re%3A%20%5BCF-metadata%5D%20axis%20attribute">j.m.gregory</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 11 Apr 2017 15:36:08 +0100</span><br />
</address>
<br />
Dear David and Sebastien
<br />
<br />In a given model the level numbers are meaningful indeed, but there's no
<br />
universal convention for them. Maybe some atmosphere models number them from
<br />
the TOA downwards, for instance. Nothing would prohibit that, and the
<br />
standard_name of model_level_number doesn't prescribe any convention for it.
<br />
There is likewise no universal convention for how to number the gridboxes in
<br />
x and y, but in any given model there is a convention for it. Thus I think
<br />
it's the same. The standard name identifies a conventional concept, but not a
<br />
convention for the numbers themselves.
<br />
<br />As for the axis attribute itself, maybe we could distinguish the two meanings
<br />
of &quot;axis&quot; and avoid backwards compatibility by removing the restriction in
<br />
chapter 5 that it is not permissible for a data variable to have both a
<br />
coordinate variable and an auxiliary coordinate variable having an axis
<br />
attribute with any given value. That is, at present you can't have both a 1D
<br />
x-coordinate variable with axis=&quot;X&quot; and a 2D longitude auxiliary coordinate
<br />
variable with axis=&quot;X&quot;. But we could allow them both, with different meanings.
<br />
We could say that the axis attribute of 1D coordinate variables labels the
<br />
index dimensions of the data variable, while the axis attribute of multi-
<br />
dimensional auxiliary coordinate variables labels them as spatiotemporal
<br />
dimensions, as a hint for plotting.
<br />
<br />Best wishes
<br />
<br />Jonathan
<br />
<br />----- Forwarded message from David Hassell &lt;david.hassell at ncas.ac.uk&gt; -----
<br />
<br /><em class="quotelev1">&gt; Date: Tue, 11 Apr 2017 08:41:34 +0100
</em><br />
<em class="quotelev1">&gt; From: David Hassell &lt;david.hassell at ncas.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; To: Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; CC: CF Metadata &lt;cf-metadata at cgd.ucar.edu&gt;
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] axis attribute
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Hello all,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I am still uncomfortable with creating a coordinate variable with arbitrary
</em><br />
<em class="quotelev1">&gt; values. The analogy with model_level_number is not quite there, I think, as
</em><br />
<em class="quotelev1">&gt; the model_level_number values are not arbitrary. For example, a value of 6
</em><br />
<em class="quotelev1">&gt; means (in one model I know) that this is the first level above the boundary
</em><br />
<em class="quotelev1">&gt; layer. That value and meaning is relevant however the data may have been
</em><br />
<em class="quotelev1">&gt; subspaced/sliced.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Perhaps an auxiliary coordinate variable could be used with missing data in
</em><br />
<em class="quotelev1">&gt; all of its values, an axis attribute (of &quot;X&quot; or &quot;Y&quot;) and *no* standard
</em><br />
<em class="quotelev1">&gt; name? In the absence of a coordinate variable for that dimension, the axis
</em><br />
<em class="quotelev1">&gt; attribute of the auxiliary coordinate variable would give meaning to the
</em><br />
<em class="quotelev1">&gt; dimension.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; This is still not ideal, though ...
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; All the best,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; David
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; On 10 April 2017 at 18:25, Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; wrote:
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt; &gt; Dear S?bastien
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Yes, you're right, we can't have an axis without coordinates. This is
</em><br />
<em class="quotelev2">&gt; &gt; because
</em><br />
<em class="quotelev2">&gt; &gt; CF is a netCDF convention, and there's no way to attach attributes to a
</em><br />
<em class="quotelev2">&gt; &gt; dimension other than by creating a coordinate variable. Similarly we don't
</em><br />
<em class="quotelev2">&gt; &gt; have data variables with just dimensions but no data. We could have
</em><br />
<em class="quotelev2">&gt; &gt; conventions
</em><br />
<em class="quotelev2">&gt; &gt; for these concepts in CF-netCDF but it hasn't been proposed.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; However it seems pretty good to me to do as you suggest and create a
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variable with the gridbox indices in it, for which (as
</em><br />
<em class="quotelev2">&gt; &gt; discussed)
</em><br />
<em class="quotelev2">&gt; &gt; we could define a standard name. This is analogous to model_level_number,
</em><br />
<em class="quotelev2">&gt; &gt; which is already a standard name and could be a vertical coordinate
</em><br />
<em class="quotelev2">&gt; &gt; variable.
</em><br />
<em class="quotelev2">&gt; &gt; It can do what you want, and I agree it makes sense to label these
</em><br />
<em class="quotelev2">&gt; &gt; coordinate
</em><br />
<em class="quotelev2">&gt; &gt; variables as X and Y. That indicates that they are the horizontal
</em><br />
<em class="quotelev2">&gt; &gt; dimensions.
</em><br />
<em class="quotelev2">&gt; &gt; It's probably less important which is X and which Y. That's a plotting
</em><br />
<em class="quotelev2">&gt; &gt; issue.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; I think the confusion probably arises because we didn't define what we mean
</em><br />
<em class="quotelev2">&gt; &gt; by &quot;axis&quot;. We used the word as an &quot;obvious&quot; concept, but there is an
</em><br />
<em class="quotelev2">&gt; &gt; ambiguity
</em><br />
<em class="quotelev2">&gt; &gt; about whether it corresponds to a dimension of a data variable, or a
</em><br />
<em class="quotelev2">&gt; &gt; physical
</em><br />
<em class="quotelev2">&gt; &gt; variable (not necessarily spatiotemporal) which could be an independent
</em><br />
<em class="quotelev2">&gt; &gt; variable on which the data depends. Latitude might be an axis in the second
</em><br />
<em class="quotelev2">&gt; &gt; sense even if it's not an axis in the first sense. I prefer the first
</em><br />
<em class="quotelev2">&gt; &gt; sense,
</em><br />
<em class="quotelev2">&gt; &gt; which is the one the axis attribute originally had.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Best wishes
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Jonathan
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ----- Forwarded message from Sebastien Villaume &lt;
</em><br />
<em class="quotelev2">&gt; &gt; sebastien.villaume at ecmwf.int&gt; -----
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Date: Fri, 7 Apr 2017 09:10:09 +0000
</em><br />
<em class="quotelev3">&gt; &gt; &gt; From: Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; To: David Hassell &lt;david.hassell at ncas.ac.uk&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; CC: CF Metadata &lt;cf-metadata at cgd.ucar.edu&gt;, Jonathan Gregory
</em><br />
<em class="quotelev3">&gt; &gt; &gt;       &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Subject: Re: [CF-metadata] axis attribute
</em><br />
<em class="quotelev3">&gt; &gt; &gt; X-Mailer: Zimbra 8.6.0_GA_1200 (ZimbraWebClient - FF50
</em><br />
<em class="quotelev2">&gt; &gt; (Linux)/8.6.0_GA_1200)
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Dear David,
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I see your point and you are probably right that a plotting routine will
</em><br />
<em class="quotelev2">&gt; &gt; probably sort this out.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; However this is not what I am after, I am more interested in metadata
</em><br />
<em class="quotelev2">&gt; &gt; discovery and indexing.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I need to discover what I have in a file without plotting it, without
</em><br />
<em class="quotelev2">&gt; &gt; having a human looking at it to confirm what it is and that it has been
</em><br />
<em class="quotelev2">&gt; &gt; plotted correctly.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I also would like to use these metadata informations to perform actions
</em><br />
<em class="quotelev2">&gt; &gt; like merging netCDF files, slicing, cropping, aggregating, interpolating,
</em><br />
<em class="quotelev2">&gt; &gt; comparing data in different grids and representations, etc.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I understand that implicit is fine and that explicit is not required for
</em><br />
<em class="quotelev2">&gt; &gt; some applications. I have no issue with this.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; My personal point of view is that explicit is better than implicit: I
</em><br />
<em class="quotelev2">&gt; &gt; tend to prefer &quot;mandatory&quot; over &quot;optional&quot;.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Being implicit means that the assumptions made need to be valid 100% of
</em><br />
<em class="quotelev2">&gt; &gt; the time to avoid accidents or corner cases.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I would like to be explicit so I need all the proper mechanisms
</em><br />
<em class="quotelev2">&gt; &gt; (variables, semantics, etc.) in place so I can use them.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Right now it feels that I am missing some functionality.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Let me copy below few bits of the terminology section in the CF 1.7
</em><br />
<em class="quotelev2">&gt; &gt; draft document (very similar to 1.6). Please read it keeping in mind what
</em><br />
<em class="quotelev2">&gt; &gt; is really an axis, a coordinate, a spatio-temporal dimension and an an
</em><br />
<em class="quotelev2">&gt; &gt; array dimension. Each time you read &quot;coordinate2, &quot;dimension&quot; or
</em><br />
<em class="quotelev2">&gt; &gt; &quot;dimensional&quot;, ask yourself what is implied and if it is not ambiguous:
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; ------------------------
</em><br />
<em class="quotelev3">&gt; &gt; &gt; variables
</em><br />
<em class="quotelev3">&gt; &gt; &gt; ------------------------
</em><br />
<em class="quotelev3">&gt; &gt; &gt; auxiliary coordinate variable
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     Any netCDF variable that contains coordinate data, but is not a
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variable (in the sense of that term defined by the NUG and used
</em><br />
<em class="quotelev2">&gt; &gt; by this standard - see below). Unlike coordinate variables, there is no
</em><br />
<em class="quotelev2">&gt; &gt; relationship between the name of an auxiliary coordinate variable and the
</em><br />
<em class="quotelev2">&gt; &gt; name(s) of its dimension(s).
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; coordinate variable
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     We use this term precisely as it is defined in section 2.3.1 of the
</em><br />
<em class="quotelev2">&gt; &gt; NUG . It is a one-dimensional variable with the same name as its dimension
</em><br />
<em class="quotelev2">&gt; &gt; [e.g., time(time) ], and it is defined as a numeric data type with values
</em><br />
<em class="quotelev2">&gt; &gt; that are ordered monotonically. Missing values are not allowed in
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variables.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; grid mapping variable
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A variable used as a container for attributes that define a specific
</em><br />
<em class="quotelev2">&gt; &gt; grid mapping. The type of the variable is arbitrary since it contains no
</em><br />
<em class="quotelev2">&gt; &gt; data.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; multidimensional coordinate variable
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     An auxiliary coordinate variable that is multidimensional.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; scalar coordinate variable
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A scalar variable (i.e. one with no dimensions) that contains
</em><br />
<em class="quotelev2">&gt; &gt; coordinate data. Depending on context, it may be functionally equivalent
</em><br />
<em class="quotelev2">&gt; &gt; either to a size-one coordinate variable (Section 5.7, &quot;Scalar Coordinate
</em><br />
<em class="quotelev2">&gt; &gt; Variables&quot;) or to a size-one auxiliary coordinate variable (Section 6.1,
</em><br />
<em class="quotelev2">&gt; &gt; &quot;Labels&quot; and Section 9.2, &quot;Collections, instances, and elements&quot;).
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; ------------------------
</em><br />
<em class="quotelev3">&gt; &gt; &gt; dimensions
</em><br />
<em class="quotelev3">&gt; &gt; &gt; ------------------------
</em><br />
<em class="quotelev3">&gt; &gt; &gt; latitude dimension
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A dimension of a netCDF variable that has an associated latitude
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variable.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; longitude dimension
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A dimension of a netCDF variable that has an associated longitude
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variable.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; spatiotemporal dimension
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A dimension of a netCDF variable that is used to identify a location
</em><br />
<em class="quotelev2">&gt; &gt; in time and/or space.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; time dimension
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A dimension of a netCDF variable that has an associated time
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variable.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; vertical dimension
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     A dimension of a netCDF variable that has an associated vertical
</em><br />
<em class="quotelev2">&gt; &gt; coordinate variable.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; ------------------------
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; So according to this terminology, I have in my file, 2 auxiliary
</em><br />
<em class="quotelev2">&gt; &gt; coordinates variables, but no &quot;real&quot; coordinates variables (according to
</em><br />
<em class="quotelev2">&gt; &gt; the NUG) so my auxiliary coordinates are auxiliary to what?
</em><br />
<em class="quotelev3">&gt; &gt; &gt; What is a &quot;multidimensional coordinate&quot;? if dimension means
</em><br />
<em class="quotelev2">&gt; &gt; spatio-temporal dimension it is a non sense because a coordinate can only
</em><br />
<em class="quotelev2">&gt; &gt; reference 1 spatio-temporal dimension, if it is meant to be
</em><br />
<em class="quotelev2">&gt; &gt; array-dimensions it is not clear...
</em><br />
<em class="quotelev3">&gt; &gt; &gt; What are my 2D array latitude and longitude then? are they latitude and
</em><br />
<em class="quotelev2">&gt; &gt; longitude dimension defined in the terminology? not really.... because
</em><br />
<em class="quotelev2">&gt; &gt; there are no such things as latitude and longitude dimension: you can
</em><br />
<em class="quotelev2">&gt; &gt; define latitude and longitude coordinates, associated with 2 axis that
</em><br />
<em class="quotelev2">&gt; &gt; themselves define 2 spatial dimensions... but the coordinates can be
</em><br />
<em class="quotelev2">&gt; &gt; defined in whatever n-D array.
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I like the definition of &quot;grid mapping variable&quot;, I could use a similar
</em><br />
<em class="quotelev2">&gt; &gt; variable to be a container for attributes for my &quot;axis variable&quot; with no
</em><br />
<em class="quotelev2">&gt; &gt; data!
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I know that in the day-to-day life and discussions we don't make the
</em><br />
<em class="quotelev2">&gt; &gt; effort to be precise (I don't) and that it is easy to overload the meaning
</em><br />
<em class="quotelev2">&gt; &gt; of things but I think that the CF document needs to be very precise, non
</em><br />
<em class="quotelev2">&gt; &gt; ambiguous and can not mix axes, coordinates, spatio-temporal and array
</em><br />
<em class="quotelev2">&gt; &gt; dimensions.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; /S?bastien
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev3">&gt; &gt; &gt; From: &quot;David Hassell&quot; &lt;david.hassell at ncas.ac.uk&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; To: &quot;Sebastien Villaume&quot; &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Cc: &quot;CF Metadata&quot; &lt;cf-metadata at cgd.ucar.edu&gt;, &quot;Jonathan Gregory&quot; &lt;
</em><br />
<em class="quotelev2">&gt; &gt; j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Sent: Friday, 7 April, 2017 08:37:20
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Subject: Re: [CF-metadata] axis attribute
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Dear S?bastien,
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Please bear with me when I ask to right back to the beginning! I am not
</em><br />
<em class="quotelev3">&gt; &gt; &gt; sure what the benefit is in labelling the dimensions as X or Y. In the
</em><br />
<em class="quotelev3">&gt; &gt; &gt; original tripolar case we have:
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; dimensions:
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     i = 96 ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     j = 73 ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; variables:
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     float latitude(j, i) ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;         latitude:units = &quot;degrees_north&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     float longitude(j, i) ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;         longitude:units = &quot;degrees_east&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;     float sit(j, i) ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;         sit:units = &quot;m&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;         sit:standard_name = &quot;sea_ice_thickness&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;         sit:coordinates = &quot;latitude longitude&quot; ;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; There is nothing stopping anything from seeing that this is 2-d array of
</em><br />
<em class="quotelev3">&gt; &gt; &gt; size i*j, and there is nothing stopping software subpacing the data by i
</em><br />
<em class="quotelev3">&gt; &gt; &gt; and j indices.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; I don't think a plotting routine would benefit from knowing that the i
</em><br />
<em class="quotelev3">&gt; &gt; &gt; dimension was &quot;X&quot;, because there are no 1-d coordinates it can use along
</em><br />
<em class="quotelev3">&gt; &gt; &gt; that dimension.
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Many thanks and all the best,
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; David
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; On 6 April 2017 at 22:45, Sebastien Villaume &lt;
</em><br />
<em class="quotelev2">&gt; &gt; sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; wrote:
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Dear Mark and Jonathan,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; thank you for your comments.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; _at_Mark:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the short answer: you can put in principle whatever you want in that
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; variable because in this case it is a dummy variable only there to
</em><br />
<em class="quotelev2">&gt; &gt; hold the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; axis attribute. But please read the long explanation!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the long, boring explanation:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; As I understand it, the CF convention does not recognize axis as a
</em><br />
<em class="quotelev2">&gt; &gt; valid
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; object on its own like for &quot;dimensions&quot; and the various type of
</em><br />
<em class="quotelev2">&gt; &gt; &quot;variables&quot;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; and the convention seems to make it mandatory to attach to it a
</em><br />
<em class="quotelev2">&gt; &gt; variable
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; that becomes a &quot;coordinate&quot; variable. Note that I say that it is the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; coordinate variable that is attached to the axis and not the opposite.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; From a mathematical point of view, it is perfectly possible to define
</em><br />
<em class="quotelev2">&gt; &gt; an
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; axis without a coordinate on it (arguably it is not that useful). The
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; common case is that a 1-D array defines positions on that axis (the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; coordinate). Then your 1-D data points are positioned with the help of
</em><br />
<em class="quotelev2">&gt; &gt; the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; coordinate, itself attached to the axis.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; If you have one more axis, you can define a new coordinate on it. This
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; creates a 2-D space. Now you have the choice on how you represent your
</em><br />
<em class="quotelev2">&gt; &gt; 2-D
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; data points:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; if the dataset is totally irregular you will have a 1-D array of &quot;n&quot;
</em><br />
<em class="quotelev2">&gt; &gt; data
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; points associated with a 1-D array of &quot;n&quot; positions for the first
</em><br />
<em class="quotelev2">&gt; &gt; dimension
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; and a 1-D array of &quot;n&quot; positions for the second dimension. It works,
</em><br />
<em class="quotelev2">&gt; &gt; it is
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; still a 2-D dataset stored in a long one dimensional vector.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Imagine that you realize that your dataset is not as irregular as you
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; thought, it is in fact a regular grid! you identify that you only have
</em><br />
<em class="quotelev2">&gt; &gt; i
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; possible values of the first coordinate and j possible values for the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; second coordinate, you also notice that i*j=n. Great you can now
</em><br />
<em class="quotelev2">&gt; &gt; represent
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; your dataset with 2 coordinates of length i and j respectively, each of
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; them associated with 2 axes x and y and your data is now a 2-D array of
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; size (i,j). you can position your data using the coordinates, it is
</em><br />
<em class="quotelev2">&gt; &gt; mapped
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; using the indices within each coordinate array. Now you have a 2-D
</em><br />
<em class="quotelev2">&gt; &gt; spatial
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; dataset sored in a 2-D array with 2 supporting 1-D spatial coordinates
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; stored in one dimensional vectors.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Lets say now that you take this regular grid and you distort it... your
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; regular grid is gone you can no longer use i and j for partitioning!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; really? well no, nobody says that you can not slice your &quot;n&quot; long
</em><br />
<em class="quotelev2">&gt; &gt; vectors
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; into i*j arrays! you could choose whatever you want for i and j as
</em><br />
<em class="quotelev2">&gt; &gt; long as
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; i*j=n. Of course if you choose (2)*(n/2) or (n/2)*(2), it is a bit
</em><br />
<em class="quotelev2">&gt; &gt; useless,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; but you can also choose meaningful i and j because even if your grid
</em><br />
<em class="quotelev2">&gt; &gt; became
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; irregular, it is not random points, it is still a grid of size i*j .
</em><br />
<em class="quotelev2">&gt; &gt; This
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; is exactly my use case! And in that situation your coordinates can be
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; arranged in arrays of size i*j. What I need is 2 axes and 2
</em><br />
<em class="quotelev2">&gt; &gt; coordinates of
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; dimension 2 with lengths i and j. The catch here is that I have 2-D
</em><br />
<em class="quotelev2">&gt; &gt; arrays
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; to store one &quot;spatial&quot; dimension! It is another case of overlapped
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; concepts, dimension is used transparently for the dimension of arrays,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; dimension of the geometrical space, and sometimes for the size of one
</em><br />
<em class="quotelev2">&gt; &gt; of
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the dimensions of an array!!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Anyway, I should be able to define my axes like this:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; int x;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     x:axis = &quot;X&quot;;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     x:standard_name = &quot;x_axis&quot; ; // no standard name exists...
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     x:units = &quot;1&quot; ; // no units, it will come with the coordinate
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; int y;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:axis = &quot;Y&quot;;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:standard_name = &quot;y_axis&quot; ; // no standard name exists...
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:units = &quot;1&quot; ; // no units, it will come with the coordinate
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; float longitude(j,i);
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     longitude:standard_name = &quot;longitude&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     longitude:units = &quot;degrees&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     longitude:positive = &quot;east&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     longitude:long_name = &quot;longitude&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     longitude:axis_mapping = &quot;X&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; float latitude(j,i);
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     latitude:standard_name = &quot;latitude&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     latitude:units = &quot;degrees&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     latitude:positive = &quot;north&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     latitude:long_name = &quot;latitude&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     latitude:axis_mapping = &quot;Y&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; float sit(j, i) ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     sit:units = &quot;m&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     sit:standard_name = &quot;sea_ice_thickness&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     sit:long_name = &quot;Ice thickness&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     sit:coordinates = &quot;latitude longitude&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; several comments:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; notice how one could tell on which axis the coordinate should go using
</em><br />
<em class="quotelev2">&gt; &gt; for
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; instance a &quot;axis_mapping&quot; attribute. Not a &quot;coordinate&quot; attribute,
</em><br />
<em class="quotelev2">&gt; &gt; this one
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; should be used to tell the coordinates of my data variable!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; I find this approach clearer and more flexible as it can probably cater
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; for any situation of axes, coordinates, etc.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; But because in CF one cannot create bare axis, I follow the rules and
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; creates:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; double x(i);
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     x:axis = &quot;X&quot;;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     x:standard_name = &quot;...&quot; ; // not an axis anymore, give me a
</em><br />
<em class="quotelev2">&gt; &gt; standard
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; name
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     x:units = &quot;1&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:long_name = &quot;i-index of mesh grid&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; double y(j);
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:axis = &quot;Y&quot;;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:standard_name = &quot;...&quot; ; // not an axis anymore, give me a
</em><br />
<em class="quotelev2">&gt; &gt; standard
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; name
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:units = &quot;1&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;     y:long_name = &quot;j-index of mesh grid&quot; ;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; and I have the choice of what I put in those arrays since it is somehow
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; artificial.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; I could populate the &quot;primary&quot; coordinates with 1 to i and 1 to j which
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; would represent the indices and if I subset the grid, I then retain the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; information that the domain has been cropped because the indices left
</em><br />
<em class="quotelev2">&gt; &gt; will
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; not be 1 to i/j but n to m.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; I don' t really like this but what can I do?
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; If we follow this idea, it means introducing a clear concept from
</em><br />
<em class="quotelev2">&gt; &gt; &quot;axis&quot;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; besides the other types of variables, defining new attribute to
</em><br />
<em class="quotelev2">&gt; &gt; &quot;attach&quot;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; coordinates to axes, etc.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Another solution, much less disturbing, would be to heavily modify the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; proper chapters in the CF document to:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; - completely decouple the concepts of &quot;axis&quot; and &quot;coordinate&quot;: a
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; coordinate is not an axis and vice versa.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; - completely decouple the concepts of spatio temporal dimension from
</em><br />
<em class="quotelev2">&gt; &gt; array
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; dimension from the size the array dimension
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; - continue to use the &quot;axis&quot; attribute  but on n-D array coordinates:
</em><br />
<em class="quotelev2">&gt; &gt; the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; array has n-D dimensions but the coordinate map to 1 axis/spatial
</em><br />
<em class="quotelev2">&gt; &gt; dimension
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; only!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; - Whatever the dimensions of the array for the coordinate, all the
</em><br />
<em class="quotelev2">&gt; &gt; values
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; contained in the array must be mapped on one given axis, the one
</em><br />
<em class="quotelev2">&gt; &gt; defined in
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; axis attribute. For instance, a 2-D latitude only contains values that
</em><br />
<em class="quotelev2">&gt; &gt; are
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; latitudes and will only map on one axis.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; - In principle one could have in the same file several coordinates of
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; possibly different &quot;array&quot; dimensions, different sizes and different
</em><br />
<em class="quotelev2">&gt; &gt; units
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; defined for one axis. This means that the attribute &quot;axis=z&quot; for
</em><br />
<em class="quotelev2">&gt; &gt; instance
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; can appears more than once in the file. The only restriction I see is
</em><br />
<em class="quotelev2">&gt; &gt; that
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; 2 data variables can be only plotted simultaneously if all their
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; coordinates share the same units (the coordinate mapped on one axis of
</em><br />
<em class="quotelev2">&gt; &gt; the
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; first data variable must have the same units than the coordinate
</em><br />
<em class="quotelev2">&gt; &gt; mapped on
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the same axis for the other data variable). This allow 2 data variables
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; defined on two different grid sharing the same units to be in the same
</em><br />
<em class="quotelev2">&gt; &gt; file
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; and plotted together.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; - X and Y should be clearly decoupled from longitude and latitude. X
</em><br />
<em class="quotelev2">&gt; &gt; and Y
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; are the axes, longitude and latitude are the coordinates!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; _at_Jonathan:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; I think the whole confusion here comes from the overlapping of
</em><br />
<em class="quotelev2">&gt; &gt; concepts:
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; axes and coordinates on one hand and dimension of arrays and spatial
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; dimensions on the other hand. If the relevant chapters are rewritten
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; carefully to separate axes from coordinates and array dimensions from
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; spatio-temporal dimensions we are good.  think
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; _at_all: Reading more through the Trac tickets system, I noticed the nice
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Trac ticket 117 about &quot;multiple&quot; time axis. This is a nice example of
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; mixing axes, coordinates, dimensions of arrays, the time dimension,
</em><br />
<em class="quotelev2">&gt; &gt; etc!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; /S?bastien
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; From: &quot;Jonathan Gregory&quot; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Sent: Thursday, 6 April, 2017 16:49:56
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Subject: Re: [CF-metadata] axis attribute
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Dear Jim and Sebastien
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; The original intention of axis was to label the independent variables
</em><br />
<em class="quotelev2">&gt; &gt; as 1D
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; xyzt axes of the data variables.  This can be deduced from other
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; attributes,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; but it's more effort. It's partly a plotting hint, but also it's
</em><br />
<em class="quotelev2">&gt; &gt; because
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; you
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; might reasonable want to tell software, &quot;give me the z-axis
</em><br />
<em class="quotelev2">&gt; &gt; coordinates&quot;,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; or
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; &quot;calculate a mean over the x-direction&quot;. The latter is often a zonal
</em><br />
<em class="quotelev2">&gt; &gt; mean,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; but
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; it isn't with a rotated-pole or tripolar grid, yet the operation is
</em><br />
<em class="quotelev2">&gt; &gt; still
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; performed sometimes.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; It's useful that you've pointed out the confusion of purpose. If it
</em><br />
<em class="quotelev2">&gt; &gt; were
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; regarded as an acceptable backwards-incompatibility, which I'm nervous
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; about,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; I'd be happy if we returned &quot;axis&quot; to its original purpose of
</em><br />
<em class="quotelev2">&gt; &gt; identifying
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; 1D
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; axes, and also for scalar coordinate variables (which are equivalent to
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; axes
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; of size one), and provided another attribute to label aux coords as
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; horizontal.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; I agree that if we have 1D x and y, with 2D lat and lon, the 1D
</em><br />
<em class="quotelev2">&gt; &gt; variables
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; are
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the axes. That's consistent with the original purpose of the axis
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; attribute.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt; &gt; I also find the units of latitude and longitude confusing: it looks
</em><br />
<em class="quotelev2">&gt; &gt; like
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; it was a way to squeeze the direction of the coordinate inside the
</em><br />
<em class="quotelev2">&gt; &gt; units. I
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; have the same observation for the time coordinate that has its origin
</em><br />
<em class="quotelev2">&gt; &gt; in
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; the units!
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; This convention was kept in CF for backwards-compatibility with
</em><br />
<em class="quotelev2">&gt; &gt; COARDS. CF
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; does
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; not use units in any other case to identify the quantity or sense.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev1">&gt; &gt; &gt; &gt; &gt; It was done correctly for z coordinate using &quot;units&quot; and &quot;positive&quot;,
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; probably because there are many types of z coordinates with various
</em><br />
<em class="quotelev2">&gt; &gt; origin
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; and directions, and no real consensus. I note however that often the
</em><br />
<em class="quotelev2">&gt; &gt; origin
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; is not always clearly defined.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; The positive attribute was also kept for backwards-compatibility with
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; COARDS.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; It has the advantage of being useful to identify the vertical axis, but
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; this
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; can also be done with axis=&quot;Z&quot;. CF standard names provide information
</em><br />
<em class="quotelev2">&gt; &gt; which
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; indicates the sign convention.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; If coordinate_index is confusing, I think standard_names containing
</em><br />
<em class="quotelev2">&gt; &gt; x_index
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; or y_index would be OK, provided we change the existing standard names
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;   magnitude_of_derivative_of_position_wrt_x_coordinate_index
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;   magnitude_of_derivative_of_position_wrt_y_coordinate_index
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; to remove &quot;_coordinate&quot;.
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Best wishes
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; Jonathan
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; _______________________________________________
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; _______________________________________________
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev4">&gt; &gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt;
</em><br />
<em class="quotelev3">&gt; &gt; &gt; --
</em><br />
<em class="quotelev3">&gt; &gt; &gt; David Hassell
</em><br />
<em class="quotelev3">&gt; &gt; &gt; National Centre for Atmospheric Science
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Department of Meteorology, University of Reading,
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Earley Gate, PO Box 243, Reading RG6 6BB
</em><br />
<em class="quotelev3">&gt; &gt; &gt; Tel: +44 118 378 5613
</em><br />
<em class="quotelev3">&gt; &gt; &gt; <a href="http://www.met.reading.ac.uk/">http://www.met.reading.ac.uk/</a>
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; ----- End forwarded message -----
</em><br />
<em class="quotelev2">&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; -- 
</em><br />
<em class="quotelev1">&gt; David Hassell
</em><br />
<em class="quotelev1">&gt; National Centre for Atmospheric Science
</em><br />
<em class="quotelev1">&gt; Department of Meteorology, University of Reading,
</em><br />
<em class="quotelev1">&gt; Earley Gate, PO Box 243, Reading RG6 6BB
</em><br />
<em class="quotelev1">&gt; Tel: +44 118 378 5613
</em><br />
<em class="quotelev1">&gt; <a href="http://www.met.reading.ac.uk/">http://www.met.reading.ac.uk/</a>
</em><br />
<br />----- End forwarded message -----
<br />
<span id="received"><dfn>Received on</dfn> Tue Apr 11 2017 - 08:36:08 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start8252">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./8253.html" title="Next message in the list">Little, Chris: "[CF-metadata] CF-metadata Digest, Vol 168, Issue 24"</a></li>
<li><dfn>Previous message</dfn>: <a href="./8251.html" title="Previous message in the list">James Orr: "[CF-metadata] New standard names for OMIP biogeochemistry and chemistry"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./8260.html" title="Next message in this discussion thread">Jim Biard: "[CF-metadata] axis attribute"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./8260.html" title="Message sent in reply to this message">Jim Biard: "[CF-metadata] axis attribute"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg8252" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg8252" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg8252" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg8252" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:13 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./8251.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./8253.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
