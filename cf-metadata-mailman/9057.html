<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity from Alison Pamment - UKRI STFC on 2018-05-24 (cf-metadata-mailman)</title>
<meta name="Author" content="Alison Pamment - UKRI STFC (alison.pamment)" />
<meta name="Subject" content="[CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity" />
<meta name="Date" content="2018-05-24" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./9056.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./9058.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity</h1>
<!-- received="Thu May 24 09:22:25 2018" -->
<!-- isoreceived="20180524082225" -->
<!-- sent="Thu, 24 May 2018 15:22:25 +0000" -->
<!-- isosent="20180524152225" -->
<!-- name="Alison Pamment - UKRI STFC" -->
<!-- email="alison.pamment" -->
<!-- subject="[CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity" -->
<!-- id="17867f78a3f54deda2607ded9f5db765_at_stfc.ac.uk" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="305716818.9262452.1526648525595.JavaMail.zimbra_at_ecmwf.int" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start9057" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./9058.html" accesskey="d" title="Hamilton, Steve: &quot;[CF-metadata] Platform Heave&quot;">Next message</a> ]
[ <a href="./9056.html" title="Martin Juckes - UKRI STFC: &quot;[CF-metadata] PMIP: standard names for the CMIP6 data request: tws, lighning flashes, wetland emissions, etc&quot;">Previous message</a> ]
[ <a href="./9036.html" title="Sebastien Villaume: &quot;[CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg9057" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg9057" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg9057" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg9057" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Alison Pamment - UKRI STFC &lt;<a href="mailto:alison.pamment?Subject=Re%3A%20%5BCF-metadata%5D%20use%20of%20integral_wrt_depth_of_sea_water_practical_salinity">alison.pamment</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Thu, 24 May 2018 15:22:25 +0000</span><br />
</address>
<br />
Dear Sebastien,
<br />
<br />I'd like to confirm that the definitions of all the integral_wrt_depth and integral_wrt_height names were updated last week in accordance with the discussion in this thread (see version 52 of the standard name table) so please do go ahead and use this approach for (not) specifying the bounds! As Jonathan pointed out, it wasn't necessary to update all the integral_wrt_time names, so only 11 names were actually affected in the end.
<br />
<br />Best wishes,
<br />
Alison
<br />
<br />------
<br />
Alison Pamment                                 Tel: +44 1235 778065
<br />
NCAS/Centre for Environmental Data Archival    Email: alison.pamment at stfc.ac.uk
<br />
STFC Rutherford Appleton Laboratory     
<br />
R25, 2.22
<br />
Harwell Oxford, Didcot, OX11 0QX, U.K.
<br />
<br />-----Original Message-----
<br />
From: Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt; 
<br />
Sent: 18 May 2018 14:02
<br />
To: Pamment, Alison (STFC,RAL,RALSP) &lt;alison.pamment at stfc.ac.uk&gt;
<br />
Cc: cf-metadata at cgd.ucar.edu
<br />
Subject: Re: [CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity
<br />
<br />Dear Alison,
<br />
<br />sorry for the late reply, I have been very busy with other activities.
<br />
<br /><em class="quotelev1"> &gt; If we take this approach then Sebastien could use the existing
</em><br />
<em class="quotelev1">&gt; integral_wrt_depth_of_sea_water_practical_salinity name and it would 
</em><br />
<em class="quotelev1">&gt; cover all use cases. Do others agree? If so, then I will modify the 
</em><br />
<em class="quotelev1">&gt; definitions of all
</em><br />
<em class="quotelev1">&gt; 387 existing integral names in the next update. This will create some 
</em><br />
<em class="quotelev1">&gt; housekeeping work for the standard name table, but it avoids the need 
</em><br />
<em class="quotelev1">&gt; to modify the conventions which would be necessary for some of the 
</em><br />
<em class="quotelev1">&gt; other ideas that have been discussed in this thread.
</em><br />
<br />I am happy with this simple and straightforward approach although I would have favoured a more clear and generic way to specify these bounds.
<br />
<br />If everyone else is happy with this and if all the integral_wrt_X_of_Y standard names are updated accordingly, I will then encode my &quot;surface to sea floor&quot; bounds by not specifying the bounds! 
<br />
<br />thanks a lot!
<br />
<br />/S?bastien
<br />
<br />----- Original Message -----
<br />
<em class="quotelev1">&gt; From: &quot;Alison Pamment - UKRI STFC&quot; &lt;alison.pamment at stfc.ac.uk&gt;
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu, &quot;Sebastien Villaume 
</em><br />
<em class="quotelev1">&gt; (sebastien.villaume at ecmwf.int)&quot; &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev1">&gt; Sent: Friday, 27 April, 2018 08:14:04
</em><br />
<em class="quotelev1">&gt; Subject: RE: [CF-metadata] use of 
</em><br />
<em class="quotelev1">&gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<br /><em class="quotelev1">&gt; Dear Sebastien, All,
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; I have just been reading through this thread and it raises some 
</em><br />
<em class="quotelev1">&gt; interesting points.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; When I made my original comments back in 2016 (that 
</em><br />
<em class="quotelev1">&gt; ocean_integral_wrt_depth_of_sea_water_practical_salinity (i.e. 
</em><br />
<em class="quotelev1">&gt; integral over the whole depth from sea floor to surface) is a special 
</em><br />
<em class="quotelev1">&gt; case of
</em><br />
<em class="quotelev1">&gt; integral_wrt_depth_of_sea_water_practical_salinity) I don't think I 
</em><br />
<em class="quotelev1">&gt; had fully thought through how one would go about specifying the limits 
</em><br />
<em class="quotelev1">&gt; for the full depth case.  I see now that we don't really have an 
</em><br />
<em class="quotelev1">&gt; agreed mechanism for doing this, although a number of ideas have been 
</em><br />
<em class="quotelev1">&gt; put forward. I agree with Martin's comment that one would expect to 
</em><br />
<em class="quotelev1">&gt; look at the coordinates and coordinate bounds for the limits of an 
</em><br />
<em class="quotelev1">&gt; integral - certainly that's what we do for cases where the limits 
</em><br />
<em class="quotelev1">&gt; define a layer and I think it's preferable  to treat the full depth case similarly.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jonathan suggested making the existing 
</em><br />
<em class="quotelev1">&gt; in_atmosphere_layer/in_ocean_layer names aliases of the full depth 
</em><br />
<em class="quotelev1">&gt; atmosphere/ocean names and stating in the definition that if 
</em><br />
<em class="quotelev1">&gt; coordinate bounds are not specified it means the entire vertical 
</em><br />
<em class="quotelev1">&gt; extent of the atmosphere/ocean. The question that Sebastien has raised 
</em><br />
<em class="quotelev1">&gt; is concerned specifically with how to state the limits on the 
</em><br />
<em class="quotelev1">&gt; integral_wrt_Y_of_X names and I do think we can solve the problem by 
</em><br />
<em class="quotelev1">&gt; modifying the definitions along the lines Jonathan suggests. Currently 
</em><br />
<em class="quotelev1">&gt; the definitions all say 'The phrase &quot;integral_wrt_X_of_Y&quot; means int Y 
</em><br />
<em class="quotelev1">&gt; dX. The data variable should have an axis for X specifying the limits 
</em><br />
<em class="quotelev1">&gt; of the integral as bounds.' We could modify this to read 'The phrase 
</em><br />
<em class="quotelev1">&gt; &quot;integral_wrt_X_of_Y&quot; means int Y dX. To specify the limits of the 
</em><br />
<em class="quotelev1">&gt; integral the data variable should have an axis for X and associated 
</em><br />
<em class="quotelev1">&gt; coordinate bounds. If no axis for X is associated with the data 
</em><br />
<em class="quotelev1">&gt; variable, or no coordinate bounds are specified, it is assumed that the integral is calculated over the entire vertical extent of the medium, e.g, if the medium is air the integral is assumed to be calculated over the full depth of the atmosphere.'
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; If we take this approach then Sebastien could use the existing 
</em><br />
<em class="quotelev1">&gt; integral_wrt_depth_of_sea_water_practical_salinity name and it would 
</em><br />
<em class="quotelev1">&gt; cover all use cases. Do others agree? If so, then I will modify the 
</em><br />
<em class="quotelev1">&gt; definitions of all
</em><br />
<em class="quotelev1">&gt; 387 existing integral names in the next update. This will create some 
</em><br />
<em class="quotelev1">&gt; housekeeping work for the standard name table, but it avoids the need 
</em><br />
<em class="quotelev1">&gt; to modify the conventions which would be necessary for some of the 
</em><br />
<em class="quotelev1">&gt; other ideas that have been discussed in this thread.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; As to whether we should make layer names into aliases, e.g.
</em><br />
<em class="quotelev1">&gt; mass_content_of_cloud_ice_in_atmosphere_layer becoming an alias of 
</em><br />
<em class="quotelev1">&gt; atmosphere_mass_content_of_cloud_ice, we could certainly do this by 
</em><br />
<em class="quotelev1">&gt; taking a similar approach regarding  bounds in the definitions, but 
</em><br />
<em class="quotelev1">&gt; strictly speaking, it's not necessary to do this to address 
</em><br />
<em class="quotelev1">&gt; Sebastien's question. Also, if we are trying to be completely 
</em><br />
<em class="quotelev1">&gt; consistent about integrals and layers, it raises the question of 
</em><br />
<em class="quotelev1">&gt; whether atmosphere_mass_content, atmosphere_mole_content, etc, names 
</em><br />
<em class="quotelev1">&gt; should all be changed to integral names. For example, should both the 
</em><br />
<em class="quotelev1">&gt; existing mass_content_of_cloud_ice names be turned into aliases of a 
</em><br />
<em class="quotelev1">&gt; new name integral_wrt_height_of_mass_of_cloud_ice_in_air? Personally, 
</em><br />
<em class="quotelev1">&gt; I don't feel it would make the names any clearer so I'm not keen on 
</em><br />
<em class="quotelev1">&gt; following that idea. I think it's preferable to stick with fixing the integral definitions to cope with all bounds possibilities.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Best wishes,
</em><br />
<em class="quotelev1">&gt; Alison
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ------
</em><br />
<em class="quotelev1">&gt; Alison Pamment                                 Tel: +44 1235 778065
</em><br />
<em class="quotelev1">&gt; NCAS/Centre for Environmental Data Archival    Email: alison.pamment at stfc.ac.uk
</em><br />
<em class="quotelev1">&gt; STFC Rutherford Appleton Laboratory
</em><br />
<em class="quotelev1">&gt; R25, 2.22
</em><br />
<em class="quotelev1">&gt; Harwell Oxford, Didcot, OX11 0QX, U.K.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; -----Original Message-----
</em><br />
<em class="quotelev1">&gt; From: CF-metadata [mailto:cf-metadata-bounces at cgd.ucar.edu] On Behalf 
</em><br />
<em class="quotelev1">&gt; Of Jonathan Gregory
</em><br />
<em class="quotelev1">&gt; Sent: 16 April 2018 19:53
</em><br />
<em class="quotelev1">&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; Subject: Re: [CF-metadata] use of
</em><br />
<em class="quotelev1">&gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Dear Sebastien et al.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; It's allowed to put &quot;depth: mean&quot; in cell_methods even if there is no 
</em><br />
<em class="quotelev1">&gt; depth coordinate variable (and no bounds). This is described in sect 
</em><br />
<em class="quotelev1">&gt; 7.3.4 of the convention. It's allowed by the &quot;first&quot; case described 
</em><br />
<em class="quotelev1">&gt; there, because depth is a standard name. We could suit your case 
</em><br />
<em class="quotelev1">&gt; better if we explicitly allowed the &quot;second&quot; case of 7.3.4 to apply to 
</em><br />
<em class="quotelev1">&gt; the vertical coordinate, meaning the range over the complete vertical extent where the quantity is defined i.e.
</em><br />
<em class="quotelev1">&gt; from the sea surface to the sea floor for an ocean quantity. Would 
</em><br />
<em class="quotelev1">&gt; this be a good solution?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Since some more general issues have been raised, I'd like to comment on them.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; First, there are a number of pairs of standard names, where one of the 
</em><br />
<em class="quotelev1">&gt; pair is for the whole vertical extent of the atmosphere or the ocean, 
</em><br />
<em class="quotelev1">&gt; and the other is for a layer within it e.g.
</em><br />
<em class="quotelev1">&gt;  atmosphere_mass_content_of_cloud_ice
</em><br />
<em class="quotelev1">&gt;  mass_content_of_cloud_ice_in_atmosphere_layer
</em><br />
<em class="quotelev1">&gt; This is my fault or choice, I believe, but from a *long* time ago - 
</em><br />
<em class="quotelev1">&gt; almost 20 years ago. I've often thought that maybe this was a mistake, 
</em><br />
<em class="quotelev1">&gt; because it is the sort of distinction which could be made by bounds, 
</em><br />
<em class="quotelev1">&gt; and perhaps this present discussion indicates that we should change 
</em><br />
<em class="quotelev1">&gt; it. One possibility would to make the in_atmosphere/ocean_layer 
</em><br />
<em class="quotelev1">&gt; aliases of the atmosphere/ocean_ names, and say in the definition that 
</em><br />
<em class="quotelev1">&gt; if coordinate bounds are not specified it means the entire vertical 
</em><br />
<em class="quotelev1">&gt; extent of the atmosphere/ocean. That is, the distinction would rely on the presence of bounds. Would this be good?
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Second, Sebastien comments that, &quot;Many standard names make reference 
</em><br />
<em class="quotelev1">&gt; to time, space, post-processing.&quot; Actually I do not think that is 
</em><br />
<em class="quotelev1">&gt; true. As you say, the description of the processing belongs in the 
</em><br />
<em class="quotelev1">&gt; cell_methods. That is why we don't have standard_names for daily 
</em><br />
<em class="quotelev1">&gt; maximum and daily mean air temperature, for example, although they are 
</em><br />
<em class="quotelev1">&gt; common concepts. However, it does depend what you regard as 
</em><br />
<em class="quotelev1">&gt; &quot;post-processing&quot;. The integral_wrt_X_of_Y is regarded by the standard 
</em><br />
<em class="quotelev1">&gt; name guidelines as a &quot;transformation&quot;, which derives one quantity from 
</em><br />
<em class="quotelev1">&gt; one or more other quantities, and not as post-processing. In this case 
</em><br />
<em class="quotelev1">&gt; in CF terms it is clear that the new quantity is different from the 
</em><br />
<em class="quotelev1">&gt; old one, because the units of the new one are the product of the units 
</em><br />
<em class="quotelev1">&gt; of X and Y, whereas the units of a quantity which has been post-processed by cell_methods can depend only on the units it originally had.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Third, there have been many discussions about whether to allow lots 
</em><br />
<em class="quotelev1">&gt; more names of a certain kind (as we did in the case of the isotopes 
</em><br />
<em class="quotelev1">&gt; recently, and as for chemical species) or whether instead to factorise 
</em><br />
<em class="quotelev1">&gt; a new distinction into a coordinate variable (as Roy is proposing for 
</em><br />
<em class="quotelev1">&gt; the biological taxa, and as for area types and region names). We 
</em><br />
<em class="quotelev1">&gt; always consider this choice carefully! I think there are good 
</em><br />
<em class="quotelev1">&gt; arguments for having most of the non-numeric metadata in the standard 
</em><br />
<em class="quotelev1">&gt; name - see www.met.reading.ac.uk/~jonathan/CF_metadata/14.1/#direction
</em><br />
<em class="quotelev1">&gt; for my reasons.
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Best wishes
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; Jonathan
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- Forwarded message from Sebastien Villaume 
</em><br />
<em class="quotelev1">&gt; &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev1">&gt; -----
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; Date: Mon, 16 Apr 2018 16:05:16 +0000 (GMT-00:00)
</em><br />
<em class="quotelev2">&gt;&gt; From: Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev2">&gt;&gt; To: Martin Juckes - UKRI STFC &lt;martin.juckes at stfc.ac.uk&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Cc: Karl Taylor &lt;taylor13 at llnl.gov&gt;, cf-metadata at cgd.ucar.edu, 
</em><br />
<em class="quotelev2">&gt;&gt; Jonathan Gregory &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev2">&gt;&gt; Subject: Re: use of 
</em><br />
<em class="quotelev2">&gt;&gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev2">&gt;&gt; X-Mailer: Zimbra 8.6.0_GA_1200 (ZimbraWebClient - FF57
</em><br />
<em class="quotelev2">&gt;&gt; (Linux)/8.6.0_GA_1200)
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; Hi Martin,
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; This is interesting because it makes me realize that I am not the 
</em><br />
<em class="quotelev2">&gt;&gt; only one facing these issues with &quot;special&quot; bounds that are function 
</em><br />
<em class="quotelev2">&gt;&gt; of other variables...
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; I like the idea of &quot;pseudo-controlled&quot; cell_method construction but 
</em><br />
<em class="quotelev2">&gt;&gt; in my case I would require something like:
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; cell_method = &quot;depth: integral from X to Y (where Z)&quot;
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; with X being &quot;surface&quot; and Y being &quot;sea_floor&quot; with eventually a 
</em><br />
<em class="quotelev2">&gt;&gt; &quot;where&quot; clause with Z being &quot;sea&quot;.
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; I think that this kind of issues should not be solved on a 
</em><br />
<em class="quotelev2">&gt;&gt; case-by-case basis but addressed in a general context because the 
</em><br />
<em class="quotelev2">&gt;&gt; case-by-case approach always leads to specific solutions...
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; /S?bastien
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev2">&gt;&gt; ----- Original Message -----
</em><br />
<em class="quotelev3">&gt;&gt; &gt; From: &quot;Martin Juckes - UKRI STFC&quot; &lt;martin.juckes at stfc.ac.uk&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; To: &quot;Karl Taylor&quot; &lt;taylor13 at llnl.gov&gt;, &quot;Sebastien Villaume&quot;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Cc: cf-metadata at cgd.ucar.edu, &quot;Jonathan Gregory&quot;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Sent: Monday, 16 April, 2018 10:02:28
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Subject: Re: use of
</em><br />
<em class="quotelev3">&gt;&gt; &gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev2">&gt;&gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Hello Karl, Sebastien,
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; I'm not sure that I've understood the whole thread, but to me it 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; looks as though the coordinate bounds would be the natural place to 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; deal with this, though it would require a modification to the convention.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; There was a related, inconclusive, discussion in 2016 on the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; encoding of histogram bin ranges in the case where some bins are 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; not defined by the numerical ranges that the current convention 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; permits for coordinate bounds 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; (<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/059037.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/059037.html</a>
</em><br />
<em class="quotelev3">&gt;&gt; &gt; ). The idea of using flag_values and flag_meanings came up. For the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; current example you could set the lower value of the depth 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; coordinate bounds of the vertical integral to -50000 [m] and then 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; have flag_values=-50000, flag_meanings=&quot;ocean_floor&quot;.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Alternatively, there appears to be agreement in
</em><br />
<em class="quotelev3">&gt;&gt; &gt; <a href="https://cf-trac.llnl.gov/trac/ticket/152">https://cf-trac.llnl.gov/trac/ticket/152</a> that the cell_methods 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; construction &quot;mean where X&quot; does not need to me restricted to 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; horizontal spatial means. That ticket discusses using it for 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; temporal means, but it could also be used for depth means, as in:
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; &quot;cell_methods = mean: depth where sea&quot;.  The idea that the CF area type &quot;sea&quot;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; can be depth dependant was accepted in a discussion of usage in 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; CMIP6, where we have many variables which require the surface sea 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; extent, and others which require the total sea extent, including 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; the small but significant portion extending under floating ice shelves.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; This would make the flag_values/meanings construction redundant.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Incidentally, the cell_methods string can be parsed by David 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Hassell's  cf python library 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; (<a href="https://pypi.python.org/pypi/cf-python">https://pypi.python.org/pypi/cf-python</a>
</em><br />
<em class="quotelev3">&gt;&gt; &gt; ). This doesn't entirely solve the problem because of the variable 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; quality of the information that has been encoded in the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; cell_methods string in the past ... but it does give us a tool to 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; use in our efforts to improve the situation.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; regards,
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Martin
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; ________________________________
</em><br />
<em class="quotelev3">&gt;&gt; &gt; From: CF-metadata &lt;cf-metadata-bounces at cgd.ucar.edu&gt; on behalf of 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Sent: 13 April 2018 17:30
</em><br />
<em class="quotelev3">&gt;&gt; &gt; To: Karl Taylor
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Cc: cf-metadata at cgd.ucar.edu; Jonathan Gregory
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Subject: Re: [CF-metadata] use of
</em><br />
<em class="quotelev3">&gt;&gt; &gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Hi Karl,
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; I tend to agree that this solution is far from ideal.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; The core issue is that there is no clear separation between a 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; parameter (diagnostic quantities, observables, coordinates etc.) 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; and what you do with it in CF: everything is squeezed in the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; standard name and in the cell_method (in a non-consistent way).
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; In an ideal world, the standard names should only describe bare 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; parameters and everything related to processing should go into 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; something else. But many standard names make reference to time, 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; space, post-processing, extra useful informations, etc.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; The cell_method attribute is in principle there to represent any 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; (post-)processing but it is not always the case, sometimes the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; informations are in the standard name directly or sometimes the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; cell_method is too limited to describe what needs to be described. 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; like in my case here...
</em><br />
<em class="quotelev3">&gt;&gt; &gt; To maintain a strict separation, the &quot;integral_wrt_X_of_Y&quot; should 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; be one of the cell_method from the beginning.... I also never 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; understood why &quot;difference&quot; is not a valid method in the table E.1 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; of appendix E since &quot;sum&quot; is there.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; I noticed few months ago a thread discussing ontologies in 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; connection with the proposal of standard names for isotopes.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; Hundreds of new standard names were added. To me this was all wrong:
</em><br />
<em class="quotelev3">&gt;&gt; &gt; only few standard names should have been
</em><br />
<em class="quotelev3">&gt;&gt; &gt; added: mass_concentration, density, optical_depth, whatever 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; physical property you like. Each variable holding one of these 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; standard name should point to a scalar through a controlled 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; attribute. The scalar should  name the isotope or the type of 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; particle or the chemical constituent, etc.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; I can already see coming hundreds of new standard names each time a 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; new useful property for isotopes or molecules is required.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; You will not prevent explosion of standard names if you don't limit 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; them to the &quot;what&quot;. The &quot;when&quot; should go in the time variable(s), 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; the &quot;where&quot; in the spatial variables, and finally the &quot;how&quot; either 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; in the cell_method with clear controlled vocabulary or using a new 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; controlled mechanism yet to define.
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; /S?bastien
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev3">&gt;&gt; &gt; ----- Original Message -----
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; From: &quot;Karl Taylor&quot; &lt;taylor13 at llnl.gov&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; To: &quot;Sebastien Villaume&quot; &lt;sebastien.villaume at ecmwf.int&gt;, &quot;Lowry, Roy K.&quot;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; &lt;rkl at bodc.ac.uk&gt;, &quot;Jonathan Gregory&quot;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; &lt;j.m.gregory at reading.ac.uk&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; Cc: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; Sent: Friday, 13 April, 2018 16:32:39
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; Subject: Re: [CF-metadata] use of
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev3">&gt;&gt; &gt; 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; Dear all,
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; I am wary of a &quot;slippery slope&quot; if every calculation performed on 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; a quantity results in a new standard name for that quantity.  We 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; have tried to avoid that in most cases by use of the cell methods, 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; bounds, and climatology attributes.  Isn't there some way to 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; accommodate this in a more general way?  I agree that use of 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; non-controlled vocabulary is not ideal, but I would be interested 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; in the kind of use case you envision where you would have to parse 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; it? How does definition of a new standard name satisfy your use 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; case of machine interpretation?
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; best regards,
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; Karl
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt; On 4/13/18 8:22 AM, Sebastien Villaume wrote:
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; Dear Jonathan, Roy and Karl,
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; thank you for your valuable inputs.
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; I am not very fond of the cell_method solution: I am already very 
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; reluctant using it because it is not controlled vocabulary and it 
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; is a nightmare to parse to extract valuable metadata 
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; automatically. Now that I am discovering that one can use a 
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; standard_name with no attached bounds instead of a proper 
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; variable name with associated bounds makes me even more reluctant to use it!
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; But I am not in a favour of encoding huge values of depth either...
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; ... which leaves me being in favour of proposing new standard 
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; names by prefixing existing standard names with &quot;ocean_&quot; !
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; /S?bastien
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt;
</em><br />
<em class="quotelev1">&gt;&gt; &gt;&gt;&gt; ----- Original Message -----
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; From: &quot;Karl Taylor&quot; &lt;taylor13 at llnl.gov&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; Sent: Wednesday, 11 April, 2018 18:45:07
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; Subject: Re: [CF-metadata] use of 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; Dear Sebastien,
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; One option would be to include in cell_methods the following:
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; cell_methods = &quot;depth: mean (from surface to sea floor)&quot;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; where depth is the standard name for the vertical coordinate, as 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; provided for  in 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/">http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/</a>
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; c f-conventions.html#cell-methods-no-coordinates
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; , and the information in parentheses is non-standard, as 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; provided for in 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; <a href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/">http://cfconventions.org/Data/cf-conventions/cf-conventions-1.7/</a>
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; c f-conventions.html#recording-spacing-original-data
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; .
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; I, for one, wouldn't like to see every integral over an entire 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; domain to require a new standard_name.  the standard_names 
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; should name the variable itself and not indicate &quot;method&quot;.
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; best wishes,
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; Karl
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; On 4/11/18 10:28 AM, Jonathan Gregory wrote:
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; Dear Sebastien
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; There is an existing standard name of
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt;     ocean_integral_wrt_depth_of_sea_water_temperature
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; and the one you propose has the same pattern, so it would seem 
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; all right to me, and appropriate for your purpose. Otherwise 
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; you could set a very large lower depth boundary with the 
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; understanding that integrating below the sea floor added 
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; nothing, but that's a bit ugly.
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; Best wishes
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; Jonathan
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; ----- Forwarded message from Sebastien Villaume 
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; -----
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Date: Wed, 11 Apr 2018 13:57:48 +0000
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; From: Sebastien Villaume &lt;sebastien.villaume at ecmwf.int&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Subject: [CF-metadata] use of
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; X-Mailer: Zimbra 8.6.0_GA_1200 (ZimbraWebClient - FF57
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; (Linux)/8.6.0_GA_1200)
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Dear list,
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; In 2016/2017, a list of new standard names for NEMO output has 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; been proposed and accepted :
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058964">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2016/058964</a>.
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; h
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; tml
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; from that initial list of standard names and after many 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; iterations, one of the accepted standard name was:
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; standard name:
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; units: m
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; But the initial list of proposed standard names had actually 2 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; entries for this standard name:
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; - one entry which is the one that eventually made it to the 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; list (the standard name above)
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; - a second entry for the case where the depth is the total 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; depth, from surface to sea floor:
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ocean_integral_wrt_depth_of_sea_water_practical_salinity
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; During the discussion:
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    -  Alison argued that the 2 entries were actually identical, the second one
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    being simply a special case of the first one, i.e. when the depth corresponds
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    to the total depth. She proposed later on to simply dropped the second entry.
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    -  Antonio Cofino argued that in this case the reference to Axis and to bounds
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    should be removed from the description because in the case of the total depth,
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;    the bounds are not a constant (but function of lat and lon)
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; In the published description the reference to an axis and to 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; bounds is still there.
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; My immediate problem is that I want to produce a parameter 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; that is the integral wrt the whole depth of the salinity and I 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; don't know how to do this.
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; for a fixed depth of 500m for instance, the metadata for the parameter would be:
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; float salinity500(t, y, x) ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       salinity500:standard_name = &quot;integral_wrt_depth_of_sea_water_practical_salinity&quot;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       salinity500:units = &quot;m&quot; ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       salinity500:coordinates = &quot;time dpt500 latitude 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; longitude&quot; ; float dpt500 ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       dpt500:standard_name = &quot;depth_below_geoid&quot; ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       dpt500:units = &quot;m&quot; ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       dpt500:axis = &quot;Z&quot; ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       dpt500:positive = &quot;down&quot; ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;       dpt500:bounds = dpt500_bnds ; float dpt500_bnds(bnds) ;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; and in the dpt500_bnds array, I have : [0., 500.]
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; for the total depth, I can't use the same mechanism, because 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; the second value of the bounds is not a constant, it is a 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; function of lat and lon: [0., f(lat,lon)]
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; How can I solve this?
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Is it possible to reconsider the standard name 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ocean_integral_wrt_depth_of_sea_water_practical_salinity (or a 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; variation of it)?
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Another approach could be to keep the existing standard name, 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; add a new standard name that represents the total water column 
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; and use it as an auxiliary coordinate.
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; thanks,
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ____________________________________
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Dr. S?bastien Villaume
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; M.A.R.S. Analyst
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ECMWF Data Governance facilitator
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ECMWF
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Shinfield Park,
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Reading RG2 9AX, UK
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; +44 (0)118 949 9301
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; +44 (0)7825 521592
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; sebastien.villaume at ecmwf.int
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ____________________________________
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev4">&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; ----- End forwarded message ----- 
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt;&gt; &gt;&gt;&gt;&gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; _______________________________________________
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt;&gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev2">&gt;&gt; &gt;&gt; &gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt;&gt; &gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt;&gt; &gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt;&gt; &gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt;&gt; &gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt; 
</em><br />
<em class="quotelev1">&gt; ----- End forwarded message -----
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<span id="received"><dfn>Received on</dfn> Thu May 24 2018 - 09:22:25 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start9057">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./9058.html" title="Next message in the list">Hamilton, Steve: "[CF-metadata] Platform Heave"</a></li>
<li><dfn>Previous message</dfn>: <a href="./9056.html" title="Previous message in the list">Martin Juckes - UKRI STFC: "[CF-metadata] PMIP: standard names for the CMIP6 data request: tws, lighning flashes, wetland emissions, etc"</a></li>
<li><dfn>In reply to</dfn>: <a href="./9036.html" title="Message to which this message replies">Sebastien Villaume: "[CF-metadata] use of integral_wrt_depth_of_sea_water_practical_salinity"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg9057" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg9057" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg9057" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg9057" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:24 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./9056.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./9058.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
