<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.3.0, see http://www.hypermail-project.org/" />
<title>[CF-metadata] New standard_name of quality_flag for corresponding quality control variables from Andrew Barna on 2019-07-23 (cf-metadata-mailman)</title>
<meta name="Author" content="Andrew Barna (abarna)" />
<meta name="Subject" content="[CF-metadata] New standard_name of quality_flag for corresponding quality control variables" />
<meta name="Date" content="2019-07-23" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
.period {font-weight: bold}
</style>
</head>
<body>
<div class="head">
<a style="text-decoration:none" href="./9784.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./9786.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a><h1>[CF-metadata] New standard_name of quality_flag for corresponding quality control variables</h1>
<!-- received="Tue Jul 23 15:28:50 2019" -->
<!-- isoreceived="20190723142850" -->
<!-- sent="Tue, 23 Jul 2019 14:28:50 -0700" -->
<!-- isosent="20190723212850" -->
<!-- name="Andrew Barna" -->
<!-- email="abarna" -->
<!-- subject="[CF-metadata] New standard_name of quality_flag for corresponding quality control variables" -->
<!-- id="CAGPbRPYmz_OHecUiy7etoDyH_dPSwKnAqEo3KxsYqaDMNfN4pA_at_mail.gmail.com" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="cb219c4d-8e26-23be-e274-1df8634bc827_at_ou.edu" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start9785" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ More options (<a href="#options2">top</a>, <a href="#options3">bottom</a>) ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="./9786.html" accesskey="d" title="Kehoe, Kenneth E.: &quot;[CF-metadata] New standard_name of quality_flag for corresponding quality control variables&quot;">Next message</a> ]
[ <a href="./9784.html" title="Kehoe, Kenneth E.: &quot;[CF-metadata] New standard_name of quality_flag for corresponding quality control variables&quot;">Previous message</a> ]
[ <a href="./9784.html" title="Kehoe, Kenneth E.: &quot;[CF-metadata] New standard_name of quality_flag for corresponding quality control variables&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="./9786.html" accesskey="t" title="Kehoe, Kenneth E.: &quot;[CF-metadata] New standard_name of quality_flag for corresponding quality control variables&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg9785" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg9785" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg9785" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg9785" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Andrew Barna &lt;<a href="mailto:abarna?Subject=Re%3A%20%5BCF-metadata%5D%20New%20standard_name%20of%20quality_flag%20for%20corresponding%20quality%20control%20variables">abarna</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: Tue, 23 Jul 2019 14:28:50 -0700</span><br />
</address>
<br />
Ken,
<br />
<br />I think I'm confused by the text of the proposed change to the definition
<br />
of status_flag.
<br />
<br />In your proposed change the &quot;quality&quot; wording of the status_flag definition
<br />
was dropped. Here is the first sentence of each:
<br />
Current: A variable with the standard name of status_flag contains an
<br />
indication of quality or other status of another data variable.
<br />
Proposed: A variable with the standard name of status_flag contains an
<br />
indication of status of another data variable.
<br />
<br />Perhaps the following for &quot;status_flag&quot;:
<br />
A variable with the standard name of status_flag contains an indication of
<br />
quality or other status of another data variable. The linkage between the
<br />
data variable and the variable with the standard_name of status_flag is
<br />
achieved using the ancillary_variables attribute. *A variable which
<br />
contains purely subjective quality information may use the standard_name of
<br />
quality_flag.*
<br />
<br />That is, keep the current definition, but also inform of a more restrictive
<br />
option. I don't see any way around not reading the flag_meanings with any
<br />
of these options.
<br />
<br />-Barna
<br />
<br /><br />On Tue, Jul 23, 2019 at 1:03 PM Kehoe, Kenneth E. &lt;kkehoe at ou.edu&gt; wrote:
<br />
<br /><em class="quotelev1">&gt; Barna,
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I see this as an optional addition to narrow the standard. It does not
</em><br />
<em class="quotelev1">&gt; prohibit someone from using status_flag (as a standard_name or a
</em><br />
<em class="quotelev1">&gt; standard_name modifier) from a previous convention version
</em><br />
<em class="quotelev1">&gt; implementation nor invalidate that use from a previous convention
</em><br />
<em class="quotelev1">&gt; version. In your example the use of status_flag is a mixture of state
</em><br />
<em class="quotelev1">&gt; and quality. I see this new name as a way to improve things going
</em><br />
<em class="quotelev1">&gt; forward. Since the historical WOCE example uses state and quality with
</em><br />
<em class="quotelev1">&gt; some additional rules not listed in the CF standard it would be up to
</em><br />
<em class="quotelev1">&gt; the user to understand how to use the variable. Without seeing the WOCE
</em><br />
<em class="quotelev1">&gt; data I can't make a specific suggestion.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; I don't know about any rules regarding a restriction. I think the
</em><br />
<em class="quotelev1">&gt; general concept of CF is to set the minimum rules. Additional rules
</em><br />
<em class="quotelev1">&gt; applied by another group on top of CF is allowed. For example my
</em><br />
<em class="quotelev1">&gt; organization uses additional attributes not defined in CF. I see
</em><br />
<em class="quotelev1">&gt; quality_flag as a narrowing of the rules of status_flag not replace it.
</em><br />
<em class="quotelev1">&gt; status_flag can still have a mixture of state and quality if the data
</em><br />
<em class="quotelev1">&gt; provider prefers to do it that way. quality_flag can only have quality
</em><br />
<em class="quotelev1">&gt; information. The determination of what is quality information is
</em><br />
<em class="quotelev1">&gt; actually up to the data provider to decide.
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; Ken
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; On 2019-7-23 13:33, Andrew Barna wrote:
</em><br />
<em class="quotelev2">&gt; &gt; Ken,
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Ok I see how this can be useful. Two more questions:
</em><br />
<em class="quotelev2">&gt; &gt; * How would you deal with &quot;legacy&quot; flag schemes which mix &quot;status&quot; and
</em><br />
<em class="quotelev2">&gt; &gt; &quot;quality&quot; already? I'm thinking of WOCE CTD as an example where &quot;7&quot;
</em><br />
<em class="quotelev2">&gt; &gt; means Despiked (a status) and &quot;3&quot; means Questionable measurement (a
</em><br />
<em class="quotelev2">&gt; &gt; quality). The way my seagoing group have dealt with both is by having
</em><br />
<em class="quotelev2">&gt; &gt; the &quot;quality&quot; override &quot;status&quot; if the quality is anything other than
</em><br />
<em class="quotelev2">&gt; &gt; &quot;good&quot;, e.g. a questionable measurement which has been despiked gets
</em><br />
<em class="quotelev2">&gt; &gt; flag 3.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; * Are there rules in CF regarding restricting an existing definition?
</em><br />
<em class="quotelev2">&gt; &gt; I imagine there are many datasets already using the &quot;status_flag&quot; name
</em><br />
<em class="quotelev2">&gt; &gt; as either a stand alone standard name or a standard name modifier.
</em><br />
<em class="quotelev2">&gt; &gt; This change seems to be &quot;breaking&quot; in that previously compliant
</em><br />
<em class="quotelev2">&gt; &gt; datasets would now have quality information in a purely status field.
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; Thanks
</em><br />
<em class="quotelev2">&gt; &gt; -Barna
</em><br />
<em class="quotelev2">&gt; &gt;
</em><br />
<em class="quotelev2">&gt; &gt; On Tue, Jul 23, 2019 at 10:08 AM Kehoe, Kenneth E. &lt;kkehoe at ou.edu&gt;
</em><br />
<em class="quotelev1">&gt; wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Martin,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Thanks for your reply. I would prefer to keep the proposal simple. My
</em><br />
<em class="quotelev1">&gt; example of a weighted mean was just one I created off the top of my head. I
</em><br />
<em class="quotelev1">&gt; don't see it as something to actually look into implementing.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; I need a way to indicate a variable is a quality status field. The
</em><br />
<em class="quotelev1">&gt; distinction that the status field only contains quality information is the
</em><br />
<em class="quotelev1">&gt; important distinction. The variable indicated with quality_flag will need
</em><br />
<em class="quotelev1">&gt; to also use flag_meanings, same as status_flag. Hence my reason for
</em><br />
<em class="quotelev1">&gt; choosing quality_flag to follow a similar naming pattern.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Barna,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Without a distinction that the entire variable is a quality variable
</em><br />
<em class="quotelev1">&gt; the user is forced to parse the flag_meanings to see if the variable
</em><br />
<em class="quotelev1">&gt; applies. This would also encourage a data provider to mix quality with
</em><br />
<em class="quotelev1">&gt; source or instrument state or something else in the same variable. That
</em><br />
<em class="quotelev1">&gt; would be very difficult to understand.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; As Martin points out quality is more subjective than other status
</em><br />
<em class="quotelev1">&gt; information. A user may need to choose what parts of the quality variable
</em><br />
<em class="quotelev1">&gt; to apply. I would prefer we not conflate absolute information with
</em><br />
<em class="quotelev1">&gt; subjective information. But we need a way to distinguish the variable
</em><br />
<em class="quotelev1">&gt; contains absolute information vs a variable that contains more subjective
</em><br />
<em class="quotelev1">&gt; information.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; To expand on Martin's example imagine a profiling instrument that has a
</em><br />
<em class="quotelev1">&gt; shutter to protect the laser from rain. The laser will always send out
</em><br />
<em class="quotelev1">&gt; pulses and the receiver will always be on receiving the return from laser
</em><br />
<em class="quotelev1">&gt; pulse. To know when the shutter is in the open state where the instrument
</em><br />
<em class="quotelev1">&gt; is profiling we would use a state variable with a simple flag_values method.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; short shutter (time)
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    shutter:long_name = &quot;Shutter state&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    shutter:units = '1'
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    shutter:flag_values = 0, 1
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    shutter:flag_meanings = &quot;closed open&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    shutter:standard_name = &quot;status_flag&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; This variable is just indicating the position of the shutter. There is
</em><br />
<em class="quotelev1">&gt; no ambiguity with it's use. If a user wants to use the data for atmospheric
</em><br />
<em class="quotelev1">&gt; reasons they should filter to only use data where profiling. In fact we can
</em><br />
<em class="quotelev1">&gt; implement this variable into our code by only using data where shutter is
</em><br />
<em class="quotelev1">&gt; set to open.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Here is an example of more subjective quality variable.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; short quality_variable (time)
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    quality_variable:long_name = &quot;Quality variable for linked data
</em><br />
<em class="quotelev1">&gt; variable&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    quality_variable:units = '1'
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    quality_variable:flag_masks= 1, 2, 4, 8, 16, 32
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    quality_variable:flag_meanings = &quot;Shutter_not_open
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Laser_below_80_percent_power
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Laser_below_60_percent_power
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Laser_below_40_percent_power
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Bird_poop_may_be_on_sensor
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Bird_poop_is_on_sensor&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    quality_variable:flag_meanings = &quot;Bad Suspect Suspect Bad Suspect
</em><br />
<em class="quotelev1">&gt; Bad&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    quality_variable:standard_name = &quot;quality_flag&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; In this example there are three indications when the laser is less than
</em><br />
<em class="quotelev1">&gt; 100%. It would be up to the user to decide what percentage is the limit
</em><br />
<em class="quotelev1">&gt; where they do not want to use the data. This is more subjective and
</em><br />
<em class="quotelev1">&gt; dependent on the research techniques to determine if the issue a problem or
</em><br />
<em class="quotelev1">&gt; not. It is also up to the user to determine if the chance of bird poop on
</em><br />
<em class="quotelev1">&gt; the sensor is an issue or if they are OK with the risk of using the data.
</em><br />
<em class="quotelev1">&gt; And to be nice to the user we have also pulled in information from the
</em><br />
<em class="quotelev1">&gt; shutter variable so the user can decided to only use the quality_variable
</em><br />
<em class="quotelev1">&gt; instead of using both shutter and quality_variable. This is up to the data
</em><br />
<em class="quotelev1">&gt; provider to decide. Some providers see the state of the shutter as quality
</em><br />
<em class="quotelev1">&gt; information, some would not. There is no requirements put on the quality
</em><br />
<em class="quotelev1">&gt; variable as to how it is used. It is just a quality information variable
</em><br />
<em class="quotelev1">&gt; following the same rules as a CF state variable.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; I have also included an attribute that I am not currently proposing
</em><br />
<em class="quotelev1">&gt; called flag_assessment. This is a subjective statement from the data
</em><br />
<em class="quotelev1">&gt; provider on their opinion of the quality of the data. A user can search for
</em><br />
<em class="quotelev1">&gt; the word &quot;Bad&quot;  and then exclude only that data from analysis where the
</em><br />
<em class="quotelev1">&gt; mask is set. This would take all the guess work of quality away from the
</em><br />
<em class="quotelev1">&gt; user if they decided to take the opinion of the data provider. I'm not
</em><br />
<em class="quotelev1">&gt; currently proposing the addition of flag_meanings, this is just an example
</em><br />
<em class="quotelev1">&gt; of how quality can be expanded to be more simple for a user but not take
</em><br />
<em class="quotelev1">&gt; away the user's ability to make their own decision. Everyone has strong
</em><br />
<em class="quotelev1">&gt; opinions on quality of data.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Thanks,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Ken
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; On 2019-7-23 06:50, Martin Juckes - UKRI STFC wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Dear Ken,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; thanks for your response to me below.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Would it be fair to suggest that &quot;status&quot; should, as far as possible,
</em><br />
<em class="quotelev1">&gt; reflect a generic objective classification, with terms such as
</em><br />
<em class="quotelev1">&gt; &quot;sensor_nonfunctional&quot; which have a comparable meaning for all datasets,
</em><br />
<em class="quotelev1">&gt; while &quot;quality&quot; is a subjective *measure* with a meaning that may from
</em><br />
<em class="quotelev1">&gt; dataset to dataset? E.g. if dataset A has a maximum &quot;quality&quot; of 11 and
</em><br />
<em class="quotelev1">&gt; dataset B only goes up to 10, it doesn't necessarily imply that dataset A
</em><br />
<em class="quotelev1">&gt; is in any sense better and B.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; If you want to use it in weighted means, perhaps it should be
</em><br />
<em class="quotelev1">&gt; &quot;quality_measure&quot; rather than &quot;quality_flag&quot;? With &quot;status_flag&quot; the order
</em><br />
<em class="quotelev1">&gt; of integer values does not have any meaning, but with quality perhaps it
</em><br />
<em class="quotelev1">&gt; would make more sense have some concept of a sequence of quality settings
</em><br />
<em class="quotelev1">&gt; (so that, for example &quot;1&quot; always indicates a quality between &quot;0&quot; and &quot;2&quot;
</em><br />
<em class="quotelev1">&gt; within a dataset, but could have different meanings in different datasets).
</em><br />
<em class="quotelev1">&gt; Could the quality also be expressed as a floating point number without any
</em><br />
<em class="quotelev1">&gt; flag meanings?
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Responding to a point Barna raised: it is certainly possible to have
</em><br />
<em class="quotelev1">&gt; more than one &quot;status_flag&quot; variable, but I don't think it is ideal: if
</em><br />
<em class="quotelev1">&gt; information needs to be split across multiple variables we generally like
</em><br />
<em class="quotelev1">&gt; to describe the difference between the variables in the standard name or in
</em><br />
<em class="quotelev1">&gt; other metadata. In this case, I think there is a good case for using a new
</em><br />
<em class="quotelev1">&gt; standard name.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; regards,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Martin
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; ________________________________
</em><br />
<em class="quotelev3">&gt; &gt;&gt; From: CF-metadata &lt;cf-metadata-bounces at cgd.ucar.edu&gt; on behalf of
</em><br />
<em class="quotelev1">&gt; Andrew Barna &lt;abarna at ucsd.edu&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Sent: 23 July 2019 00:23
</em><br />
<em class="quotelev3">&gt; &gt;&gt; To: Kehoe, Kenneth E.
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Cc: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Subject: Re: [CF-metadata] New standard_name of quality_flag for
</em><br />
<em class="quotelev1">&gt; corresponding quality control variables
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Ken,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; I guess, I don't see this proposed change as necessary since the
</em><br />
<em class="quotelev3">&gt; &gt;&gt; distinction between the terms &quot;quality&quot; and &quot;status&quot; is really done in
</em><br />
<em class="quotelev3">&gt; &gt;&gt; the &quot;flag_meanings&quot; attribute and is basically free form/uncontrolled.
</em><br />
<em class="quotelev3">&gt; &gt;&gt; These attributes need to be used by this new name as well.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Let me rephrase my suggestion/question:
</em><br />
<em class="quotelev3">&gt; &gt;&gt; If this proposal is not adopted, but an example of how to use a
</em><br />
<em class="quotelev3">&gt; &gt;&gt; variable, with the standard name of &quot;status_flag&quot;, to only indicate
</em><br />
<em class="quotelev3">&gt; &gt;&gt; data quality is included in the document, would that help?
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; -Barna
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; On Mon, Jul 22, 2019 at 1:22 PM Kehoe, Kenneth E. &lt;kkehoe at ou.edu&gt;
</em><br />
<em class="quotelev1">&gt; wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Barna,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Yes an update to the CF document should follow after the new
</em><br />
<em class="quotelev3">&gt; &gt;&gt; standard_name is implemented. I think multiple examples are needed since
</em><br />
<em class="quotelev3">&gt; &gt;&gt; status_flag covers many different types of state variables.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Ken
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; On 2019-7-22 10:35, Andrew Barna wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Hi Martin, Ken,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Is there anything wrong with including multiple &quot;status_flag&quot;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; variables to capture all separate state you wish? The CF document
</em><br />
<em class="quotelev3">&gt; &gt;&gt; unfortunately only includes an example of how to encode the status of
</em><br />
<em class="quotelev3">&gt; &gt;&gt; a sensor, but the actual meanings of the flag values are entirely up
</em><br />
<em class="quotelev3">&gt; &gt;&gt; to you, and this will not change with this proposal. Perhaps the CF
</em><br />
<em class="quotelev3">&gt; &gt;&gt; document would benefit from additional examples (e.g. one that only
</em><br />
<em class="quotelev3">&gt; &gt;&gt; shows data quality flags).
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; -Barna
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; On Mon, Jul 22, 2019 at 9:04 AM Kehoe, Kenneth E. &lt;kkehoe at ou.edu&gt;
</em><br />
<em class="quotelev1">&gt; wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Hi Martin,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; I see status encompassing multiple metadata pieces of information. For
</em><br />
<em class="quotelev3">&gt; &gt;&gt; example it could be a state of the instrument as it cycles through a
</em><br />
<em class="quotelev3">&gt; &gt;&gt; pre-programed routine (Look at calibration target, look at sky, look at
</em><br />
<em class="quotelev3">&gt; &gt;&gt; ground, look at second calibration target, repeat...). Or the sources of
</em><br />
<em class="quotelev3">&gt; &gt;&gt; the inputs for a model where the availability or some other reason could
</em><br />
<em class="quotelev3">&gt; &gt;&gt; require making a decision on what source(s) to use. For provenance this
</em><br />
<em class="quotelev3">&gt; &gt;&gt; source information is important to report on a time step basis. Or the
</em><br />
<em class="quotelev3">&gt; &gt;&gt; status could be a data providers method to provide uncertainty
</em><br />
<em class="quotelev3">&gt; &gt;&gt; information (I see this as incorrect but some people do see it this
</em><br />
<em class="quotelev3">&gt; &gt;&gt; way). Each of these are important metadata but the method of use is
</em><br />
<em class="quotelev3">&gt; &gt;&gt; different than a strictly quality variable. A quality variable provides
</em><br />
<em class="quotelev3">&gt; &gt;&gt; information indicating if the data should be used or possibly could be
</em><br />
<em class="quotelev3">&gt; &gt;&gt; used in a weighted mean method to favor high quality data over low
</em><br />
<em class="quotelev3">&gt; &gt;&gt; quality data. The way the metadata is used is different depending on the
</em><br />
<em class="quotelev3">&gt; &gt;&gt; metadata type. A state of the instrument would be used for sub-setting
</em><br />
<em class="quotelev3">&gt; &gt;&gt; calibration vs. data. There is no ambiguity in this as data from a
</em><br />
<em class="quotelev3">&gt; &gt;&gt; calibration target is not used in a weather research analysis. But
</em><br />
<em class="quotelev3">&gt; &gt;&gt; quality is more subjective and is decided by the data user. If the
</em><br />
<em class="quotelev3">&gt; &gt;&gt; quality variable has 20 different quality tests the user would need to
</em><br />
<em class="quotelev3">&gt; &gt;&gt; decided if all 20 test results should be used or only a subset. Also,
</em><br />
<em class="quotelev3">&gt; &gt;&gt; the code for applying the quality is different than the state of the
</em><br />
<em class="quotelev3">&gt; &gt;&gt; instrument view (in my example above).
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; It is possible to have a quality test result from the state of the
</em><br />
<em class="quotelev3">&gt; &gt;&gt; instrument, but not the other way around (typically). So I need a way to
</em><br />
<em class="quotelev3">&gt; &gt;&gt; distinguish the two for automated or semi-automated tools. Hence my
</em><br />
<em class="quotelev3">&gt; &gt;&gt; point of quality_flag essentially being a subset of status_flag
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Ken
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; On 2019-7-22 02:57, Martin Juckes - UKRI STFC wrote:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Dear Ken,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Can you expand on the distinction between &quot;quality&quot; and &quot;status&quot;? I
</em><br />
<em class="quotelev1">&gt; understand that they are different in principle, but, in order to support
</em><br />
<em class="quotelev1">&gt; this new standard name I think we need a clear objective statement of how
</em><br />
<em class="quotelev1">&gt; we would want to distinguish between them in CF.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; The conventions section on flags (3.5) mixes the two up (
</em><br />
<em class="quotelev1">&gt; <a href="http://cfconventions.org/cf-conventions/cf-conventions.html#flags">http://cfconventions.org/cf-conventions/cf-conventions.html#flags</a> ), so
</em><br />
<em class="quotelev1">&gt; some re-wording of the document would also be needed,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; regards,
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Martin
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; ________________________________
</em><br />
<em class="quotelev3">&gt; &gt;&gt; From: CF-metadata &lt;cf-metadata-bounces at cgd.ucar.edu&gt; on behalf of
</em><br />
<em class="quotelev1">&gt; Kehoe, Kenneth E. &lt;kkehoe at ou.edu&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Sent: 19 July 2019 06:42
</em><br />
<em class="quotelev3">&gt; &gt;&gt; To: cf-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Subject: [CF-metadata] New standard_name of quality_flag for
</em><br />
<em class="quotelev1">&gt; corresponding quality control variables
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Dear CF,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; I am proposing a new standard name of &quot;quality_flag&quot; to indicate a
</em><br />
<em class="quotelev1">&gt; variable is purely a quality control variable. A quality control variable
</em><br />
<em class="quotelev1">&gt; would use flag_values or flag_masks along with flag_meanings to allow
</em><br />
<em class="quotelev1">&gt; declaring levels of quality or results from quality indicating tests of the
</em><br />
<em class="quotelev1">&gt; data variable. This variable be a subset of the more general &quot;status_flag&quot;
</em><br />
<em class="quotelev1">&gt; standard name. Currently the definition of &quot;status_flag&quot; is:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; - A variable with the standard name of status_flag contains an
</em><br />
<em class="quotelev1">&gt; indication of quality or other status of another data variable. The linkage
</em><br />
<em class="quotelev1">&gt; between the data variable and the variable with the standard_name of
</em><br />
<em class="quotelev1">&gt; status_flag is achieved using the ancillary_variables attribute.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; This definition includes a variable used to define the state or other
</em><br />
<em class="quotelev1">&gt; status information of a variable and can not be distinguished by standard
</em><br />
<em class="quotelev1">&gt; name alone from a state of the instrument, processing decision, source
</em><br />
<em class="quotelev1">&gt; information, needed metadata about the data variable or other ancillary
</em><br />
<em class="quotelev1">&gt; variable type. Since there is no other way to define a purely quality
</em><br />
<em class="quotelev1">&gt; control variable, the use of &quot;status_flag&quot; is too general for strictly
</em><br />
<em class="quotelev1">&gt; quality control variables. By having a method to define a variable as
</em><br />
<em class="quotelev1">&gt; strictly quality control the results of quality control tests can be
</em><br />
<em class="quotelev1">&gt; applied to the data with a software tool based on requests by the user.
</em><br />
<em class="quotelev1">&gt; This would not affect current datasets that do use &quot;status_flag&quot; nor
</em><br />
<em class="quotelev1">&gt; require a change to the definition outside of the indication that
</em><br />
<em class="quotelev1">&gt; &quot;quality_flag&quot; standard name is available and a better use for pure quality
</em><br />
<em class="quotelev1">&gt; control variables.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Proposed addition:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; quality_flag = A variable with the standard name of quality_flag
</em><br />
<em class="quotelev1">&gt; contains an indication of quality information of another data variable. The
</em><br />
<em class="quotelev1">&gt; linkage between the data variable and the variable or variables with the
</em><br />
<em class="quotelev1">&gt; standard_name of quality_flag is achieved using the ancillary_variables
</em><br />
<em class="quotelev1">&gt; attribute.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Proposed change:
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; status_flag = A variable with the standard name of status_flag contains
</em><br />
<em class="quotelev1">&gt; an indication of status of another data variable. The linkage between the
</em><br />
<em class="quotelev1">&gt; data variable and the variable with the standard_name of status_flag is
</em><br />
<em class="quotelev1">&gt; achieved using the ancillary_variables attribute. For data quality
</em><br />
<em class="quotelev1">&gt; information use quality_flag.
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Thanks,
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Ken
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; --
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Kenneth E. Kehoe
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Research Associate - University of Oklahoma
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Cooperative Institute for Mesoscale Meteorological Studies
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      ARM Climate Research Facility - Data Quality Office
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      e-mail: kkehoe at ou.edu&lt;mailto:kkehoe at ou.edu&gt; | Office: 303-497-4754
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; --
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Kenneth E. Kehoe
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Research Associate - University of Oklahoma
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      Cooperative Institute for Mesoscale Meteorological Studies
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      ARM Climate Research Facility - Data Quality Office
</em><br />
<em class="quotelev3">&gt; &gt;&gt;      e-mail: kkehoe at ou.edu | Office: 303-497-4754
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; --
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Kenneth E. Kehoe
</em><br />
<em class="quotelev3">&gt; &gt;&gt;     Research Associate - University of Oklahoma
</em><br />
<em class="quotelev3">&gt; &gt;&gt;     Cooperative Institute for Mesoscale Meteorological Studies
</em><br />
<em class="quotelev3">&gt; &gt;&gt;     ARM Climate Research Facility - Data Quality Office
</em><br />
<em class="quotelev3">&gt; &gt;&gt;     e-mail: kkehoe at ou.edu | Office: 303-497-4754
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; --
</em><br />
<em class="quotelev3">&gt; &gt;&gt; Kenneth E. Kehoe
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    Research Associate - University of Oklahoma
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    Cooperative Institute for Mesoscale Meteorological Studies
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    ARM Climate Research Facility - Data Quality Office
</em><br />
<em class="quotelev3">&gt; &gt;&gt;    e-mail: kkehoe at ou.edu | Office: 303-497-4754
</em><br />
<em class="quotelev3">&gt; &gt;&gt;
</em><br />
<em class="quotelev3">&gt; &gt;&gt; _______________________________________________
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata mailing list
</em><br />
<em class="quotelev3">&gt; &gt;&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev3">&gt; &gt;&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; --
</em><br />
<em class="quotelev1">&gt; Kenneth E. Kehoe
</em><br />
<em class="quotelev1">&gt;    Research Associate - University of Oklahoma
</em><br />
<em class="quotelev1">&gt;    Cooperative Institute for Mesoscale Meteorological Studies
</em><br />
<em class="quotelev1">&gt;    ARM Climate Research Facility - Data Quality Office
</em><br />
<em class="quotelev1">&gt;    e-mail: kkehoe at ou.edu | Office: 303-497-4754
</em><br />
<em class="quotelev1">&gt;
</em><br />
<em class="quotelev1">&gt; _______________________________________________
</em><br />
<em class="quotelev1">&gt; CF-metadata mailing list
</em><br />
<em class="quotelev1">&gt; CF-metadata at cgd.ucar.edu
</em><br />
<em class="quotelev1">&gt; <a href="http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata">http://mailman.cgd.ucar.edu/mailman/listinfo/cf-metadata</a>
</em><br />
<em class="quotelev1">&gt;
</em><br />
-------------- next part --------------
<br />
An HTML attachment was scrubbed...
<br />
URL: &lt;<a href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20190723/dc1edee9/attachment-0001.html">http://mailman.cgd.ucar.edu/pipermail/cf-metadata/attachments/20190723/dc1edee9/attachment-0001.html</a>&gt;
<br />
<span id="received"><dfn>Received on</dfn> Tue Jul 23 2019 - 15:28:50 BST</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start9785">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="./9786.html" title="Next message in the list">Kehoe, Kenneth E.: "[CF-metadata] New standard_name of quality_flag for corresponding quality control variables"</a></li>
<li><dfn>Previous message</dfn>: <a href="./9784.html" title="Previous message in the list">Kehoe, Kenneth E.: "[CF-metadata] New standard_name of quality_flag for corresponding quality control variables"</a></li>
<li><dfn>In reply to</dfn>: <a href="./9784.html" title="Message to which this message replies">Kehoe, Kenneth E.: "[CF-metadata] New standard_name of quality_flag for corresponding quality control variables"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="./9786.html" title="Next message in this discussion thread">Kehoe, Kenneth E.: "[CF-metadata] New standard_name of quality_flag for corresponding quality control variables"</a></li>
<li><a name="replies" id="replies"></a>
<dfn>Reply</dfn>: <a href="./9786.html" title="Message sent in reply to this message">Kehoe, Kenneth E.: "[CF-metadata] New standard_name of quality_flag for corresponding quality control variables"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options3" id="options3"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="index.html#msg9785" title="Contemporary messages by date">by date</a> ] [ <a href="thread.html#msg9785" title="Contemporary discussion threads">by thread</a> ] [ <a href="subject.html#msg9785" title="Contemporary messages by subject">by subject</a> ] [ <a href="author.html#msg9785" title="Contemporary messages by author">by author</a> ] [ <a href="attachment.html" title="Contemporary messages by attachment">by messages with attachments</a> ]</li>
</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail-project.org/">hypermail 2.3.0</a>
: Wed Jul 27 2022 - 12:59:36 BST
</em></small></p>
</body>
<p><a style="text-decoration:none" href="./9784.html"><img src="./red-arrow-left.jpg" width="50" alt="&lArr;"></a> <a style="text-decoration:none" href="./9786.html"><img src="./red-arrow-right.jpg" width="50" alt="&rArr;"></a></html>
